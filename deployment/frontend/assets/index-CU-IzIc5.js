function lC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ic(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fT={exports:{}},hh={},pT={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oc=Symbol.for("react.element"),cC=Symbol.for("react.portal"),uC=Symbol.for("react.fragment"),dC=Symbol.for("react.strict_mode"),hC=Symbol.for("react.profiler"),fC=Symbol.for("react.provider"),pC=Symbol.for("react.context"),mC=Symbol.for("react.forward_ref"),gC=Symbol.for("react.suspense"),yC=Symbol.for("react.memo"),vC=Symbol.for("react.lazy"),H0=Symbol.iterator;function xC(t){return t===null||typeof t!="object"?null:(t=H0&&t[H0]||t["@@iterator"],typeof t=="function"?t:null)}var mT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gT=Object.assign,yT={};function na(t,e,n){this.props=t,this.context=e,this.refs=yT,this.updater=n||mT}na.prototype.isReactComponent={};na.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};na.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vT(){}vT.prototype=na.prototype;function Dg(t,e,n){this.props=t,this.context=e,this.refs=yT,this.updater=n||mT}var Vg=Dg.prototype=new vT;Vg.constructor=Dg;gT(Vg,na.prototype);Vg.isPureReactComponent=!0;var W0=Array.isArray,xT=Object.prototype.hasOwnProperty,Og={current:null},wT={key:!0,ref:!0,__self:!0,__source:!0};function _T(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)xT.call(e,r)&&!wT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:oc,type:t,key:i,ref:o,props:s,_owner:Og.current}}function wC(t,e){return{$$typeof:oc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Lg(t){return typeof t=="object"&&t!==null&&t.$$typeof===oc}function _C(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var q0=/\/+/g;function If(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_C(""+t.key):e.toString(36)}function Iu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case oc:case cC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+If(o,0):r,W0(s)?(n="",t!=null&&(n=t.replace(q0,"$&/")+"/"),Iu(s,e,n,"",function(d){return d})):s!=null&&(Lg(s)&&(s=wC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(q0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",W0(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+If(i,a);o+=Iu(i,e,n,c,s)}else if(c=xC(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+If(i,a++),o+=Iu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qc(t,e,n){if(t==null)return t;var r=[],s=0;return Iu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function TC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kt={current:null},Pu={transition:null},EC={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:Pu,ReactCurrentOwner:Og};function TT(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Qc,forEach:function(t,e,n){Qc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qc(t,function(){e++}),e},toArray:function(t){return Qc(t,function(e){return e})||[]},only:function(t){if(!Lg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=na;_e.Fragment=uC;_e.Profiler=hC;_e.PureComponent=Dg;_e.StrictMode=dC;_e.Suspense=gC;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EC;_e.act=TT;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Og.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)xT.call(e,c)&&!wT.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:oc,type:t.type,key:s,ref:i,props:r,_owner:o}};_e.createContext=function(t){return t={$$typeof:pC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fC,_context:t},t.Consumer=t};_e.createElement=_T;_e.createFactory=function(t){var e=_T.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:mC,render:t}};_e.isValidElement=Lg;_e.lazy=function(t){return{$$typeof:vC,_payload:{_status:-1,_result:t},_init:TC}};_e.memo=function(t,e){return{$$typeof:yC,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=Pu.transition;Pu.transition={};try{t()}finally{Pu.transition=e}};_e.unstable_act=TT;_e.useCallback=function(t,e){return Kt.current.useCallback(t,e)};_e.useContext=function(t){return Kt.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return Kt.current.useDeferredValue(t)};_e.useEffect=function(t,e){return Kt.current.useEffect(t,e)};_e.useId=function(){return Kt.current.useId()};_e.useImperativeHandle=function(t,e,n){return Kt.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return Kt.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return Kt.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return Kt.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return Kt.current.useReducer(t,e,n)};_e.useRef=function(t){return Kt.current.useRef(t)};_e.useState=function(t){return Kt.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return Kt.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return Kt.current.useTransition()};_e.version="18.3.1";pT.exports=_e;var C=pT.exports;const Z=ic(C),bC=lC({__proto__:null,default:Z},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC=C,IC=Symbol.for("react.element"),PC=Symbol.for("react.fragment"),NC=Object.prototype.hasOwnProperty,AC=SC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CC={key:!0,ref:!0,__self:!0,__source:!0};function ET(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)NC.call(e,r)&&!CC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:IC,type:t,key:i,ref:o,props:s,_owner:AC.current}}hh.Fragment=PC;hh.jsx=ET;hh.jsxs=ET;fT.exports=hh;var l=fT.exports,bT={exports:{}},xn={},ST={exports:{}},IT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,ee){var ie=W.length;W.push(ee);e:for(;0<ie;){var X=ie-1>>>1,we=W[X];if(0<s(we,ee))W[X]=ee,W[ie]=we,ie=X;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ee=W[0],ie=W.pop();if(ie!==ee){W[0]=ie;e:for(var X=0,we=W.length,Ce=we>>>1;X<Ce;){var Yt=2*(X+1)-1,Ut=W[Yt],xt=Yt+1,Nt=W[xt];if(0>s(Ut,ie))xt<we&&0>s(Nt,Ut)?(W[X]=Nt,W[xt]=ie,X=xt):(W[X]=Ut,W[Yt]=ie,X=Yt);else if(xt<we&&0>s(Nt,ie))W[X]=Nt,W[xt]=ie,X=xt;else break e}}return ee}function s(W,ee){var ie=W.sortIndex-ee.sortIndex;return ie!==0?ie:W.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],h=1,f=null,p=3,g=!1,w=!1,E=!1,P=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(W){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=W)r(d),ee.sortIndex=ee.expirationTime,e(c,ee);else break;ee=n(d)}}function R(W){if(E=!1,_(W),!w)if(n(c)!==null)w=!0,fe(L);else{var ee=n(d);ee!==null&&ve(R,ee.startTime-W)}}function L(W,ee){w=!1,E&&(E=!1,S(v),v=-1),g=!0;var ie=p;try{for(_(ee),f=n(c);f!==null&&(!(f.expirationTime>ee)||W&&!j());){var X=f.callback;if(typeof X=="function"){f.callback=null,p=f.priorityLevel;var we=X(f.expirationTime<=ee);ee=t.unstable_now(),typeof we=="function"?f.callback=we:f===n(c)&&r(c),_(ee)}else r(c);f=n(c)}if(f!==null)var Ce=!0;else{var Yt=n(d);Yt!==null&&ve(R,Yt.startTime-ee),Ce=!1}return Ce}finally{f=null,p=ie,g=!1}}var V=!1,T=null,v=-1,I=5,A=-1;function j(){return!(t.unstable_now()-A<I)}function k(){if(T!==null){var W=t.unstable_now();A=W;var ee=!0;try{ee=T(!0,W)}finally{ee?N():(V=!1,T=null)}}else V=!1}var N;if(typeof x=="function")N=function(){x(k)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,re=ne.port2;ne.port1.onmessage=k,N=function(){re.postMessage(null)}}else N=function(){P(k,0)};function fe(W){T=W,V||(V=!0,N())}function ve(W,ee){v=P(function(){W(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,fe(L))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(W){switch(p){case 1:case 2:case 3:var ee=3;break;default:ee=p}var ie=p;p=ee;try{return W()}finally{p=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ee){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ie=p;p=W;try{return ee()}finally{p=ie}},t.unstable_scheduleCallback=function(W,ee,ie){var X=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?X+ie:X):ie=X,W){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ie+we,W={id:h++,callback:ee,priorityLevel:W,startTime:ie,expirationTime:we,sortIndex:-1},ie>X?(W.sortIndex=ie,e(d,W),n(c)===null&&W===n(d)&&(E?(S(v),v=-1):E=!0,ve(R,ie-X))):(W.sortIndex=we,e(c,W),w||g||(w=!0,fe(L))),W},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(W){var ee=p;return function(){var ie=p;p=ee;try{return W.apply(this,arguments)}finally{p=ie}}}})(IT);ST.exports=IT;var kC=ST.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC=C,yn=kC;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PT=new Set,Il={};function Ni(t,e){Oo(t,e),Oo(t+"Capture",e)}function Oo(t,e){for(Il[t]=e,t=0;t<e.length;t++)PT.add(e[t])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fp=Object.prototype.hasOwnProperty,RC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G0={},K0={};function DC(t){return Fp.call(K0,t)?!0:Fp.call(G0,t)?!1:RC.test(t)?K0[t]=!0:(G0[t]=!0,!1)}function VC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OC(t,e,n,r){if(e===null||typeof e>"u"||VC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new Qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new Qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new Qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new Qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new Qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new Qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new Qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new Qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new Qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mg=/[\-:]([a-z])/g;function Fg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mg,Fg);It[e]=new Qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mg,Fg);It[e]=new Qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mg,Fg);It[e]=new Qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new Qt(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new Qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ug(t,e,n,r){var s=It.hasOwnProperty(e)?It[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OC(e,n,s,r)&&(n=null),r||s===null?DC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $r=jC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yc=Symbol.for("react.element"),so=Symbol.for("react.portal"),io=Symbol.for("react.fragment"),Bg=Symbol.for("react.strict_mode"),Up=Symbol.for("react.profiler"),NT=Symbol.for("react.provider"),AT=Symbol.for("react.context"),$g=Symbol.for("react.forward_ref"),Bp=Symbol.for("react.suspense"),$p=Symbol.for("react.suspense_list"),zg=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),CT=Symbol.for("react.offscreen"),Q0=Symbol.iterator;function Pa(t){return t===null||typeof t!="object"?null:(t=Q0&&t[Q0]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,Pf;function Ha(t){if(Pf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pf=e&&e[1]||""}return`
`+Pf+t}var Nf=!1;function Af(t,e){if(!t||Nf)return"";Nf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Nf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ha(t):""}function LC(t){switch(t.tag){case 5:return Ha(t.type);case 16:return Ha("Lazy");case 13:return Ha("Suspense");case 19:return Ha("SuspenseList");case 0:case 2:case 15:return t=Af(t.type,!1),t;case 11:return t=Af(t.type.render,!1),t;case 1:return t=Af(t.type,!0),t;default:return""}}function zp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case io:return"Fragment";case so:return"Portal";case Up:return"Profiler";case Bg:return"StrictMode";case Bp:return"Suspense";case $p:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case AT:return(t.displayName||"Context")+".Consumer";case NT:return(t._context.displayName||"Context")+".Provider";case $g:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zg:return e=t.displayName||null,e!==null?e:zp(t.type)||"Memo";case Xr:e=t._payload,t=t._init;try{return zp(t(e))}catch{}}return null}function MC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zp(e);case 8:return e===Bg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Is(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FC(t){var e=kT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xc(t){t._valueTracker||(t._valueTracker=FC(t))}function jT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=kT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ju(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hp(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Y0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Is(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RT(t,e){e=e.checked,e!=null&&Ug(t,"checked",e,!1)}function Wp(t,e){RT(t,e);var n=Is(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qp(t,e.type,n):e.hasOwnProperty("defaultValue")&&qp(t,e.type,Is(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function X0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qp(t,e,n){(e!=="number"||Ju(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wa=Array.isArray;function bo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Is(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Gp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function J0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Wa(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Is(n)}}function DT(t,e){var n=Is(e.value),r=Is(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Z0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jc,OT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jc=Jc||document.createElement("div"),Jc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UC=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(t){UC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),el[e]=el[t]})});function LT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||el.hasOwnProperty(t)&&el[t]?(""+e).trim():e+"px"}function MT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=LT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var BC=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qp(t,e){if(e){if(BC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Yp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xp=null;function Hg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jp=null,So=null,Io=null;function ex(t){if(t=cc(t)){if(typeof Jp!="function")throw Error(z(280));var e=t.stateNode;e&&(e=yh(e),Jp(t.stateNode,t.type,e))}}function FT(t){So?Io?Io.push(t):Io=[t]:So=t}function UT(){if(So){var t=So,e=Io;if(Io=So=null,ex(t),e)for(t=0;t<e.length;t++)ex(e[t])}}function BT(t,e){return t(e)}function $T(){}var Cf=!1;function zT(t,e,n){if(Cf)return t(e,n);Cf=!0;try{return BT(t,e,n)}finally{Cf=!1,(So!==null||Io!==null)&&($T(),UT())}}function Nl(t,e){var n=t.stateNode;if(n===null)return null;var r=yh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Zp=!1;if(jr)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){Zp=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{Zp=!1}function $C(t,e,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var tl=!1,Zu=null,ed=!1,em=null,zC={onError:function(t){tl=!0,Zu=t}};function HC(t,e,n,r,s,i,o,a,c){tl=!1,Zu=null,$C.apply(zC,arguments)}function WC(t,e,n,r,s,i,o,a,c){if(HC.apply(this,arguments),tl){if(tl){var d=Zu;tl=!1,Zu=null}else throw Error(z(198));ed||(ed=!0,em=d)}}function Ai(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function HT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tx(t){if(Ai(t)!==t)throw Error(z(188))}function qC(t){var e=t.alternate;if(!e){if(e=Ai(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return tx(s),t;if(i===r)return tx(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function WT(t){return t=qC(t),t!==null?qT(t):null}function qT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qT(t);if(e!==null)return e;t=t.sibling}return null}var GT=yn.unstable_scheduleCallback,nx=yn.unstable_cancelCallback,GC=yn.unstable_shouldYield,KC=yn.unstable_requestPaint,nt=yn.unstable_now,QC=yn.unstable_getCurrentPriorityLevel,Wg=yn.unstable_ImmediatePriority,KT=yn.unstable_UserBlockingPriority,td=yn.unstable_NormalPriority,YC=yn.unstable_LowPriority,QT=yn.unstable_IdlePriority,fh=null,nr=null;function XC(t){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(fh,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:ek,JC=Math.log,ZC=Math.LN2;function ek(t){return t>>>=0,t===0?32:31-(JC(t)/ZC|0)|0}var Zc=64,eu=4194304;function qa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=qa(a):(i&=o,i!==0&&(r=qa(i)))}else o=n&~s,o!==0?r=qa(o):i!==0&&(r=qa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$n(e),s=1<<n,r|=t[n],e&=~s;return r}function tk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-$n(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=tk(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function tm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function YT(){var t=Zc;return Zc<<=1,!(Zc&4194240)&&(Zc=64),t}function kf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ac(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$n(e),t[e]=n}function rk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-$n(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function qg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$n(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var je=0;function XT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var JT,Gg,ZT,eE,tE,nm=!1,tu=[],hs=null,fs=null,ps=null,Al=new Map,Cl=new Map,es=[],sk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rx(t,e){switch(t){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":Al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(e.pointerId)}}function Aa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=cc(e),e!==null&&Gg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ik(t,e,n,r,s){switch(e){case"focusin":return hs=Aa(hs,t,e,n,r,s),!0;case"dragenter":return fs=Aa(fs,t,e,n,r,s),!0;case"mouseover":return ps=Aa(ps,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Al.set(i,Aa(Al.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Cl.set(i,Aa(Cl.get(i)||null,t,e,n,r,s)),!0}return!1}function nE(t){var e=ni(t.target);if(e!==null){var n=Ai(e);if(n!==null){if(e=n.tag,e===13){if(e=HT(n),e!==null){t.blockedOn=e,tE(t.priority,function(){ZT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xp=r,n.target.dispatchEvent(r),Xp=null}else return e=cc(n),e!==null&&Gg(e),t.blockedOn=n,!1;e.shift()}return!0}function sx(t,e,n){Nu(t)&&n.delete(e)}function ok(){nm=!1,hs!==null&&Nu(hs)&&(hs=null),fs!==null&&Nu(fs)&&(fs=null),ps!==null&&Nu(ps)&&(ps=null),Al.forEach(sx),Cl.forEach(sx)}function Ca(t,e){t.blockedOn===e&&(t.blockedOn=null,nm||(nm=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,ok)))}function kl(t){function e(s){return Ca(s,t)}if(0<tu.length){Ca(tu[0],t);for(var n=1;n<tu.length;n++){var r=tu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hs!==null&&Ca(hs,t),fs!==null&&Ca(fs,t),ps!==null&&Ca(ps,t),Al.forEach(e),Cl.forEach(e),n=0;n<es.length;n++)r=es[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<es.length&&(n=es[0],n.blockedOn===null);)nE(n),n.blockedOn===null&&es.shift()}var Po=$r.ReactCurrentBatchConfig,rd=!0;function ak(t,e,n,r){var s=je,i=Po.transition;Po.transition=null;try{je=1,Kg(t,e,n,r)}finally{je=s,Po.transition=i}}function lk(t,e,n,r){var s=je,i=Po.transition;Po.transition=null;try{je=4,Kg(t,e,n,r)}finally{je=s,Po.transition=i}}function Kg(t,e,n,r){if(rd){var s=rm(t,e,n,r);if(s===null)Bf(t,e,r,sd,n),rx(t,r);else if(ik(s,t,e,n,r))r.stopPropagation();else if(rx(t,r),e&4&&-1<sk.indexOf(t)){for(;s!==null;){var i=cc(s);if(i!==null&&JT(i),i=rm(t,e,n,r),i===null&&Bf(t,e,r,sd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Bf(t,e,r,null,n)}}var sd=null;function rm(t,e,n,r){if(sd=null,t=Hg(r),t=ni(t),t!==null)if(e=Ai(t),e===null)t=null;else if(n=e.tag,n===13){if(t=HT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sd=t,null}function rE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QC()){case Wg:return 1;case KT:return 4;case td:case YC:return 16;case QT:return 536870912;default:return 16}default:return 16}}var ls=null,Qg=null,Au=null;function sE(){if(Au)return Au;var t,e=Qg,n=e.length,r,s="value"in ls?ls.value:ls.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Au=s.slice(t,1<r?1-r:void 0)}function Cu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nu(){return!0}function ix(){return!1}function wn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?nu:ix,this.isPropagationStopped=ix,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nu)},persist:function(){},isPersistent:nu}),e}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yg=wn(ra),lc=Qe({},ra,{view:0,detail:0}),ck=wn(lc),jf,Rf,ka,ph=Qe({},lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ka&&(ka&&t.type==="mousemove"?(jf=t.screenX-ka.screenX,Rf=t.screenY-ka.screenY):Rf=jf=0,ka=t),jf)},movementY:function(t){return"movementY"in t?t.movementY:Rf}}),ox=wn(ph),uk=Qe({},ph,{dataTransfer:0}),dk=wn(uk),hk=Qe({},lc,{relatedTarget:0}),Df=wn(hk),fk=Qe({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),pk=wn(fk),mk=Qe({},ra,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gk=wn(mk),yk=Qe({},ra,{data:0}),ax=wn(yk),vk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _k(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wk[t])?!!e[t]:!1}function Xg(){return _k}var Tk=Qe({},lc,{key:function(t){if(t.key){var e=vk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xg,charCode:function(t){return t.type==="keypress"?Cu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ek=wn(Tk),bk=Qe({},ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lx=wn(bk),Sk=Qe({},lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xg}),Ik=wn(Sk),Pk=Qe({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nk=wn(Pk),Ak=Qe({},ph,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ck=wn(Ak),kk=[9,13,27,32],Jg=jr&&"CompositionEvent"in window,nl=null;jr&&"documentMode"in document&&(nl=document.documentMode);var jk=jr&&"TextEvent"in window&&!nl,iE=jr&&(!Jg||nl&&8<nl&&11>=nl),cx=" ",ux=!1;function oE(t,e){switch(t){case"keyup":return kk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oo=!1;function Rk(t,e){switch(t){case"compositionend":return aE(e);case"keypress":return e.which!==32?null:(ux=!0,cx);case"textInput":return t=e.data,t===cx&&ux?null:t;default:return null}}function Dk(t,e){if(oo)return t==="compositionend"||!Jg&&oE(t,e)?(t=sE(),Au=Qg=ls=null,oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iE&&e.locale!=="ko"?null:e.data;default:return null}}var Vk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Vk[t.type]:e==="textarea"}function lE(t,e,n,r){FT(r),e=id(e,"onChange"),0<e.length&&(n=new Yg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rl=null,jl=null;function Ok(t){xE(t,0)}function mh(t){var e=co(t);if(jT(e))return t}function Lk(t,e){if(t==="change")return e}var cE=!1;if(jr){var Vf;if(jr){var Of="oninput"in document;if(!Of){var hx=document.createElement("div");hx.setAttribute("oninput","return;"),Of=typeof hx.oninput=="function"}Vf=Of}else Vf=!1;cE=Vf&&(!document.documentMode||9<document.documentMode)}function fx(){rl&&(rl.detachEvent("onpropertychange",uE),jl=rl=null)}function uE(t){if(t.propertyName==="value"&&mh(jl)){var e=[];lE(e,jl,t,Hg(t)),zT(Ok,e)}}function Mk(t,e,n){t==="focusin"?(fx(),rl=e,jl=n,rl.attachEvent("onpropertychange",uE)):t==="focusout"&&fx()}function Fk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mh(jl)}function Uk(t,e){if(t==="click")return mh(e)}function Bk(t,e){if(t==="input"||t==="change")return mh(e)}function $k(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:$k;function Rl(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Fp.call(e,s)||!Wn(t[s],e[s]))return!1}return!0}function px(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mx(t,e){var n=px(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=px(n)}}function dE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hE(){for(var t=window,e=Ju();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ju(t.document)}return e}function Zg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zk(t){var e=hE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dE(n.ownerDocument.documentElement,n)){if(r!==null&&Zg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=mx(n,i);var o=mx(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Hk=jr&&"documentMode"in document&&11>=document.documentMode,ao=null,sm=null,sl=null,im=!1;function gx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;im||ao==null||ao!==Ju(r)||(r=ao,"selectionStart"in r&&Zg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sl&&Rl(sl,r)||(sl=r,r=id(sm,"onSelect"),0<r.length&&(e=new Yg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ao)))}function ru(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lo={animationend:ru("Animation","AnimationEnd"),animationiteration:ru("Animation","AnimationIteration"),animationstart:ru("Animation","AnimationStart"),transitionend:ru("Transition","TransitionEnd")},Lf={},fE={};jr&&(fE=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function gh(t){if(Lf[t])return Lf[t];if(!lo[t])return t;var e=lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fE)return Lf[t]=e[n];return t}var pE=gh("animationend"),mE=gh("animationiteration"),gE=gh("animationstart"),yE=gh("transitionend"),vE=new Map,yx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(t,e){vE.set(t,e),Ni(e,[t])}for(var Mf=0;Mf<yx.length;Mf++){var Ff=yx[Mf],Wk=Ff.toLowerCase(),qk=Ff[0].toUpperCase()+Ff.slice(1);Ds(Wk,"on"+qk)}Ds(pE,"onAnimationEnd");Ds(mE,"onAnimationIteration");Ds(gE,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds(yE,"onTransitionEnd");Oo("onMouseEnter",["mouseout","mouseover"]);Oo("onMouseLeave",["mouseout","mouseover"]);Oo("onPointerEnter",["pointerout","pointerover"]);Oo("onPointerLeave",["pointerout","pointerover"]);Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ga));function vx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,WC(r,e,void 0,t),t.currentTarget=null}function xE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;vx(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;vx(s,a,d),i=c}}}if(ed)throw t=em,ed=!1,em=null,t}function Fe(t,e){var n=e[um];n===void 0&&(n=e[um]=new Set);var r=t+"__bubble";n.has(r)||(wE(e,t,2,!1),n.add(r))}function Uf(t,e,n){var r=0;e&&(r|=4),wE(n,t,r,e)}var su="_reactListening"+Math.random().toString(36).slice(2);function Dl(t){if(!t[su]){t[su]=!0,PT.forEach(function(n){n!=="selectionchange"&&(Gk.has(n)||Uf(n,!1,t),Uf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[su]||(e[su]=!0,Uf("selectionchange",!1,e))}}function wE(t,e,n,r){switch(rE(e)){case 1:var s=ak;break;case 4:s=lk;break;default:s=Kg}n=s.bind(null,e,n,t),s=void 0,!Zp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Bf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ni(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}zT(function(){var d=i,h=Hg(n),f=[];e:{var p=vE.get(t);if(p!==void 0){var g=Yg,w=t;switch(t){case"keypress":if(Cu(n)===0)break e;case"keydown":case"keyup":g=Ek;break;case"focusin":w="focus",g=Df;break;case"focusout":w="blur",g=Df;break;case"beforeblur":case"afterblur":g=Df;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ox;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=dk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Ik;break;case pE:case mE:case gE:g=pk;break;case yE:g=Nk;break;case"scroll":g=ck;break;case"wheel":g=Ck;break;case"copy":case"cut":case"paste":g=gk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=lx}var E=(e&4)!==0,P=!E&&t==="scroll",S=E?p!==null?p+"Capture":null:p;E=[];for(var x=d,_;x!==null;){_=x;var R=_.stateNode;if(_.tag===5&&R!==null&&(_=R,S!==null&&(R=Nl(x,S),R!=null&&E.push(Vl(x,R,_)))),P)break;x=x.return}0<E.length&&(p=new g(p,w,null,n,h),f.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Xp&&(w=n.relatedTarget||n.fromElement)&&(ni(w)||w[Rr]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=d,w=w?ni(w):null,w!==null&&(P=Ai(w),w!==P||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=d),g!==w)){if(E=ox,R="onMouseLeave",S="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(E=lx,R="onPointerLeave",S="onPointerEnter",x="pointer"),P=g==null?p:co(g),_=w==null?p:co(w),p=new E(R,x+"leave",g,n,h),p.target=P,p.relatedTarget=_,R=null,ni(h)===d&&(E=new E(S,x+"enter",w,n,h),E.target=_,E.relatedTarget=P,R=E),P=R,g&&w)t:{for(E=g,S=w,x=0,_=E;_;_=Ji(_))x++;for(_=0,R=S;R;R=Ji(R))_++;for(;0<x-_;)E=Ji(E),x--;for(;0<_-x;)S=Ji(S),_--;for(;x--;){if(E===S||S!==null&&E===S.alternate)break t;E=Ji(E),S=Ji(S)}E=null}else E=null;g!==null&&xx(f,p,g,E,!1),w!==null&&P!==null&&xx(f,P,w,E,!0)}}e:{if(p=d?co(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var L=Lk;else if(dx(p))if(cE)L=Bk;else{L=Fk;var V=Mk}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=Uk);if(L&&(L=L(t,d))){lE(f,L,n,h);break e}V&&V(t,p,d),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&qp(p,"number",p.value)}switch(V=d?co(d):window,t){case"focusin":(dx(V)||V.contentEditable==="true")&&(ao=V,sm=d,sl=null);break;case"focusout":sl=sm=ao=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,gx(f,n,h);break;case"selectionchange":if(Hk)break;case"keydown":case"keyup":gx(f,n,h)}var T;if(Jg)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else oo?oE(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(iE&&n.locale!=="ko"&&(oo||v!=="onCompositionStart"?v==="onCompositionEnd"&&oo&&(T=sE()):(ls=h,Qg="value"in ls?ls.value:ls.textContent,oo=!0)),V=id(d,v),0<V.length&&(v=new ax(v,t,null,n,h),f.push({event:v,listeners:V}),T?v.data=T:(T=aE(n),T!==null&&(v.data=T)))),(T=jk?Rk(t,n):Dk(t,n))&&(d=id(d,"onBeforeInput"),0<d.length&&(h=new ax("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=T))}xE(f,e)})}function Vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function id(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nl(t,n),i!=null&&r.unshift(Vl(t,i,s)),i=Nl(t,e),i!=null&&r.push(Vl(t,i,s))),t=t.return}return r}function Ji(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xx(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=Nl(n,i),c!=null&&o.unshift(Vl(n,c,a))):s||(c=Nl(n,i),c!=null&&o.push(Vl(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Kk=/\r\n?/g,Qk=/\u0000|\uFFFD/g;function wx(t){return(typeof t=="string"?t:""+t).replace(Kk,`
`).replace(Qk,"")}function iu(t,e,n){if(e=wx(e),wx(t)!==e&&n)throw Error(z(425))}function od(){}var om=null,am=null;function lm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cm=typeof setTimeout=="function"?setTimeout:void 0,Yk=typeof clearTimeout=="function"?clearTimeout:void 0,_x=typeof Promise=="function"?Promise:void 0,Xk=typeof queueMicrotask=="function"?queueMicrotask:typeof _x<"u"?function(t){return _x.resolve(null).then(t).catch(Jk)}:cm;function Jk(t){setTimeout(function(){throw t})}function $f(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),kl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);kl(e)}function ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Tx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sa=Math.random().toString(36).slice(2),Zn="__reactFiber$"+sa,Ol="__reactProps$"+sa,Rr="__reactContainer$"+sa,um="__reactEvents$"+sa,Zk="__reactListeners$"+sa,ej="__reactHandles$"+sa;function ni(t){var e=t[Zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rr]||n[Zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Tx(t);t!==null;){if(n=t[Zn])return n;t=Tx(t)}return e}t=n,n=t.parentNode}return null}function cc(t){return t=t[Zn]||t[Rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function yh(t){return t[Ol]||null}var dm=[],uo=-1;function Vs(t){return{current:t}}function Be(t){0>uo||(t.current=dm[uo],dm[uo]=null,uo--)}function Oe(t,e){uo++,dm[uo]=t.current,t.current=e}var Ps={},Mt=Vs(Ps),nn=Vs(!1),mi=Ps;function Lo(t,e){var n=t.type.contextTypes;if(!n)return Ps;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function rn(t){return t=t.childContextTypes,t!=null}function ad(){Be(nn),Be(Mt)}function Ex(t,e,n){if(Mt.current!==Ps)throw Error(z(168));Oe(Mt,e),Oe(nn,n)}function _E(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,MC(t)||"Unknown",s));return Qe({},n,r)}function ld(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ps,mi=Mt.current,Oe(Mt,t),Oe(nn,nn.current),!0}function bx(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=_E(t,e,mi),r.__reactInternalMemoizedMergedChildContext=t,Be(nn),Be(Mt),Oe(Mt,t)):Be(nn),Oe(nn,n)}var _r=null,vh=!1,zf=!1;function TE(t){_r===null?_r=[t]:_r.push(t)}function tj(t){vh=!0,TE(t)}function Os(){if(!zf&&_r!==null){zf=!0;var t=0,e=je;try{var n=_r;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}_r=null,vh=!1}catch(s){throw _r!==null&&(_r=_r.slice(t+1)),GT(Wg,Os),s}finally{je=e,zf=!1}}return null}var ho=[],fo=0,cd=null,ud=0,En=[],bn=0,gi=null,Tr=1,Er="";function Ys(t,e){ho[fo++]=ud,ho[fo++]=cd,cd=t,ud=e}function EE(t,e,n){En[bn++]=Tr,En[bn++]=Er,En[bn++]=gi,gi=t;var r=Tr;t=Er;var s=32-$n(r)-1;r&=~(1<<s),n+=1;var i=32-$n(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Tr=1<<32-$n(e)+s|n<<s|r,Er=i+t}else Tr=1<<i|n<<s|r,Er=t}function ey(t){t.return!==null&&(Ys(t,1),EE(t,1,0))}function ty(t){for(;t===cd;)cd=ho[--fo],ho[fo]=null,ud=ho[--fo],ho[fo]=null;for(;t===gi;)gi=En[--bn],En[bn]=null,Er=En[--bn],En[bn]=null,Tr=En[--bn],En[bn]=null}var pn=null,fn=null,ze=!1,Ln=null;function bE(t,e){var n=Pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,fn=ms(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gi!==null?{id:Tr,overflow:Er}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,fn=null,!0):!1;default:return!1}}function hm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fm(t){if(ze){var e=fn;if(e){var n=e;if(!Sx(t,e)){if(hm(t))throw Error(z(418));e=ms(n.nextSibling);var r=pn;e&&Sx(t,e)?bE(r,n):(t.flags=t.flags&-4097|2,ze=!1,pn=t)}}else{if(hm(t))throw Error(z(418));t.flags=t.flags&-4097|2,ze=!1,pn=t}}}function Ix(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function ou(t){if(t!==pn)return!1;if(!ze)return Ix(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lm(t.type,t.memoizedProps)),e&&(e=fn)){if(hm(t))throw SE(),Error(z(418));for(;e;)bE(t,e),e=ms(e.nextSibling)}if(Ix(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fn=ms(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=pn?ms(t.stateNode.nextSibling):null;return!0}function SE(){for(var t=fn;t;)t=ms(t.nextSibling)}function Mo(){fn=pn=null,ze=!1}function ny(t){Ln===null?Ln=[t]:Ln.push(t)}var nj=$r.ReactCurrentBatchConfig;function ja(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function au(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Px(t){var e=t._init;return e(t._payload)}function IE(t){function e(S,x){if(t){var _=S.deletions;_===null?(S.deletions=[x],S.flags|=16):_.push(x)}}function n(S,x){if(!t)return null;for(;x!==null;)e(S,x),x=x.sibling;return null}function r(S,x){for(S=new Map;x!==null;)x.key!==null?S.set(x.key,x):S.set(x.index,x),x=x.sibling;return S}function s(S,x){return S=xs(S,x),S.index=0,S.sibling=null,S}function i(S,x,_){return S.index=_,t?(_=S.alternate,_!==null?(_=_.index,_<x?(S.flags|=2,x):_):(S.flags|=2,x)):(S.flags|=1048576,x)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,x,_,R){return x===null||x.tag!==6?(x=Yf(_,S.mode,R),x.return=S,x):(x=s(x,_),x.return=S,x)}function c(S,x,_,R){var L=_.type;return L===io?h(S,x,_.props.children,R,_.key):x!==null&&(x.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Xr&&Px(L)===x.type)?(R=s(x,_.props),R.ref=ja(S,x,_),R.return=S,R):(R=Lu(_.type,_.key,_.props,null,S.mode,R),R.ref=ja(S,x,_),R.return=S,R)}function d(S,x,_,R){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=Xf(_,S.mode,R),x.return=S,x):(x=s(x,_.children||[]),x.return=S,x)}function h(S,x,_,R,L){return x===null||x.tag!==7?(x=di(_,S.mode,R,L),x.return=S,x):(x=s(x,_),x.return=S,x)}function f(S,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Yf(""+x,S.mode,_),x.return=S,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yc:return _=Lu(x.type,x.key,x.props,null,S.mode,_),_.ref=ja(S,null,x),_.return=S,_;case so:return x=Xf(x,S.mode,_),x.return=S,x;case Xr:var R=x._init;return f(S,R(x._payload),_)}if(Wa(x)||Pa(x))return x=di(x,S.mode,_,null),x.return=S,x;au(S,x)}return null}function p(S,x,_,R){var L=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return L!==null?null:a(S,x,""+_,R);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Yc:return _.key===L?c(S,x,_,R):null;case so:return _.key===L?d(S,x,_,R):null;case Xr:return L=_._init,p(S,x,L(_._payload),R)}if(Wa(_)||Pa(_))return L!==null?null:h(S,x,_,R,null);au(S,_)}return null}function g(S,x,_,R,L){if(typeof R=="string"&&R!==""||typeof R=="number")return S=S.get(_)||null,a(x,S,""+R,L);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Yc:return S=S.get(R.key===null?_:R.key)||null,c(x,S,R,L);case so:return S=S.get(R.key===null?_:R.key)||null,d(x,S,R,L);case Xr:var V=R._init;return g(S,x,_,V(R._payload),L)}if(Wa(R)||Pa(R))return S=S.get(_)||null,h(x,S,R,L,null);au(x,R)}return null}function w(S,x,_,R){for(var L=null,V=null,T=x,v=x=0,I=null;T!==null&&v<_.length;v++){T.index>v?(I=T,T=null):I=T.sibling;var A=p(S,T,_[v],R);if(A===null){T===null&&(T=I);break}t&&T&&A.alternate===null&&e(S,T),x=i(A,x,v),V===null?L=A:V.sibling=A,V=A,T=I}if(v===_.length)return n(S,T),ze&&Ys(S,v),L;if(T===null){for(;v<_.length;v++)T=f(S,_[v],R),T!==null&&(x=i(T,x,v),V===null?L=T:V.sibling=T,V=T);return ze&&Ys(S,v),L}for(T=r(S,T);v<_.length;v++)I=g(T,S,v,_[v],R),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?v:I.key),x=i(I,x,v),V===null?L=I:V.sibling=I,V=I);return t&&T.forEach(function(j){return e(S,j)}),ze&&Ys(S,v),L}function E(S,x,_,R){var L=Pa(_);if(typeof L!="function")throw Error(z(150));if(_=L.call(_),_==null)throw Error(z(151));for(var V=L=null,T=x,v=x=0,I=null,A=_.next();T!==null&&!A.done;v++,A=_.next()){T.index>v?(I=T,T=null):I=T.sibling;var j=p(S,T,A.value,R);if(j===null){T===null&&(T=I);break}t&&T&&j.alternate===null&&e(S,T),x=i(j,x,v),V===null?L=j:V.sibling=j,V=j,T=I}if(A.done)return n(S,T),ze&&Ys(S,v),L;if(T===null){for(;!A.done;v++,A=_.next())A=f(S,A.value,R),A!==null&&(x=i(A,x,v),V===null?L=A:V.sibling=A,V=A);return ze&&Ys(S,v),L}for(T=r(S,T);!A.done;v++,A=_.next())A=g(T,S,v,A.value,R),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?v:A.key),x=i(A,x,v),V===null?L=A:V.sibling=A,V=A);return t&&T.forEach(function(k){return e(S,k)}),ze&&Ys(S,v),L}function P(S,x,_,R){if(typeof _=="object"&&_!==null&&_.type===io&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Yc:e:{for(var L=_.key,V=x;V!==null;){if(V.key===L){if(L=_.type,L===io){if(V.tag===7){n(S,V.sibling),x=s(V,_.props.children),x.return=S,S=x;break e}}else if(V.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Xr&&Px(L)===V.type){n(S,V.sibling),x=s(V,_.props),x.ref=ja(S,V,_),x.return=S,S=x;break e}n(S,V);break}else e(S,V);V=V.sibling}_.type===io?(x=di(_.props.children,S.mode,R,_.key),x.return=S,S=x):(R=Lu(_.type,_.key,_.props,null,S.mode,R),R.ref=ja(S,x,_),R.return=S,S=R)}return o(S);case so:e:{for(V=_.key;x!==null;){if(x.key===V)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(S,x.sibling),x=s(x,_.children||[]),x.return=S,S=x;break e}else{n(S,x);break}else e(S,x);x=x.sibling}x=Xf(_,S.mode,R),x.return=S,S=x}return o(S);case Xr:return V=_._init,P(S,x,V(_._payload),R)}if(Wa(_))return w(S,x,_,R);if(Pa(_))return E(S,x,_,R);au(S,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(S,x.sibling),x=s(x,_),x.return=S,S=x):(n(S,x),x=Yf(_,S.mode,R),x.return=S,S=x),o(S)):n(S,x)}return P}var Fo=IE(!0),PE=IE(!1),dd=Vs(null),hd=null,po=null,ry=null;function sy(){ry=po=hd=null}function iy(t){var e=dd.current;Be(dd),t._currentValue=e}function pm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function No(t,e){hd=t,ry=po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(en=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(ry!==t)if(t={context:t,memoizedValue:e,next:null},po===null){if(hd===null)throw Error(z(308));po=t,hd.dependencies={lanes:0,firstContext:t}}else po=po.next=t;return e}var ri=null;function oy(t){ri===null?ri=[t]:ri.push(t)}function NE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,oy(e)):(n.next=s.next,s.next=n),e.interleaved=n,Dr(t,r)}function Dr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Jr=!1;function ay(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Dr(t,n)}return s=r.interleaved,s===null?(e.next=e,oy(r)):(e.next=s.next,s.next=e),r.interleaved=e,Dr(t,n)}function ku(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qg(t,n)}}function Nx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fd(t,e,n,r){var s=t.updateQueue;Jr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,E=a;switch(p=e,g=n,E.tag){case 1:if(w=E.payload,typeof w=="function"){f=w.call(g,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=E.payload,p=typeof w=="function"?w.call(g,f,p):w,p==null)break e;f=Qe({},f,p);break e;case 2:Jr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=g,c=f):h=h.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);vi|=o,t.lanes=o,t.memoizedState=f}}function Ax(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var uc={},rr=Vs(uc),Ll=Vs(uc),Ml=Vs(uc);function si(t){if(t===uc)throw Error(z(174));return t}function ly(t,e){switch(Oe(Ml,e),Oe(Ll,t),Oe(rr,uc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kp(e,t)}Be(rr),Oe(rr,e)}function Uo(){Be(rr),Be(Ll),Be(Ml)}function CE(t){si(Ml.current);var e=si(rr.current),n=Kp(e,t.type);e!==n&&(Oe(Ll,t),Oe(rr,n))}function cy(t){Ll.current===t&&(Be(rr),Be(Ll))}var qe=Vs(0);function pd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hf=[];function uy(){for(var t=0;t<Hf.length;t++)Hf[t]._workInProgressVersionPrimary=null;Hf.length=0}var ju=$r.ReactCurrentDispatcher,Wf=$r.ReactCurrentBatchConfig,yi=0,Ke=null,dt=null,gt=null,md=!1,il=!1,Fl=0,rj=0;function kt(){throw Error(z(321))}function dy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function hy(t,e,n,r,s,i){if(yi=i,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ju.current=t===null||t.memoizedState===null?aj:lj,t=n(r,s),il){i=0;do{if(il=!1,Fl=0,25<=i)throw Error(z(301));i+=1,gt=dt=null,e.updateQueue=null,ju.current=cj,t=n(r,s)}while(il)}if(ju.current=gd,e=dt!==null&&dt.next!==null,yi=0,gt=dt=Ke=null,md=!1,e)throw Error(z(300));return t}function fy(){var t=Fl!==0;return Fl=0,t}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ke.memoizedState=gt=t:gt=gt.next=t,gt}function Cn(){if(dt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=gt===null?Ke.memoizedState:gt.next;if(e!==null)gt=e,dt=t;else{if(t===null)throw Error(z(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},gt===null?Ke.memoizedState=gt=t:gt=gt.next=t}return gt}function Ul(t,e){return typeof e=="function"?e(t):e}function qf(t){var e=Cn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=dt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var h=d.lane;if((yi&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,Ke.lanes|=h,vi|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,Wn(r,e.memoizedState)||(en=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ke.lanes|=i,vi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gf(t){var e=Cn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Wn(i,e.memoizedState)||(en=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function kE(){}function jE(t,e){var n=Ke,r=Cn(),s=e(),i=!Wn(r.memoizedState,s);if(i&&(r.memoizedState=s,en=!0),r=r.queue,py(VE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,Bl(9,DE.bind(null,n,r,s,e),void 0,null),yt===null)throw Error(z(349));yi&30||RE(n,e,s)}return s}function RE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DE(t,e,n,r){e.value=n,e.getSnapshot=r,OE(e)&&LE(t)}function VE(t,e,n){return n(function(){OE(e)&&LE(t)})}function OE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function LE(t){var e=Dr(t,1);e!==null&&zn(e,t,1,-1)}function Cx(t){var e=Xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ul,lastRenderedState:t},e.queue=t,t=t.dispatch=oj.bind(null,Ke,t),[e.memoizedState,t]}function Bl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ME(){return Cn().memoizedState}function Ru(t,e,n,r){var s=Xn();Ke.flags|=t,s.memoizedState=Bl(1|e,n,void 0,r===void 0?null:r)}function xh(t,e,n,r){var s=Cn();r=r===void 0?null:r;var i=void 0;if(dt!==null){var o=dt.memoizedState;if(i=o.destroy,r!==null&&dy(r,o.deps)){s.memoizedState=Bl(e,n,i,r);return}}Ke.flags|=t,s.memoizedState=Bl(1|e,n,i,r)}function kx(t,e){return Ru(8390656,8,t,e)}function py(t,e){return xh(2048,8,t,e)}function FE(t,e){return xh(4,2,t,e)}function UE(t,e){return xh(4,4,t,e)}function BE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $E(t,e,n){return n=n!=null?n.concat([t]):null,xh(4,4,BE.bind(null,e,t),n)}function my(){}function zE(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HE(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function WE(t,e,n){return yi&21?(Wn(n,e)||(n=YT(),Ke.lanes|=n,vi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,en=!0),t.memoizedState=n)}function sj(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=Wf.transition;Wf.transition={};try{t(!1),e()}finally{je=n,Wf.transition=r}}function qE(){return Cn().memoizedState}function ij(t,e,n){var r=vs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GE(t))KE(e,n);else if(n=NE(t,e,n,r),n!==null){var s=Gt();zn(n,t,r,s),QE(n,e,r)}}function oj(t,e,n){var r=vs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GE(t))KE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Wn(a,o)){var c=e.interleaved;c===null?(s.next=s,oy(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=NE(t,e,s,r),n!==null&&(s=Gt(),zn(n,t,r,s),QE(n,e,r))}}function GE(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function KE(t,e){il=md=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qg(t,n)}}var gd={readContext:An,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},aj={readContext:An,useCallback:function(t,e){return Xn().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:kx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ru(4194308,4,BE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ru(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ru(4,2,t,e)},useMemo:function(t,e){var n=Xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ij.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=Xn();return t={current:t},e.memoizedState=t},useState:Cx,useDebugValue:my,useDeferredValue:function(t){return Xn().memoizedState=t},useTransition:function(){var t=Cx(!1),e=t[0];return t=sj.bind(null,t[1]),Xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,s=Xn();if(ze){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),yt===null)throw Error(z(349));yi&30||RE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,kx(VE.bind(null,r,i,t),[t]),r.flags|=2048,Bl(9,DE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Xn(),e=yt.identifierPrefix;if(ze){var n=Er,r=Tr;n=(r&~(1<<32-$n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lj={readContext:An,useCallback:zE,useContext:An,useEffect:py,useImperativeHandle:$E,useInsertionEffect:FE,useLayoutEffect:UE,useMemo:HE,useReducer:qf,useRef:ME,useState:function(){return qf(Ul)},useDebugValue:my,useDeferredValue:function(t){var e=Cn();return WE(e,dt.memoizedState,t)},useTransition:function(){var t=qf(Ul)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:kE,useSyncExternalStore:jE,useId:qE,unstable_isNewReconciler:!1},cj={readContext:An,useCallback:zE,useContext:An,useEffect:py,useImperativeHandle:$E,useInsertionEffect:FE,useLayoutEffect:UE,useMemo:HE,useReducer:Gf,useRef:ME,useState:function(){return Gf(Ul)},useDebugValue:my,useDeferredValue:function(t){var e=Cn();return dt===null?e.memoizedState=t:WE(e,dt.memoizedState,t)},useTransition:function(){var t=Gf(Ul)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:kE,useSyncExternalStore:jE,useId:qE,unstable_isNewReconciler:!1};function Vn(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wh={isMounted:function(t){return(t=t._reactInternals)?Ai(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gt(),s=vs(t),i=Nr(r,s);i.payload=e,n!=null&&(i.callback=n),e=gs(t,i,s),e!==null&&(zn(e,t,s,r),ku(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gt(),s=vs(t),i=Nr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=gs(t,i,s),e!==null&&(zn(e,t,s,r),ku(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gt(),r=vs(t),s=Nr(n,r);s.tag=2,e!=null&&(s.callback=e),e=gs(t,s,r),e!==null&&(zn(e,t,r,n),ku(e,t,r))}};function jx(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Rl(n,r)||!Rl(s,i):!0}function YE(t,e,n){var r=!1,s=Ps,i=e.contextType;return typeof i=="object"&&i!==null?i=An(i):(s=rn(e)?mi:Mt.current,r=e.contextTypes,i=(r=r!=null)?Lo(t,s):Ps),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Rx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wh.enqueueReplaceState(e,e.state,null)}function gm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ay(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=An(i):(i=rn(e)?mi:Mt.current,s.context=Lo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(mm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&wh.enqueueReplaceState(s,s.state,null),fd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Bo(t,e){try{var n="",r=e;do n+=LC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Kf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ym(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uj=typeof WeakMap=="function"?WeakMap:Map;function XE(t,e,n){n=Nr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vd||(vd=!0,Pm=r),ym(t,e)},n}function JE(t,e,n){n=Nr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ym(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ym(t,e),typeof r!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Dx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=bj.bind(null,t,e,n),e.then(t,t))}function Vx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ox(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Nr(-1,1),e.tag=2,gs(n,e,1))),n.lanes|=1),t)}var dj=$r.ReactCurrentOwner,en=!1;function Wt(t,e,n,r){e.child=t===null?PE(e,null,n,r):Fo(e,t.child,n,r)}function Lx(t,e,n,r,s){n=n.render;var i=e.ref;return No(e,s),r=hy(t,e,n,r,i,s),n=fy(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vr(t,e,s)):(ze&&n&&ey(e),e.flags|=1,Wt(t,e,r,s),e.child)}function Mx(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ey(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,ZE(t,e,i,r,s)):(t=Lu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Rl,n(o,r)&&t.ref===e.ref)return Vr(t,e,s)}return e.flags|=1,t=xs(i,r),t.ref=e.ref,t.return=e,e.child=t}function ZE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Rl(i,r)&&t.ref===e.ref)if(en=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(en=!0);else return e.lanes=t.lanes,Vr(t,e,s)}return vm(t,e,n,r,s)}function eb(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(go,hn),hn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(go,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Oe(go,hn),hn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Oe(go,hn),hn|=r;return Wt(t,e,s,n),e.child}function tb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vm(t,e,n,r,s){var i=rn(n)?mi:Mt.current;return i=Lo(e,i),No(e,s),n=hy(t,e,n,r,i,s),r=fy(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vr(t,e,s)):(ze&&r&&ey(e),e.flags|=1,Wt(t,e,n,s),e.child)}function Fx(t,e,n,r,s){if(rn(n)){var i=!0;ld(e)}else i=!1;if(No(e,s),e.stateNode===null)Du(t,e),YE(e,n,r),gm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=An(d):(d=rn(n)?mi:Mt.current,d=Lo(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&Rx(e,o,r,d),Jr=!1;var p=e.memoizedState;o.state=p,fd(e,r,o,s),c=e.memoizedState,a!==r||p!==c||nn.current||Jr?(typeof h=="function"&&(mm(e,n,h,r),c=e.memoizedState),(a=Jr||jx(e,n,a,r,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,AE(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Vn(e.type,a),o.props=d,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=An(c):(c=rn(n)?mi:Mt.current,c=Lo(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==c)&&Rx(e,o,r,c),Jr=!1,p=e.memoizedState,o.state=p,fd(e,r,o,s);var w=e.memoizedState;a!==f||p!==w||nn.current||Jr?(typeof g=="function"&&(mm(e,n,g,r),w=e.memoizedState),(d=Jr||jx(e,n,d,r,p,w,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return xm(t,e,n,r,i,s)}function xm(t,e,n,r,s,i){tb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&bx(e,n,!1),Vr(t,e,i);r=e.stateNode,dj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fo(e,t.child,null,i),e.child=Fo(e,null,a,i)):Wt(t,e,a,i),e.memoizedState=r.state,s&&bx(e,n,!0),e.child}function nb(t){var e=t.stateNode;e.pendingContext?Ex(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ex(t,e.context,!1),ly(t,e.containerInfo)}function Ux(t,e,n,r,s){return Mo(),ny(s),e.flags|=256,Wt(t,e,n,r),e.child}var wm={dehydrated:null,treeContext:null,retryLane:0};function _m(t){return{baseLanes:t,cachePool:null,transitions:null}}function rb(t,e,n){var r=e.pendingProps,s=qe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Oe(qe,s&1),t===null)return fm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Eh(o,r,0,null),t=di(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=_m(n),e.memoizedState=wm,t):gy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return hj(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=xs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=xs(a,i):(i=di(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?_m(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=wm,r}return i=t.child,t=i.sibling,r=xs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gy(t,e){return e=Eh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lu(t,e,n,r){return r!==null&&ny(r),Fo(e,t.child,null,n),t=gy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hj(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Kf(Error(z(422))),lu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Eh({mode:"visible",children:r.children},s,0,null),i=di(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fo(e,t.child,null,o),e.child.memoizedState=_m(o),e.memoizedState=wm,i);if(!(e.mode&1))return lu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=Kf(i,r,void 0),lu(t,e,o,r)}if(a=(o&t.childLanes)!==0,en||a){if(r=yt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Dr(t,s),zn(r,t,s,-1))}return Ty(),r=Kf(Error(z(421))),lu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Sj.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,fn=ms(s.nextSibling),pn=e,ze=!0,Ln=null,t!==null&&(En[bn++]=Tr,En[bn++]=Er,En[bn++]=gi,Tr=t.id,Er=t.overflow,gi=e),e=gy(e,r.children),e.flags|=4096,e)}function Bx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pm(t.return,e,n)}function Qf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function sb(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Wt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bx(t,n,e);else if(t.tag===19)Bx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe(qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&pd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Qf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&pd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Qf(e,!0,n,null,i);break;case"together":Qf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Du(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=xs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fj(t,e,n){switch(e.tag){case 3:nb(e),Mo();break;case 5:CE(e);break;case 1:rn(e.type)&&ld(e);break;case 4:ly(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Oe(dd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?rb(t,e,n):(Oe(qe,qe.current&1),t=Vr(t,e,n),t!==null?t.sibling:null);Oe(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,eb(t,e,n)}return Vr(t,e,n)}var ib,Tm,ob,ab;ib=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tm=function(){};ob=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,si(rr.current);var i=null;switch(n){case"input":s=Hp(t,s),r=Hp(t,r),i=[];break;case"select":s=Qe({},s,{value:void 0}),r=Qe({},r,{value:void 0}),i=[];break;case"textarea":s=Gp(t,s),r=Gp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=od)}Qp(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Il.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Il.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Fe("scroll",t),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};ab=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ra(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pj(t,e,n){var r=e.pendingProps;switch(ty(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return rn(e.type)&&ad(),jt(e),null;case 3:return r=e.stateNode,Uo(),Be(nn),Be(Mt),uy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ou(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ln!==null&&(Cm(Ln),Ln=null))),Tm(t,e),jt(e),null;case 5:cy(e);var s=si(Ml.current);if(n=e.type,t!==null&&e.stateNode!=null)ob(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return jt(e),null}if(t=si(rr.current),ou(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Zn]=e,r[Ol]=i,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(s=0;s<Ga.length;s++)Fe(Ga[s],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Y0(r,i),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",r);break;case"textarea":J0(r,i),Fe("invalid",r)}Qp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&iu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&iu(r.textContent,a,t),s=["children",""+a]):Il.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":Xc(r),X0(r,i,!0);break;case"textarea":Xc(r),Z0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=od)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Zn]=e,t[Ol]=r,ib(t,e,!1,!1),e.stateNode=t;e:{switch(o=Yp(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),s=r;break;case"iframe":case"object":case"embed":Fe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ga.length;s++)Fe(Ga[s],t);s=r;break;case"source":Fe("error",t),s=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),s=r;break;case"details":Fe("toggle",t),s=r;break;case"input":Y0(t,r),s=Hp(t,r),Fe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Qe({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":J0(t,r),s=Gp(t,r),Fe("invalid",t);break;default:s=r}Qp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?MT(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&OT(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Pl(t,c):typeof c=="number"&&Pl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Il.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Fe("scroll",t):c!=null&&Ug(t,i,c,o))}switch(n){case"input":Xc(t),X0(t,r,!1);break;case"textarea":Xc(t),Z0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Is(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?bo(t,!!r.multiple,i,!1):r.defaultValue!=null&&bo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=od)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)ab(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=si(Ml.current),si(rr.current),ou(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zn]=e,(i=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:iu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&iu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zn]=e,e.stateNode=r}return jt(e),null;case 13:if(Be(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&fn!==null&&e.mode&1&&!(e.flags&128))SE(),Mo(),e.flags|=98560,i=!1;else if(i=ou(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Zn]=e}else Mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),i=!1}else Ln!==null&&(Cm(Ln),Ln=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?ft===0&&(ft=3):Ty())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return Uo(),Tm(t,e),t===null&&Dl(e.stateNode.containerInfo),jt(e),null;case 10:return iy(e.type._context),jt(e),null;case 17:return rn(e.type)&&ad(),jt(e),null;case 19:if(Be(qe),i=e.memoizedState,i===null)return jt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ra(i,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=pd(t),o!==null){for(e.flags|=128,Ra(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(qe,qe.current&1|2),e.child}t=t.sibling}i.tail!==null&&nt()>$o&&(e.flags|=128,r=!0,Ra(i,!1),e.lanes=4194304)}else{if(!r)if(t=pd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ra(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ze)return jt(e),null}else 2*nt()-i.renderingStartTime>$o&&n!==1073741824&&(e.flags|=128,r=!0,Ra(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=nt(),e.sibling=null,n=qe.current,Oe(qe,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return _y(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hn&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function mj(t,e){switch(ty(e),e.tag){case 1:return rn(e.type)&&ad(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Uo(),Be(nn),Be(Mt),uy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cy(e),null;case 13:if(Be(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(qe),null;case 4:return Uo(),null;case 10:return iy(e.type._context),null;case 22:case 23:return _y(),null;case 24:return null;default:return null}}var cu=!1,Ot=!1,gj=typeof WeakSet=="function"?WeakSet:Set,J=null;function mo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function Em(t,e,n){try{n()}catch(r){Je(t,e,r)}}var $x=!1;function yj(t,e){if(om=rd,t=hE(),Zg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++d===s&&(a=o),p===i&&++h===r&&(c=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(am={focusedElem:t,selectionRange:n},rd=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var E=w.memoizedProps,P=w.memoizedState,S=e.stateNode,x=S.getSnapshotBeforeUpdate(e.elementType===e.type?E:Vn(e.type,E),P);S.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(R){Je(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return w=$x,$x=!1,w}function ol(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Em(e,n,i)}s=s.next}while(s!==r)}}function _h(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lb(t){var e=t.alternate;e!==null&&(t.alternate=null,lb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zn],delete e[Ol],delete e[um],delete e[Zk],delete e[ej])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cb(t){return t.tag===5||t.tag===3||t.tag===4}function zx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=od));else if(r!==4&&(t=t.child,t!==null))for(Sm(t,e,n),t=t.sibling;t!==null;)Sm(t,e,n),t=t.sibling}function Im(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Im(t,e,n),t=t.sibling;t!==null;)Im(t,e,n),t=t.sibling}var _t=null,On=!1;function Gr(t,e,n){for(n=n.child;n!==null;)ub(t,e,n),n=n.sibling}function ub(t,e,n){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(fh,n)}catch{}switch(n.tag){case 5:Ot||mo(n,e);case 6:var r=_t,s=On;_t=null,Gr(t,e,n),_t=r,On=s,_t!==null&&(On?(t=_t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_t.removeChild(n.stateNode));break;case 18:_t!==null&&(On?(t=_t,n=n.stateNode,t.nodeType===8?$f(t.parentNode,n):t.nodeType===1&&$f(t,n),kl(t)):$f(_t,n.stateNode));break;case 4:r=_t,s=On,_t=n.stateNode.containerInfo,On=!0,Gr(t,e,n),_t=r,On=s;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Em(n,e,o),s=s.next}while(s!==r)}Gr(t,e,n);break;case 1:if(!Ot&&(mo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,e,a)}Gr(t,e,n);break;case 21:Gr(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,Gr(t,e,n),Ot=r):Gr(t,e,n);break;default:Gr(t,e,n)}}function Hx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gj),e.forEach(function(r){var s=Ij.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:_t=a.stateNode,On=!1;break e;case 3:_t=a.stateNode.containerInfo,On=!0;break e;case 4:_t=a.stateNode.containerInfo,On=!0;break e}a=a.return}if(_t===null)throw Error(z(160));ub(i,o,s),_t=null,On=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Je(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)db(e,t),e=e.sibling}function db(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),Yn(t),r&4){try{ol(3,t,t.return),_h(3,t)}catch(E){Je(t,t.return,E)}try{ol(5,t,t.return)}catch(E){Je(t,t.return,E)}}break;case 1:Dn(e,t),Yn(t),r&512&&n!==null&&mo(n,n.return);break;case 5:if(Dn(e,t),Yn(t),r&512&&n!==null&&mo(n,n.return),t.flags&32){var s=t.stateNode;try{Pl(s,"")}catch(E){Je(t,t.return,E)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&RT(s,i),Yp(a,o);var d=Yp(a,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?MT(s,f):h==="dangerouslySetInnerHTML"?OT(s,f):h==="children"?Pl(s,f):Ug(s,h,f,d)}switch(a){case"input":Wp(s,i);break;case"textarea":DT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?bo(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?bo(s,!!i.multiple,i.defaultValue,!0):bo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ol]=i}catch(E){Je(t,t.return,E)}}break;case 6:if(Dn(e,t),Yn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(E){Je(t,t.return,E)}}break;case 3:if(Dn(e,t),Yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kl(e.containerInfo)}catch(E){Je(t,t.return,E)}break;case 4:Dn(e,t),Yn(t);break;case 13:Dn(e,t),Yn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xy=nt())),r&4&&Hx(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(d=Ot)||h,Dn(e,t),Ot=d):Dn(e,t),Yn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(J=t,h=t.child;h!==null;){for(f=J=h;J!==null;){switch(p=J,g=p.child,p.tag){case 0:case 11:case 14:case 15:ol(4,p,p.return);break;case 1:mo(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(E){Je(r,n,E)}}break;case 5:mo(p,p.return);break;case 22:if(p.memoizedState!==null){qx(f);continue}}g!==null?(g.return=p,J=g):qx(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=LT("display",o))}catch(E){Je(t,t.return,E)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(E){Je(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dn(e,t),Yn(t),r&4&&Hx(t);break;case 21:break;default:Dn(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(cb(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pl(s,""),r.flags&=-33);var i=zx(t);Im(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=zx(t);Sm(t,a,o);break;default:throw Error(z(161))}}catch(c){Je(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vj(t,e,n){J=t,hb(t)}function hb(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||cu;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ot;a=cu;var d=Ot;if(cu=o,(Ot=c)&&!d)for(J=s;J!==null;)o=J,c=o.child,o.tag===22&&o.memoizedState!==null?Gx(s):c!==null?(c.return=o,J=c):Gx(s);for(;i!==null;)J=i,hb(i),i=i.sibling;J=s,cu=a,Ot=d}Wx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):Wx(t)}}function Wx(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||_h(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Vn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ax(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ax(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&kl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ot||e.flags&512&&bm(e)}catch(p){Je(e,e.return,p)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function qx(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function Gx(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_h(4,e)}catch(c){Je(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Je(e,s,c)}}var i=e.return;try{bm(e)}catch(c){Je(e,i,c)}break;case 5:var o=e.return;try{bm(e)}catch(c){Je(e,o,c)}}}catch(c){Je(e,e.return,c)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var xj=Math.ceil,yd=$r.ReactCurrentDispatcher,yy=$r.ReactCurrentOwner,Nn=$r.ReactCurrentBatchConfig,Ie=0,yt=null,at=null,bt=0,hn=0,go=Vs(0),ft=0,$l=null,vi=0,Th=0,vy=0,al=null,Zt=null,xy=0,$o=1/0,wr=null,vd=!1,Pm=null,ys=null,uu=!1,cs=null,xd=0,ll=0,Nm=null,Vu=-1,Ou=0;function Gt(){return Ie&6?nt():Vu!==-1?Vu:Vu=nt()}function vs(t){return t.mode&1?Ie&2&&bt!==0?bt&-bt:nj.transition!==null?(Ou===0&&(Ou=YT()),Ou):(t=je,t!==0||(t=window.event,t=t===void 0?16:rE(t.type)),t):1}function zn(t,e,n,r){if(50<ll)throw ll=0,Nm=null,Error(z(185));ac(t,n,r),(!(Ie&2)||t!==yt)&&(t===yt&&(!(Ie&2)&&(Th|=n),ft===4&&ts(t,bt)),sn(t,r),n===1&&Ie===0&&!(e.mode&1)&&($o=nt()+500,vh&&Os()))}function sn(t,e){var n=t.callbackNode;nk(t,e);var r=nd(t,t===yt?bt:0);if(r===0)n!==null&&nx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&nx(n),e===1)t.tag===0?tj(Kx.bind(null,t)):TE(Kx.bind(null,t)),Xk(function(){!(Ie&6)&&Os()}),n=null;else{switch(XT(r)){case 1:n=Wg;break;case 4:n=KT;break;case 16:n=td;break;case 536870912:n=QT;break;default:n=td}n=wb(n,fb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fb(t,e){if(Vu=-1,Ou=0,Ie&6)throw Error(z(327));var n=t.callbackNode;if(Ao()&&t.callbackNode!==n)return null;var r=nd(t,t===yt?bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wd(t,r);else{e=r;var s=Ie;Ie|=2;var i=mb();(yt!==t||bt!==e)&&(wr=null,$o=nt()+500,ui(t,e));do try{Tj();break}catch(a){pb(t,a)}while(!0);sy(),yd.current=i,Ie=s,at!==null?e=0:(yt=null,bt=0,e=ft)}if(e!==0){if(e===2&&(s=tm(t),s!==0&&(r=s,e=Am(t,s))),e===1)throw n=$l,ui(t,0),ts(t,r),sn(t,nt()),n;if(e===6)ts(t,r);else{if(s=t.current.alternate,!(r&30)&&!wj(s)&&(e=wd(t,r),e===2&&(i=tm(t),i!==0&&(r=i,e=Am(t,i))),e===1))throw n=$l,ui(t,0),ts(t,r),sn(t,nt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Xs(t,Zt,wr);break;case 3:if(ts(t,r),(r&130023424)===r&&(e=xy+500-nt(),10<e)){if(nd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Gt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=cm(Xs.bind(null,t,Zt,wr),e);break}Xs(t,Zt,wr);break;case 4:if(ts(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-$n(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xj(r/1960))-r,10<r){t.timeoutHandle=cm(Xs.bind(null,t,Zt,wr),r);break}Xs(t,Zt,wr);break;case 5:Xs(t,Zt,wr);break;default:throw Error(z(329))}}}return sn(t,nt()),t.callbackNode===n?fb.bind(null,t):null}function Am(t,e){var n=al;return t.current.memoizedState.isDehydrated&&(ui(t,e).flags|=256),t=wd(t,e),t!==2&&(e=Zt,Zt=n,e!==null&&Cm(e)),t}function Cm(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function wj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Wn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ts(t,e){for(e&=~vy,e&=~Th,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$n(e),r=1<<n;t[n]=-1,e&=~r}}function Kx(t){if(Ie&6)throw Error(z(327));Ao();var e=nd(t,0);if(!(e&1))return sn(t,nt()),null;var n=wd(t,e);if(t.tag!==0&&n===2){var r=tm(t);r!==0&&(e=r,n=Am(t,r))}if(n===1)throw n=$l,ui(t,0),ts(t,e),sn(t,nt()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xs(t,Zt,wr),sn(t,nt()),null}function wy(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&($o=nt()+500,vh&&Os())}}function xi(t){cs!==null&&cs.tag===0&&!(Ie&6)&&Ao();var e=Ie;Ie|=1;var n=Nn.transition,r=je;try{if(Nn.transition=null,je=1,t)return t()}finally{je=r,Nn.transition=n,Ie=e,!(Ie&6)&&Os()}}function _y(){hn=go.current,Be(go)}function ui(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Yk(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(ty(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ad();break;case 3:Uo(),Be(nn),Be(Mt),uy();break;case 5:cy(r);break;case 4:Uo();break;case 13:Be(qe);break;case 19:Be(qe);break;case 10:iy(r.type._context);break;case 22:case 23:_y()}n=n.return}if(yt=t,at=t=xs(t.current,null),bt=hn=e,ft=0,$l=null,vy=Th=vi=0,Zt=al=null,ri!==null){for(e=0;e<ri.length;e++)if(n=ri[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ri=null}return t}function pb(t,e){do{var n=at;try{if(sy(),ju.current=gd,md){for(var r=Ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}md=!1}if(yi=0,gt=dt=Ke=null,il=!1,Fl=0,yy.current=null,n===null||n.return===null){ft=1,$l=e,at=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=bt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Vx(o);if(g!==null){g.flags&=-257,Ox(g,o,a,i,e),g.mode&1&&Dx(i,d,e),e=g,c=d;var w=e.updateQueue;if(w===null){var E=new Set;E.add(c),e.updateQueue=E}else w.add(c);break e}else{if(!(e&1)){Dx(i,d,e),Ty();break e}c=Error(z(426))}}else if(ze&&a.mode&1){var P=Vx(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Ox(P,o,a,i,e),ny(Bo(c,a));break e}}i=c=Bo(c,a),ft!==4&&(ft=2),al===null?al=[i]:al.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var S=XE(i,c,e);Nx(i,S);break e;case 1:a=c;var x=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ys===null||!ys.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=JE(i,a,e);Nx(i,R);break e}}i=i.return}while(i!==null)}yb(n)}catch(L){e=L,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function mb(){var t=yd.current;return yd.current=gd,t===null?gd:t}function Ty(){(ft===0||ft===3||ft===2)&&(ft=4),yt===null||!(vi&268435455)&&!(Th&268435455)||ts(yt,bt)}function wd(t,e){var n=Ie;Ie|=2;var r=mb();(yt!==t||bt!==e)&&(wr=null,ui(t,e));do try{_j();break}catch(s){pb(t,s)}while(!0);if(sy(),Ie=n,yd.current=r,at!==null)throw Error(z(261));return yt=null,bt=0,ft}function _j(){for(;at!==null;)gb(at)}function Tj(){for(;at!==null&&!GC();)gb(at)}function gb(t){var e=xb(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?yb(t):at=e,yy.current=null}function yb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mj(n,e),n!==null){n.flags&=32767,at=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,at=null;return}}else if(n=pj(n,e,hn),n!==null){at=n;return}if(e=e.sibling,e!==null){at=e;return}at=e=t}while(e!==null);ft===0&&(ft=5)}function Xs(t,e,n){var r=je,s=Nn.transition;try{Nn.transition=null,je=1,Ej(t,e,n,r)}finally{Nn.transition=s,je=r}return null}function Ej(t,e,n,r){do Ao();while(cs!==null);if(Ie&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(rk(t,i),t===yt&&(at=yt=null,bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||uu||(uu=!0,wb(td,function(){return Ao(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Nn.transition,Nn.transition=null;var o=je;je=1;var a=Ie;Ie|=4,yy.current=null,yj(t,n),db(n,t),zk(am),rd=!!om,am=om=null,t.current=n,vj(n),KC(),Ie=a,je=o,Nn.transition=i}else t.current=n;if(uu&&(uu=!1,cs=t,xd=s),i=t.pendingLanes,i===0&&(ys=null),XC(n.stateNode),sn(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vd)throw vd=!1,t=Pm,Pm=null,t;return xd&1&&t.tag!==0&&Ao(),i=t.pendingLanes,i&1?t===Nm?ll++:(ll=0,Nm=t):ll=0,Os(),null}function Ao(){if(cs!==null){var t=XT(xd),e=Nn.transition,n=je;try{if(Nn.transition=null,je=16>t?16:t,cs===null)var r=!1;else{if(t=cs,cs=null,xd=0,Ie&6)throw Error(z(331));var s=Ie;for(Ie|=4,J=t.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(J=d;J!==null;){var h=J;switch(h.tag){case 0:case 11:case 15:ol(8,h,i)}var f=h.child;if(f!==null)f.return=h,J=f;else for(;J!==null;){h=J;var p=h.sibling,g=h.return;if(lb(h),h===d){J=null;break}if(p!==null){p.return=g,J=p;break}J=g}}}var w=i.alternate;if(w!==null){var E=w.child;if(E!==null){w.child=null;do{var P=E.sibling;E.sibling=null,E=P}while(E!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ol(9,i,i.return)}var S=i.sibling;if(S!==null){S.return=i.return,J=S;break e}J=i.return}}var x=t.current;for(J=x;J!==null;){o=J;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,J=_;else e:for(o=x;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_h(9,a)}}catch(L){Je(a,a.return,L)}if(a===o){J=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,J=R;break e}J=a.return}}if(Ie=s,Os(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(fh,t)}catch{}r=!0}return r}finally{je=n,Nn.transition=e}}return!1}function Qx(t,e,n){e=Bo(n,e),e=XE(t,e,1),t=gs(t,e,1),e=Gt(),t!==null&&(ac(t,1,e),sn(t,e))}function Je(t,e,n){if(t.tag===3)Qx(t,t,n);else for(;e!==null;){if(e.tag===3){Qx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ys===null||!ys.has(r))){t=Bo(n,t),t=JE(e,t,1),e=gs(e,t,1),t=Gt(),e!==null&&(ac(e,1,t),sn(e,t));break}}e=e.return}}function bj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gt(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(bt&n)===n&&(ft===4||ft===3&&(bt&130023424)===bt&&500>nt()-xy?ui(t,0):vy|=n),sn(t,e)}function vb(t,e){e===0&&(t.mode&1?(e=eu,eu<<=1,!(eu&130023424)&&(eu=4194304)):e=1);var n=Gt();t=Dr(t,e),t!==null&&(ac(t,e,n),sn(t,n))}function Sj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vb(t,n)}function Ij(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),vb(t,n)}var xb;xb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)en=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return en=!1,fj(t,e,n);en=!!(t.flags&131072)}else en=!1,ze&&e.flags&1048576&&EE(e,ud,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Du(t,e),t=e.pendingProps;var s=Lo(e,Mt.current);No(e,n),s=hy(null,e,r,t,s,n);var i=fy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(i=!0,ld(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ay(e),s.updater=wh,e.stateNode=s,s._reactInternals=e,gm(e,r,t,n),e=xm(null,e,r,!0,i,n)):(e.tag=0,ze&&i&&ey(e),Wt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Du(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Nj(r),t=Vn(r,t),s){case 0:e=vm(null,e,r,t,n);break e;case 1:e=Fx(null,e,r,t,n);break e;case 11:e=Lx(null,e,r,t,n);break e;case 14:e=Mx(null,e,r,Vn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),vm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),Fx(t,e,r,s,n);case 3:e:{if(nb(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,AE(t,e),fd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Bo(Error(z(423)),e),e=Ux(t,e,r,n,s);break e}else if(r!==s){s=Bo(Error(z(424)),e),e=Ux(t,e,r,n,s);break e}else for(fn=ms(e.stateNode.containerInfo.firstChild),pn=e,ze=!0,Ln=null,n=PE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mo(),r===s){e=Vr(t,e,n);break e}Wt(t,e,r,n)}e=e.child}return e;case 5:return CE(e),t===null&&fm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,lm(r,s)?o=null:i!==null&&lm(r,i)&&(e.flags|=32),tb(t,e),Wt(t,e,o,n),e.child;case 6:return t===null&&fm(e),null;case 13:return rb(t,e,n);case 4:return ly(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fo(e,null,r,n):Wt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),Lx(t,e,r,s,n);case 7:return Wt(t,e,e.pendingProps,n),e.child;case 8:return Wt(t,e,e.pendingProps.children,n),e.child;case 12:return Wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Oe(dd,r._currentValue),r._currentValue=o,i!==null)if(Wn(i.value,o)){if(i.children===s.children&&!nn.current){e=Vr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Nr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),pm(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),pm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Wt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,No(e,n),s=An(s),r=r(s),e.flags|=1,Wt(t,e,r,n),e.child;case 14:return r=e.type,s=Vn(r,e.pendingProps),s=Vn(r.type,s),Mx(t,e,r,s,n);case 15:return ZE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),Du(t,e),e.tag=1,rn(r)?(t=!0,ld(e)):t=!1,No(e,n),YE(e,r,s),gm(e,r,s,n),xm(null,e,r,!0,t,n);case 19:return sb(t,e,n);case 22:return eb(t,e,n)}throw Error(z(156,e.tag))};function wb(t,e){return GT(t,e)}function Pj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,e,n,r){return new Pj(t,e,n,r)}function Ey(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nj(t){if(typeof t=="function")return Ey(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$g)return 11;if(t===zg)return 14}return 2}function xs(t,e){var n=t.alternate;return n===null?(n=Pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Ey(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case io:return di(n.children,s,i,e);case Bg:o=8,s|=8;break;case Up:return t=Pn(12,n,e,s|2),t.elementType=Up,t.lanes=i,t;case Bp:return t=Pn(13,n,e,s),t.elementType=Bp,t.lanes=i,t;case $p:return t=Pn(19,n,e,s),t.elementType=$p,t.lanes=i,t;case CT:return Eh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NT:o=10;break e;case AT:o=9;break e;case $g:o=11;break e;case zg:o=14;break e;case Xr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Pn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function di(t,e,n,r){return t=Pn(7,t,r,e),t.lanes=n,t}function Eh(t,e,n,r){return t=Pn(22,t,r,e),t.elementType=CT,t.lanes=n,t.stateNode={isHidden:!1},t}function Yf(t,e,n){return t=Pn(6,t,null,e),t.lanes=n,t}function Xf(t,e,n){return e=Pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Aj(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kf(0),this.expirationTimes=kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function by(t,e,n,r,s,i,o,a,c){return t=new Aj(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Pn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ay(i),t}function Cj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _b(t){if(!t)return Ps;t=t._reactInternals;e:{if(Ai(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(rn(n))return _E(t,n,e)}return e}function Tb(t,e,n,r,s,i,o,a,c){return t=by(n,r,!0,t,s,i,o,a,c),t.context=_b(null),n=t.current,r=Gt(),s=vs(n),i=Nr(r,s),i.callback=e??null,gs(n,i,s),t.current.lanes=s,ac(t,s,r),sn(t,r),t}function bh(t,e,n,r){var s=e.current,i=Gt(),o=vs(s);return n=_b(n),e.context===null?e.context=n:e.pendingContext=n,e=Nr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gs(s,e,o),t!==null&&(zn(t,s,o,i),ku(t,s,o)),o}function _d(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sy(t,e){Yx(t,e),(t=t.alternate)&&Yx(t,e)}function kj(){return null}var Eb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Iy(t){this._internalRoot=t}Sh.prototype.render=Iy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));bh(t,e,null,null)};Sh.prototype.unmount=Iy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xi(function(){bh(null,t,null,null)}),e[Rr]=null}};function Sh(t){this._internalRoot=t}Sh.prototype.unstable_scheduleHydration=function(t){if(t){var e=eE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<es.length&&e!==0&&e<es[n].priority;n++);es.splice(n,0,t),n===0&&nE(t)}};function Py(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ih(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xx(){}function jj(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=_d(o);i.call(d)}}var o=Tb(e,r,t,0,null,!1,!1,"",Xx);return t._reactRootContainer=o,t[Rr]=o.current,Dl(t.nodeType===8?t.parentNode:t),xi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=_d(c);a.call(d)}}var c=by(t,0,!1,null,null,!1,!1,"",Xx);return t._reactRootContainer=c,t[Rr]=c.current,Dl(t.nodeType===8?t.parentNode:t),xi(function(){bh(e,c,n,r)}),c}function Ph(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=_d(o);a.call(c)}}bh(e,o,t,s)}else o=jj(n,e,t,s,r);return _d(o)}JT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qa(e.pendingLanes);n!==0&&(qg(e,n|1),sn(e,nt()),!(Ie&6)&&($o=nt()+500,Os()))}break;case 13:xi(function(){var r=Dr(t,1);if(r!==null){var s=Gt();zn(r,t,1,s)}}),Sy(t,1)}};Gg=function(t){if(t.tag===13){var e=Dr(t,134217728);if(e!==null){var n=Gt();zn(e,t,134217728,n)}Sy(t,134217728)}};ZT=function(t){if(t.tag===13){var e=vs(t),n=Dr(t,e);if(n!==null){var r=Gt();zn(n,t,e,r)}Sy(t,e)}};eE=function(){return je};tE=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};Jp=function(t,e,n){switch(e){case"input":if(Wp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=yh(r);if(!s)throw Error(z(90));jT(r),Wp(r,s)}}}break;case"textarea":DT(t,n);break;case"select":e=n.value,e!=null&&bo(t,!!n.multiple,e,!1)}};BT=wy;$T=xi;var Rj={usingClientEntryPoint:!1,Events:[cc,co,yh,FT,UT,wy]},Da={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dj={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=WT(t),t===null?null:t.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||kj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{fh=du.inject(Dj),nr=du}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rj;xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Py(e))throw Error(z(200));return Cj(t,e,null,n)};xn.createRoot=function(t,e){if(!Py(t))throw Error(z(299));var n=!1,r="",s=Eb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=by(t,1,!1,null,null,n,!1,r,s),t[Rr]=e.current,Dl(t.nodeType===8?t.parentNode:t),new Iy(e)};xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=WT(e),t=t===null?null:t.stateNode,t};xn.flushSync=function(t){return xi(t)};xn.hydrate=function(t,e,n){if(!Ih(e))throw Error(z(200));return Ph(null,t,e,!0,n)};xn.hydrateRoot=function(t,e,n){if(!Py(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Eb;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Tb(e,null,t,1,n??null,s,!1,i,o),t[Rr]=e.current,Dl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Sh(e)};xn.render=function(t,e,n){if(!Ih(e))throw Error(z(200));return Ph(null,t,e,!1,n)};xn.unmountComponentAtNode=function(t){if(!Ih(t))throw Error(z(40));return t._reactRootContainer?(xi(function(){Ph(null,null,t,!1,function(){t._reactRootContainer=null,t[Rr]=null})}),!0):!1};xn.unstable_batchedUpdates=wy;xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ih(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Ph(t,e,n,!1,r)};xn.version="18.3.1-next-f1338f8080-20240426";function bb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bb)}catch(t){console.error(t)}}bb(),bT.exports=xn;var Vj=bT.exports,Sb,Jx=Vj;Sb=Jx.createRoot,Jx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zl.apply(this,arguments)}var us;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(us||(us={}));const Zx="popstate";function Oj(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return km("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Td(s)}return Mj(e,n,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ib(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Lj(){return Math.random().toString(36).substr(2,8)}function ew(t,e){return{usr:t.state,key:t.key,idx:e}}function km(t,e,n,r){return n===void 0&&(n=null),zl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ia(e):e,{state:n,key:e&&e.key||r||Lj()})}function Td(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ia(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Mj(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=us.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(zl({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=us.Pop;let P=h(),S=P==null?null:P-d;d=P,c&&c({action:a,location:E.location,delta:S})}function p(P,S){a=us.Push;let x=km(E.location,P,S);d=h()+1;let _=ew(x,d),R=E.createHref(x);try{o.pushState(_,"",R)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(R)}i&&c&&c({action:a,location:E.location,delta:1})}function g(P,S){a=us.Replace;let x=km(E.location,P,S);d=h();let _=ew(x,d),R=E.createHref(x);o.replaceState(_,"",R),i&&c&&c({action:a,location:E.location,delta:0})}function w(P){let S=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof P=="string"?P:Td(P);return x=x.replace(/ $/,"%20"),lt(S,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,S)}let E={get action(){return a},get location(){return t(s,o)},listen(P){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Zx,f),c=P,()=>{s.removeEventListener(Zx,f),c=null}},createHref(P){return e(s,P)},createURL:w,encodeLocation(P){let S=w(P);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:g,go(P){return o.go(P)}};return E}var tw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(tw||(tw={}));function Fj(t,e,n){return n===void 0&&(n="/"),Uj(t,e,n,!1)}function Uj(t,e,n,r){let s=typeof e=="string"?ia(e):e,i=Ny(s.pathname||"/",n);if(i==null)return null;let o=Pb(t);Bj(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=Jj(i);a=Yj(o[c],d,r)}return a}function Pb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(lt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=ws([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(lt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Pb(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:Kj(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of Nb(i.path))s(i,o,c)}),e}function Nb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Nb(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function Bj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Qj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $j=/^:[\w-]+$/,zj=3,Hj=2,Wj=1,qj=10,Gj=-2,nw=t=>t==="*";function Kj(t,e){let n=t.split("/"),r=n.length;return n.some(nw)&&(r+=Gj),e&&(r+=Hj),n.filter(s=>!nw(s)).reduce((s,i)=>s+($j.test(i)?zj:i===""?Wj:qj),r)}function Qj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Yj(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=rw({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=rw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ws([i,f.pathname]),pathnameBase:n2(ws([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=ws([i,f.pathnameBase]))}return o}function rw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Xj(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let E=a[f]||"";o=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const w=a[f];return g&&!w?d[p]=void 0:d[p]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function Xj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ib(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Jj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ib(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ny(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Zj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ia(t):t;return{pathname:n?n.startsWith("/")?n:e2(n,e):e,search:r2(r),hash:s2(s)}}function e2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Jf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function t2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ab(t,e){let n=t2(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Cb(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ia(t):(s=zl({},t),lt(!s.pathname||!s.pathname.includes("?"),Jf("?","pathname","search",s)),lt(!s.pathname||!s.pathname.includes("#"),Jf("#","pathname","hash",s)),lt(!s.search||!s.search.includes("#"),Jf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let c=Zj(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const ws=t=>t.join("/").replace(/\/\/+/g,"/"),n2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),r2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,s2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function i2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kb=["post","put","patch","delete"];new Set(kb);const o2=["get",...kb];new Set(o2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hl.apply(this,arguments)}const Ay=C.createContext(null),a2=C.createContext(null),Ci=C.createContext(null),Nh=C.createContext(null),Ls=C.createContext({outlet:null,matches:[],isDataRoute:!1}),jb=C.createContext(null);function l2(t,e){let{relative:n}=e===void 0?{}:e;dc()||lt(!1);let{basename:r,navigator:s}=C.useContext(Ci),{hash:i,pathname:o,search:a}=Db(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:ws([r,o])),s.createHref({pathname:c,search:a,hash:i})}function dc(){return C.useContext(Nh)!=null}function ki(){return dc()||lt(!1),C.useContext(Nh).location}function Rb(t){C.useContext(Ci).static||C.useLayoutEffect(t)}function Kn(){let{isDataRoute:t}=C.useContext(Ls);return t?_2():c2()}function c2(){dc()||lt(!1);let t=C.useContext(Ay),{basename:e,future:n,navigator:r}=C.useContext(Ci),{matches:s}=C.useContext(Ls),{pathname:i}=ki(),o=JSON.stringify(Ab(s,n.v7_relativeSplatPath)),a=C.useRef(!1);return Rb(()=>{a.current=!0}),C.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let f=Cb(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ws([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function Ah(){let{matches:t}=C.useContext(Ls),e=t[t.length-1];return e?e.params:{}}function Db(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=C.useContext(Ci),{matches:s}=C.useContext(Ls),{pathname:i}=ki(),o=JSON.stringify(Ab(s,r.v7_relativeSplatPath));return C.useMemo(()=>Cb(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function u2(t,e){return d2(t,e)}function d2(t,e,n,r){dc()||lt(!1);let{navigator:s}=C.useContext(Ci),{matches:i}=C.useContext(Ls),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=ki(),h;if(e){var f;let P=typeof e=="string"?ia(e):e;c==="/"||(f=P.pathname)!=null&&f.startsWith(c)||lt(!1),h=P}else h=d;let p=h.pathname||"/",g=p;if(c!=="/"){let P=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(P.length).join("/")}let w=Fj(t,{pathname:g}),E=g2(w&&w.map(P=>Object.assign({},P,{params:Object.assign({},a,P.params),pathname:ws([c,s.encodeLocation?s.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?c:ws([c,s.encodeLocation?s.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),i,n,r);return e&&E?C.createElement(Nh.Provider,{value:{location:Hl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:us.Pop}},E):E}function h2(){let t=w2(),e=i2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,null)}const f2=C.createElement(h2,null);class p2 extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(Ls.Provider,{value:this.props.routeContext},C.createElement(jb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m2(t){let{routeContext:e,match:n,children:r}=t,s=C.useContext(Ay);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Ls.Provider,{value:e},r)}function g2(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||lt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:g}=n,w=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||w){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let g,w=!1,E=null,P=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,E=f.route.errorElement||f2,c&&(d<0&&p===0?(w=!0,P=null):d===p&&(w=!0,P=f.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,p+1)),x=()=>{let _;return g?_=E:w?_=P:f.route.Component?_=C.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=h,C.createElement(m2,{match:f,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?C.createElement(p2,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:x(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):x()},null)}var Vb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Vb||{}),Ed=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ed||{});function y2(t){let e=C.useContext(Ay);return e||lt(!1),e}function v2(t){let e=C.useContext(a2);return e||lt(!1),e}function x2(t){let e=C.useContext(Ls);return e||lt(!1),e}function Ob(t){let e=x2(),n=e.matches[e.matches.length-1];return n.route.id||lt(!1),n.route.id}function w2(){var t;let e=C.useContext(jb),n=v2(Ed.UseRouteError),r=Ob(Ed.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _2(){let{router:t}=y2(Vb.UseNavigateStable),e=Ob(Ed.UseNavigateStable),n=C.useRef(!1);return Rb(()=>{n.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Hl({fromRouteId:e},i)))},[t,e])}function T2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ze(t){lt(!1)}function E2(t){let{basename:e="/",children:n=null,location:r,navigationType:s=us.Pop,navigator:i,static:o=!1,future:a}=t;dc()&&lt(!1);let c=e.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:c,navigator:i,static:o,future:Hl({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=ia(r));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:w="default"}=r,E=C.useMemo(()=>{let P=Ny(h,c);return P==null?null:{location:{pathname:P,search:f,hash:p,state:g,key:w},navigationType:s}},[c,h,f,p,g,w,s]);return E==null?null:C.createElement(Ci.Provider,{value:d},C.createElement(Nh.Provider,{children:n,value:E}))}function b2(t){let{children:e,location:n}=t;return u2(jm(e),n)}new Promise(()=>{});function jm(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,jm(r.props.children,i));return}r.type!==Ze&&lt(!1),!r.props.index||!r.props.children||lt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=jm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rm.apply(this,arguments)}function S2(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function I2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function P2(t,e){return t.button===0&&(!e||e==="_self")&&!I2(t)}function Dm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function N2(t,e){let n=Dm(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const A2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C2="6";try{window.__reactRouterVersion=C2}catch{}const k2="startTransition",sw=bC[k2];function j2(t){let{basename:e,children:n,future:r,window:s}=t,i=C.useRef();i.current==null&&(i.current=Oj({window:s,v5Compat:!0}));let o=i.current,[a,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=C.useCallback(f=>{d&&sw?sw(()=>c(f)):c(f)},[c,d]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.useEffect(()=>T2(r),[r]),C.createElement(E2,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const R2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",D2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=C.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,p=S2(e,A2),{basename:g}=C.useContext(Ci),w,E=!1;if(typeof d=="string"&&D2.test(d)&&(w=d,R2))try{let _=new URL(window.location.href),R=d.startsWith("//")?new URL(_.protocol+d):new URL(d),L=Ny(R.pathname,g);R.origin===_.origin&&L!=null?d=L+R.search+R.hash:E=!0}catch{}let P=l2(d,{relative:s}),S=V2(d,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:f});function x(_){r&&r(_),_.defaultPrevented||S(_)}return C.createElement("a",Rm({},p,{href:w||P,onClick:E||i?r:x,ref:n,target:c}))});var iw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iw||(iw={}));var ow;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ow||(ow={}));function V2(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=Kn(),d=ki(),h=Db(t,{relative:o});return C.useCallback(f=>{if(P2(f,n)){f.preventDefault();let p=r!==void 0?r:Td(d)===Td(h);c(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,c,h,r,s,n,t,i,o,a])}function O2(t){let e=C.useRef(Dm(t)),n=C.useRef(!1),r=ki(),s=C.useMemo(()=>N2(r.search,n.current?null:e.current),[r.search]),i=Kn(),o=C.useCallback((a,c)=>{const d=Dm(typeof a=="function"?a(s):a);n.current=!0,i("?"+d,c)},[i,s]);return[s,o]}var Lb={exports:{}},L2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",M2=L2,F2=M2;function Mb(){}function Fb(){}Fb.resetWarningCache=Mb;var U2=function(){function t(r,s,i,o,a,c){if(c!==F2){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Fb,resetWarningCache:Mb};return n.PropTypes=n,n};Lb.exports=U2();var B2=Lb.exports;const de=ic(B2);function $2(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Ub=C,z2=$2(Ub);function aw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var W2=!!(typeof window<"u"&&window.document&&window.document.createElement);function q2(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],a;function c(){a=t(o.map(function(h){return h.props})),d.canUseDOM?e(a):n&&(a=n(a))}var d=function(h){H2(f,h);function f(){return h.apply(this,arguments)||this}f.peek=function(){return a},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var w=a;return a=void 0,o=[],w};var p=f.prototype;return p.UNSAFE_componentWillMount=function(){o.push(this),c()},p.componentDidUpdate=function(){c()},p.componentWillUnmount=function(){var w=o.indexOf(this);o.splice(w,1),c()},p.render=function(){return z2.createElement(i,this.props)},f}(Ub.PureComponent);return aw(d,"displayName","SideEffect("+r(i)+")"),aw(d,"canUseDOM",W2),d}}var G2=q2;const K2=ic(G2);var Q2=typeof Element<"u",Y2=typeof Map=="function",X2=typeof Set=="function",J2=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Mu(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Mu(t[r],e[r]))return!1;return!0}var i;if(Y2&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!Mu(r.value[1],e.get(r.value[0])))return!1;return!0}if(X2&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(J2&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(Q2&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!Mu(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var Z2=function(e,n){try{return Mu(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const eR=ic(Z2);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var lw=Object.getOwnPropertySymbols,tR=Object.prototype.hasOwnProperty,nR=Object.prototype.propertyIsEnumerable;function rR(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function sR(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var iR=sR()?Object.assign:function(t,e){for(var n,r=rR(t),s,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var o in n)tR.call(n,o)&&(r[o]=n[o]);if(lw){s=lw(n);for(var a=0;a<s.length;a++)nR.call(n,s[a])&&(r[s[a]]=n[s[a]])}}return r};const oR=ic(iR);var hi={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},ge={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(ge).map(function(t){return ge[t]});var $e={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},bd={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Wl={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},aR=Object.keys(bd).reduce(function(t,e){return t[bd[e]]=e,t},{}),lR=[ge.NOSCRIPT,ge.SCRIPT,ge.STYLE],Fn="data-react-helmet",cR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uR=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},dR=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Jt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hR=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},cw=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},fR=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Vm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},pR=function(e){var n=Co(e,ge.TITLE),r=Co(e,Wl.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=Co(e,Wl.DEFAULT_TITLE);return n||s||void 0},mR=function(e){return Co(e,Wl.ON_CHANGE_CLIENT_STATE)||function(){}},Zf=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return Jt({},r,s)},{})},gR=function(e,n){return n.filter(function(r){return typeof r[ge.BASE]<"u"}).map(function(r){return r[ge.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var i=Object.keys(s),o=0;o<i.length;o++){var a=i[o],c=a.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},Va=function(e,n,r){var s={};return r.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&wR("Helmet: "+e+' should be of type "Array". Instead found type "'+cR(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,o){var a={};o.filter(function(p){for(var g=void 0,w=Object.keys(p),E=0;E<w.length;E++){var P=w[E],S=P.toLowerCase();n.indexOf(S)!==-1&&!(g===$e.REL&&p[g].toLowerCase()==="canonical")&&!(S===$e.REL&&p[S].toLowerCase()==="stylesheet")&&(g=S),n.indexOf(P)!==-1&&(P===$e.INNER_HTML||P===$e.CSS_TEXT||P===$e.ITEM_PROP)&&(g=P)}if(!g||!p[g])return!1;var x=p[g].toLowerCase();return s[g]||(s[g]={}),a[g]||(a[g]={}),s[g][x]?!1:(a[g][x]=!0,!0)}).reverse().forEach(function(p){return i.push(p)});for(var c=Object.keys(a),d=0;d<c.length;d++){var h=c[d],f=oR({},s[h],a[h]);s[h]=f}return i},[]).reverse()},Co=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},yR=function(e){return{baseTag:gR([$e.HREF,$e.TARGET],e),bodyAttributes:Zf(hi.BODY,e),defer:Co(e,Wl.DEFER),encode:Co(e,Wl.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Zf(hi.HTML,e),linkTags:Va(ge.LINK,[$e.REL,$e.HREF],e),metaTags:Va(ge.META,[$e.NAME,$e.CHARSET,$e.HTTPEQUIV,$e.PROPERTY,$e.ITEM_PROP],e),noscriptTags:Va(ge.NOSCRIPT,[$e.INNER_HTML],e),onChangeClientState:mR(e),scriptTags:Va(ge.SCRIPT,[$e.SRC,$e.INNER_HTML],e),styleTags:Va(ge.STYLE,[$e.CSS_TEXT],e),title:pR(e),titleAttributes:Zf(hi.TITLE,e)}},Om=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Om(e)},0)}}(),uw=function(e){return clearTimeout(e)},vR=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Om:global.requestAnimationFrame||Om,xR=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||uw:global.cancelAnimationFrame||uw,wR=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Oa=null,_R=function(e){Oa&&xR(Oa),e.defer?Oa=vR(function(){dw(e,function(){Oa=null})}):(dw(e),Oa=null)},dw=function(e,n){var r=e.baseTag,s=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,c=e.noscriptTags,d=e.onChangeClientState,h=e.scriptTags,f=e.styleTags,p=e.title,g=e.titleAttributes;Lm(ge.BODY,s),Lm(ge.HTML,i),TR(p,g);var w={baseTag:Zi(ge.BASE,r),linkTags:Zi(ge.LINK,o),metaTags:Zi(ge.META,a),noscriptTags:Zi(ge.NOSCRIPT,c),scriptTags:Zi(ge.SCRIPT,h),styleTags:Zi(ge.STYLE,f)},E={},P={};Object.keys(w).forEach(function(S){var x=w[S],_=x.newTags,R=x.oldTags;_.length&&(E[S]=_),R.length&&(P[S]=w[S].oldTags)}),n&&n(),d(e,E,P)},Bb=function(e){return Array.isArray(e)?e.join(""):e},TR=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=Bb(e)),Lm(ge.TITLE,n)},Lm=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(Fn),i=s?s.split(","):[],o=[].concat(i),a=Object.keys(n),c=0;c<a.length;c++){var d=a[c],h=n[d]||"";r.getAttribute(d)!==h&&r.setAttribute(d,h),i.indexOf(d)===-1&&i.push(d);var f=o.indexOf(d);f!==-1&&o.splice(f,1)}for(var p=o.length-1;p>=0;p--)r.removeAttribute(o[p]);i.length===o.length?r.removeAttribute(Fn):r.getAttribute(Fn)!==a.join(",")&&r.setAttribute(Fn,a.join(","))}},Zi=function(e,n){var r=document.head||document.querySelector(ge.HEAD),s=r.querySelectorAll(e+"["+Fn+"]"),i=Array.prototype.slice.call(s),o=[],a=void 0;return n&&n.length&&n.forEach(function(c){var d=document.createElement(e);for(var h in c)if(c.hasOwnProperty(h))if(h===$e.INNER_HTML)d.innerHTML=c.innerHTML;else if(h===$e.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[h]>"u"?"":c[h];d.setAttribute(h,f)}d.setAttribute(Fn,"true"),i.some(function(p,g){return a=g,d.isEqualNode(p)})?i.splice(a,1):o.push(d)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return r.appendChild(c)}),{oldTags:i,newTags:o}},$b=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},ER=function(e,n,r,s){var i=$b(r),o=Bb(n);return i?"<"+e+" "+Fn+'="true" '+i+">"+Vm(o,s)+"</"+e+">":"<"+e+" "+Fn+'="true">'+Vm(o,s)+"</"+e+">"},bR=function(e,n,r){return n.reduce(function(s,i){var o=Object.keys(i).filter(function(d){return!(d===$e.INNER_HTML||d===$e.CSS_TEXT)}).reduce(function(d,h){var f=typeof i[h]>"u"?h:h+'="'+Vm(i[h],r)+'"';return d?d+" "+f:f},""),a=i.innerHTML||i.cssText||"",c=lR.indexOf(e)===-1;return s+"<"+e+" "+Fn+'="true" '+o+(c?"/>":">"+a+"</"+e+">")},"")},zb=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[bd[s]||s]=e[s],r},n)},SR=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[aR[s]||s]=e[s],r},n)},IR=function(e,n,r){var s,i=(s={key:n},s[Fn]=!0,s),o=zb(r,i);return[Z.createElement(ge.TITLE,o,n)]},PR=function(e,n){return n.map(function(r,s){var i,o=(i={key:s},i[Fn]=!0,i);return Object.keys(r).forEach(function(a){var c=bd[a]||a;if(c===$e.INNER_HTML||c===$e.CSS_TEXT){var d=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[c]=r[a]}),Z.createElement(e,o)})},yr=function(e,n,r){switch(e){case ge.TITLE:return{toComponent:function(){return IR(e,n.title,n.titleAttributes)},toString:function(){return ER(e,n.title,n.titleAttributes,r)}};case hi.BODY:case hi.HTML:return{toComponent:function(){return zb(n)},toString:function(){return $b(n)}};default:return{toComponent:function(){return PR(e,n)},toString:function(){return bR(e,n,r)}}}},Hb=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,c=e.noscriptTags,d=e.scriptTags,h=e.styleTags,f=e.title,p=f===void 0?"":f,g=e.titleAttributes;return{base:yr(ge.BASE,n,s),bodyAttributes:yr(hi.BODY,r,s),htmlAttributes:yr(hi.HTML,i,s),link:yr(ge.LINK,o,s),meta:yr(ge.META,a,s),noscript:yr(ge.NOSCRIPT,c,s),script:yr(ge.SCRIPT,d,s),style:yr(ge.STYLE,h,s),title:yr(ge.TITLE,{title:p,titleAttributes:g},s)}},NR=function(e){var n,r;return r=n=function(s){hR(i,s);function i(){return uR(this,i),fR(this,s.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(a){return!eR(this.props,a)},i.prototype.mapNestedChildrenToProps=function(a,c){if(!c)return null;switch(a.type){case ge.SCRIPT:case ge.NOSCRIPT:return{innerHTML:c};case ge.STYLE:return{cssText:c}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(a){var c,d=a.child,h=a.arrayTypeChildren,f=a.newChildProps,p=a.nestedChildren;return Jt({},h,(c={},c[d.type]=[].concat(h[d.type]||[],[Jt({},f,this.mapNestedChildrenToProps(d,p))]),c))},i.prototype.mapObjectTypeChildren=function(a){var c,d,h=a.child,f=a.newProps,p=a.newChildProps,g=a.nestedChildren;switch(h.type){case ge.TITLE:return Jt({},f,(c={},c[h.type]=g,c.titleAttributes=Jt({},p),c));case ge.BODY:return Jt({},f,{bodyAttributes:Jt({},p)});case ge.HTML:return Jt({},f,{htmlAttributes:Jt({},p)})}return Jt({},f,(d={},d[h.type]=Jt({},p),d))},i.prototype.mapArrayTypeChildrenToProps=function(a,c){var d=Jt({},c);return Object.keys(a).forEach(function(h){var f;d=Jt({},d,(f={},f[h]=a[h],f))}),d},i.prototype.warnOnInvalidChildren=function(a,c){return!0},i.prototype.mapChildrenToProps=function(a,c){var d=this,h={};return Z.Children.forEach(a,function(f){if(!(!f||!f.props)){var p=f.props,g=p.children,w=cw(p,["children"]),E=SR(w);switch(d.warnOnInvalidChildren(f,g),f.type){case ge.LINK:case ge.META:case ge.NOSCRIPT:case ge.SCRIPT:case ge.STYLE:h=d.flattenArrayTypeChildren({child:f,arrayTypeChildren:h,newChildProps:E,nestedChildren:g});break;default:c=d.mapObjectTypeChildren({child:f,newProps:c,newChildProps:E,nestedChildren:g});break}}}),c=this.mapArrayTypeChildrenToProps(h,c),c},i.prototype.render=function(){var a=this.props,c=a.children,d=cw(a,["children"]),h=Jt({},d);return c&&(h=this.mapChildrenToProps(c,h)),Z.createElement(e,h)},dR(i,null,[{key:"canUseDOM",set:function(a){e.canUseDOM=a}}]),i}(Z.Component),n.propTypes={base:de.object,bodyAttributes:de.object,children:de.oneOfType([de.arrayOf(de.node),de.node]),defaultTitle:de.string,defer:de.bool,encodeSpecialCharacters:de.bool,htmlAttributes:de.object,link:de.arrayOf(de.object),meta:de.arrayOf(de.object),noscript:de.arrayOf(de.object),onChangeClientState:de.func,script:de.arrayOf(de.object),style:de.arrayOf(de.object),title:de.string,titleAttributes:de.object,titleTemplate:de.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=Hb({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},AR=function(){return null},CR=K2(yR,_R,Hb)(AR),zo=NR(CR);zo.renderStatic=zo.rewind;let kR={data:""},jR=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||kR,RR=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,DR=/\/\*[^]*?\*\/|  +/g,hw=/\n+/g,ns=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?ns(o,i):i+"{"+ns(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=ns(o,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,a):a?a+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ns.p?ns.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},vr={},Wb=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Wb(t[n]);return e}return t},VR=(t,e,n,r,s)=>{let i=Wb(t),o=vr[i]||(vr[i]=(c=>{let d=0,h=11;for(;d<c.length;)h=101*h+c.charCodeAt(d++)>>>0;return"go"+h})(i));if(!vr[o]){let c=i!==t?t:(d=>{let h,f,p=[{}];for(;h=RR.exec(d.replace(DR,""));)h[4]?p.shift():h[3]?(f=h[3].replace(hw," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][h[1]]=h[2].replace(hw," ").trim();return p[0]})(t);vr[o]=ns(s?{["@keyframes "+o]:c}:c,n?"":"."+o)}let a=n&&vr.g?vr.g:null;return n&&(vr.g=vr[o]),((c,d,h,f)=>{f?d.data=d.data.replace(f,c):d.data.indexOf(c)===-1&&(d.data=h?c+d.data:d.data+c)})(vr[o],e,r,a),o},OR=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let a=o(n),c=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=c?"."+c:a&&typeof a=="object"?a.props?"":ns(a,""):a===!1?"":a}return r+s+(o??"")},"");function Ch(t){let e=this||{},n=t.call?t(e.p):t;return VR(n.unshift?n.raw?OR(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,jR(e.target),e.g,e.o,e.k)}let qb,Mm,Fm;Ch.bind({g:1});let Or=Ch.bind({k:1});function LR(t,e,n,r){ns.p=e,qb=t,Mm=n,Fm=r}function Ms(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),c=a.className||s.className;n.p=Object.assign({theme:Mm&&Mm()},a),n.o=/ *go\d+/.test(c),a.className=Ch.apply(n,r)+(c?" "+c:"");let d=t;return t[0]&&(d=a.as||t,delete a.as),Fm&&d[0]&&Fm(a),qb(d,a)}return s}}var MR=t=>typeof t=="function",Sd=(t,e)=>MR(t)?t(e):t,FR=(()=>{let t=0;return()=>(++t).toString()})(),Gb=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),UR=20,Kb=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,UR)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return Kb(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Fu=[],ii={toasts:[],pausedAt:void 0},ji=t=>{ii=Kb(ii,t),Fu.forEach(e=>{e(ii)})},BR={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$R=(t={})=>{let[e,n]=C.useState(ii),r=C.useRef(ii);C.useEffect(()=>(r.current!==ii&&n(ii),Fu.push(n),()=>{let i=Fu.indexOf(n);i>-1&&Fu.splice(i,1)}),[]);let s=e.toasts.map(i=>{var o,a,c;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||BR[i.type],style:{...t.style,...(c=t[i.type])==null?void 0:c.style,...i.style}}});return{...e,toasts:s}},zR=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||FR()}),hc=t=>(e,n)=>{let r=zR(e,t,n);return ji({type:2,toast:r}),r.id},Se=(t,e)=>hc("blank")(t,e);Se.error=hc("error");Se.success=hc("success");Se.loading=hc("loading");Se.custom=hc("custom");Se.dismiss=t=>{ji({type:3,toastId:t})};Se.remove=t=>ji({type:4,toastId:t});Se.promise=(t,e,n)=>{let r=Se.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?Sd(e.success,s):void 0;return i?Se.success(i,{id:r,...n,...n==null?void 0:n.success}):Se.dismiss(r),s}).catch(s=>{let i=e.error?Sd(e.error,s):void 0;i?Se.error(i,{id:r,...n,...n==null?void 0:n.error}):Se.dismiss(r)}),t};var HR=(t,e)=>{ji({type:1,toast:{id:t,height:e}})},WR=()=>{ji({type:5,time:Date.now()})},cl=new Map,qR=1e3,GR=(t,e=qR)=>{if(cl.has(t))return;let n=setTimeout(()=>{cl.delete(t),ji({type:4,toastId:t})},e);cl.set(t,n)},KR=t=>{let{toasts:e,pausedAt:n}=$R(t);C.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let c=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(c<0){a.visible&&Se.dismiss(a.id);return}return setTimeout(()=>Se.dismiss(a.id),c)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=C.useCallback(()=>{n&&ji({type:6,time:Date.now()})},[n]),s=C.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:c=8,defaultPosition:d}=o||{},h=e.filter(g=>(g.position||d)===(i.position||d)&&g.height),f=h.findIndex(g=>g.id===i.id),p=h.filter((g,w)=>w<f&&g.visible).length;return h.filter(g=>g.visible).slice(...a?[p+1]:[0,p]).reduce((g,w)=>g+(w.height||0)+c,0)},[e]);return C.useEffect(()=>{e.forEach(i=>{if(i.dismissed)GR(i.id,i.removeDelay);else{let o=cl.get(i.id);o&&(clearTimeout(o),cl.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:HR,startPause:WR,endPause:r,calculateOffset:s}}},QR=Or`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,YR=Or`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,XR=Or`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,JR=Ms("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${QR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${YR} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${XR} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ZR=Or`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,eD=Ms("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${ZR} 1s linear infinite;
`,tD=Or`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,nD=Or`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,rD=Ms("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${nD} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,sD=Ms("div")`
  position: absolute;
`,iD=Ms("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,oD=Or`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aD=Ms("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${oD} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,lD=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?C.createElement(aD,null,e):e:n==="blank"?null:C.createElement(iD,null,C.createElement(eD,{...r}),n!=="loading"&&C.createElement(sD,null,n==="error"?C.createElement(JR,{...r}):C.createElement(rD,{...r})))},cD=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,uD=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,dD="0%{opacity:0;} 100%{opacity:1;}",hD="0%{opacity:1;} 100%{opacity:0;}",fD=Ms("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pD=Ms("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,mD=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=Gb()?[dD,hD]:[cD(n),uD(n)];return{animation:e?`${Or(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Or(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},gD=C.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?mD(t.position||e||"top-center",t.visible):{opacity:0},i=C.createElement(lD,{toast:t}),o=C.createElement(pD,{...t.ariaProps},Sd(t.message,t));return C.createElement(fD,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):C.createElement(C.Fragment,null,i,o))});LR(C.createElement);var yD=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=C.useCallback(o=>{if(o){let a=()=>{let c=o.getBoundingClientRect().height;r(t,c)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return C.createElement("div",{ref:i,className:e,style:n},s)},vD=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Gb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},xD=Ch`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hu=16,wD=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:c}=KR(n);return C.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:hu,left:hu,right:hu,bottom:hu,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},a.map(d=>{let h=d.position||e,f=c.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),p=vD(h,f);return C.createElement(yD,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?xD:"",style:p},d.type==="custom"?Sd(d.message,d):s?s(d):C.createElement(gD,{toast:d,position:h}))}))},fw=Se,pw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},_D=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Yb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|d>>6,g=d&63;c||(g=64,o||(p=64)),r.push(n[h],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_D(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new TD;const p=i<<2|a>>4;if(r.push(p),d!==64){const g=a<<4&240|d>>2;if(r.push(g),f!==64){const w=d<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ED=function(t){const e=Qb(t);return Yb.encodeByteArray(e,!0)},Id=function(t){return ED(t).replace(/\./g,"")},Xb=function(t){try{return Yb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=()=>bD().__FIREBASE_DEFAULTS__,ID=()=>{if(typeof process>"u"||typeof pw>"u")return;const t=pw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xb(t[1]);return e&&JSON.parse(e)},kh=()=>{try{return SD()||ID()||PD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Jb=t=>{var e,n;return(n=(e=kh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Zb=t=>{const e=Jb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eS=()=>{var t;return(t=kh())===null||t===void 0?void 0:t.config},tS=t=>{var e;return(e=kh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Id(JSON.stringify(n)),Id(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function CD(){var t;const e=(t=kh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RD(){const t=Ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DD(){return!CD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sS(){try{return typeof indexedDB=="object"}catch{return!1}}function iS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function VD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="FirebaseError";class jn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OD,Object.setPrototypeOf(this,jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ri.prototype.create)}}class Ri{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?LD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new jn(s,a,r)}}function LD(t,e){return t.replace(MD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const MD=/\{\$([^}]+)}/g;function FD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ql(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(mw(i)&&mw(o)){if(!ql(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function mw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ka(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Qa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function UD(t,e){const n=new BD(t,e);return n.subscribe.bind(n)}class BD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$D(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ep),s.error===void 0&&(s.error=ep),s.complete===void 0&&(s.complete=ep);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $D(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ep(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=1e3,HD=2,WD=4*60*60*1e3,qD=.5;function gw(t,e=zD,n=HD){const r=e*Math.pow(n,t),s=Math.round(qD*r*(Math.random()-.5)*2);return Math.min(WD,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return t&&t._delegate?t._delegate:t}class kn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ND;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QD(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KD(t){return t===Js?void 0:t}function QD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const XD={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},JD=Ee.INFO,ZD={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},eV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=ZD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jh{constructor(e){this.name=e,this._logLevel=JD,this._logHandler=eV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const tV=(t,e)=>e.some(n=>t instanceof n);let yw,vw;function nV(){return yw||(yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rV(){return vw||(vw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oS=new WeakMap,Um=new WeakMap,aS=new WeakMap,tp=new WeakMap,Cy=new WeakMap;function sV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(_s(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&oS.set(n,t)}).catch(()=>{}),Cy.set(e,t),e}function iV(t){if(Um.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Um.set(t,e)}let Bm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oV(t){Bm=t(Bm)}function aV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(np(this),e,...n);return aS.set(r,e.sort?e.sort():[e]),_s(r)}:rV().includes(t)?function(...e){return t.apply(np(this),e),_s(oS.get(this))}:function(...e){return _s(t.apply(np(this),e))}}function lV(t){return typeof t=="function"?aV(t):(t instanceof IDBTransaction&&iV(t),tV(t,nV())?new Proxy(t,Bm):t)}function _s(t){if(t instanceof IDBRequest)return sV(t);if(tp.has(t))return tp.get(t);const e=lV(t);return e!==t&&(tp.set(t,e),Cy.set(e,t)),e}const np=t=>Cy.get(t);function lS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=_s(o);return r&&o.addEventListener("upgradeneeded",c=>{r(_s(o.result),c.oldVersion,c.newVersion,_s(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const cV=["get","getKey","getAll","getAllKeys","count"],uV=["put","add","delete","clear"],rp=new Map;function xw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rp.get(e))return rp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=uV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||cV.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&c.done]))[0]};return rp.set(e,i),i}oV(t=>({...t,get:(e,n,r)=>xw(e,n)||t.get(e,n,r),has:(e,n)=>!!xw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $m="@firebase/app",ww="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new jh("@firebase/app"),fV="@firebase/app-compat",pV="@firebase/analytics-compat",mV="@firebase/analytics",gV="@firebase/app-check-compat",yV="@firebase/app-check",vV="@firebase/auth",xV="@firebase/auth-compat",wV="@firebase/database",_V="@firebase/data-connect",TV="@firebase/database-compat",EV="@firebase/functions",bV="@firebase/functions-compat",SV="@firebase/installations",IV="@firebase/installations-compat",PV="@firebase/messaging",NV="@firebase/messaging-compat",AV="@firebase/performance",CV="@firebase/performance-compat",kV="@firebase/remote-config",jV="@firebase/remote-config-compat",RV="@firebase/storage",DV="@firebase/storage-compat",VV="@firebase/firestore",OV="@firebase/vertexai-preview",LV="@firebase/firestore-compat",MV="firebase",FV="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="[DEFAULT]",UV={[$m]:"fire-core",[fV]:"fire-core-compat",[mV]:"fire-analytics",[pV]:"fire-analytics-compat",[yV]:"fire-app-check",[gV]:"fire-app-check-compat",[vV]:"fire-auth",[xV]:"fire-auth-compat",[wV]:"fire-rtdb",[_V]:"fire-data-connect",[TV]:"fire-rtdb-compat",[EV]:"fire-fn",[bV]:"fire-fn-compat",[SV]:"fire-iid",[IV]:"fire-iid-compat",[PV]:"fire-fcm",[NV]:"fire-fcm-compat",[AV]:"fire-perf",[CV]:"fire-perf-compat",[kV]:"fire-rc",[jV]:"fire-rc-compat",[RV]:"fire-gcs",[DV]:"fire-gcs-compat",[VV]:"fire-fst",[LV]:"fire-fst-compat",[OV]:"fire-vertex","fire-js":"fire-js",[MV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=new Map,BV=new Map,Hm=new Map;function _w(t,e){try{t.container.addComponent(e)}catch(n){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qn(t){const e=t.name;if(Hm.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,t);for(const n of Pd.values())_w(n,t);for(const n of BV.values())_w(n,t);return!0}function Fs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function er(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new Ri("app","Firebase",$V);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=FV;function cS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ts.create("bad-app-name",{appName:String(s)});if(n||(n=eS()),!n)throw Ts.create("no-options");const i=Pd.get(s);if(i){if(ql(n,i.options)&&ql(r,i.config))return i;throw Ts.create("duplicate-app",{appName:s})}const o=new YD(s);for(const c of Hm.values())o.addComponent(c);const a=new zV(n,r,o);return Pd.set(s,a),a}function Rh(t=zm){const e=Pd.get(t);if(!e&&t===zm&&eS())return cS();if(!e)throw Ts.create("no-app",{appName:t});return e}function on(t,e,n){var r;let s=(r=UV[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(a.join(" "));return}qn(new kn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="firebase-heartbeat-database",WV=1,Gl="firebase-heartbeat-store";let sp=null;function uS(){return sp||(sp=lS(HV,WV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ts.create("idb-open",{originalErrorMessage:t.message})})),sp}async function qV(t){try{const n=(await uS()).transaction(Gl),r=await n.objectStore(Gl).get(dS(t));return await n.done,r}catch(e){if(e instanceof jn)Lr.warn(e.message);else{const n=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lr.warn(n.message)}}}async function Tw(t,e){try{const r=(await uS()).transaction(Gl,"readwrite");await r.objectStore(Gl).put(e,dS(t)),await r.done}catch(n){if(n instanceof jn)Lr.warn(n.message);else{const r=Ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Lr.warn(r.message)}}}function dS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=1024,KV=30*24*60*60*1e3;class QV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ew();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=KV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Lr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ew(),{heartbeatsToSend:r,unsentEntries:s}=YV(this._heartbeatsCache.heartbeats),i=Id(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Lr.warn(n),""}}}function Ew(){return new Date().toISOString().substring(0,10)}function YV(t,e=GV){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),bw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),bw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sS()?iS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function bw(t){return Id(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t){qn(new kn("platform-logger",e=>new dV(e),"PRIVATE")),qn(new kn("heartbeat",e=>new QV(e),"PRIVATE")),on($m,ww,t),on($m,ww,"esm2017"),on("fire-js","")}JV("");function ky(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function hS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZV=hS,fS=new Ri("auth","Firebase",hS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new jh("@firebase/auth");function eO(t,...e){Nd.logLevel<=Ee.WARN&&Nd.warn(`Auth (${Di}): ${t}`,...e)}function Uu(t,...e){Nd.logLevel<=Ee.ERROR&&Nd.error(`Auth (${Di}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw jy(t,...e)}function sr(t,...e){return jy(t,...e)}function pS(t,e,n){const r=Object.assign(Object.assign({},ZV()),{[e]:n});return new Ri("auth","Firebase",r).create(e,{appName:t.name})}function Ar(t){return pS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fS.create(t,...e)}function ue(t,e,...n){if(!t)throw jy(e,...n)}function br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uu(e),new Error(e)}function Mr(t,e){t||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tO(){return Sw()==="http:"||Sw()==="https:"}function Sw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tO()||rS()||"connection"in navigator)?navigator.onLine:!0}function rO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mr(n>e,"Short delay should be less than long delay!"),this.isMobile=AD()||jD()}get(){return nO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t,e){Mr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=new pc(3e4,6e4);function Us(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zr(t,e,n,r,s={}){return gS(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=fc(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},i);return kD()||(d.referrerPolicy="no-referrer"),mS.fetch()(yS(t,t.config.apiHost,n,a),d)})}async function gS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},sO),e);try{const s=new aO(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw fu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw fu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw fu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw fu(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw pS(t,h,d);Gn(t,h)}}catch(s){if(s instanceof jn)throw s;Gn(t,"network-request-failed",{message:String(s)})}}async function mc(t,e,n,r,s={}){const i=await zr(t,e,n,r,s);return"mfaPendingCredential"in i&&Gn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function yS(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Ry(t.config,s):`${t.config.apiScheme}://${s}`}function oO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),iO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=sr(t,e,r);return s.customData._tokenResponse=n,s}function Iw(t){return t!==void 0&&t.enterprise!==void 0}class lO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function cO(t,e){return zr(t,"GET","/v2/recaptchaConfig",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(t,e){return zr(t,"POST","/v1/accounts:delete",e)}async function vS(t,e){return zr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dO(t,e=!1){const n=vt(t),r=await n.getIdToken(e),s=Dy(r);ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ul(ip(s.auth_time)),issuedAtTime:ul(ip(s.iat)),expirationTime:ul(ip(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ip(t){return Number(t)*1e3}function Dy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uu("JWT malformed, contained fewer than 3 sections"),null;try{const s=Xb(n);return s?JSON.parse(s):(Uu("Failed to decode base64 JWT payload"),null)}catch(s){return Uu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Pw(t){const e=Dy(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof jn&&hO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ho(t,vS(n,{idToken:r}));ue(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?xS(i.providerUserInfo):[],a=mO(t.providerData,o),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=c?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new qm(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function pO(t){const e=vt(t);await Ad(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mO(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function xS(t){return t.map(e=>{var{providerId:n}=e,r=ky(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(t,e){const n=await gS(t,{},async()=>{const r=fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=yS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yO(t,e){return zr(t,"POST","/v2/accounts:revokeToken",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=Pw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await gO(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ko;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ue(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Sr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=ky(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new qm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ho(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dO(this,e)}reload(){return pO(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ad(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(er(this.auth.app))return Promise.reject(Ar(this.auth));const e=await this.getIdToken();return await Ho(this,uO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,d,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,S=(d=n.createdAt)!==null&&d!==void 0?d:void 0,x=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:_,emailVerified:R,isAnonymous:L,providerData:V,stsTokenManager:T}=n;ue(_&&T,e,"internal-error");const v=ko.fromJSON(this.name,T);ue(typeof _=="string",e,"internal-error"),Kr(f,e.name),Kr(p,e.name),ue(typeof R=="boolean",e,"internal-error"),ue(typeof L=="boolean",e,"internal-error"),Kr(g,e.name),Kr(w,e.name),Kr(E,e.name),Kr(P,e.name),Kr(S,e.name),Kr(x,e.name);const I=new Sr({uid:_,auth:e,email:p,emailVerified:R,displayName:f,isAnonymous:L,photoURL:w,phoneNumber:g,tenantId:E,stsTokenManager:v,createdAt:S,lastLoginAt:x});return V&&Array.isArray(V)&&(I.providerData=V.map(A=>Object.assign({},A))),P&&(I._redirectEventId=P),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new ko;s.updateFromServerResponse(n);const i=new Sr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ad(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ue(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?xS(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ko;a.updateFromIdToken(r);const c=new Sr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new qm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new Map;function Ir(t){Mr(t instanceof Function,"Expected a class definition");let e=Nw.get(t);return e?(Mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Nw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wS.type="NONE";const Aw=wS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t,e,n){return`firebase:${t}:${e}:${n}`}class jo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Bu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Bu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Sr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new jo(Ir(Aw),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Ir(Aw);const o=Bu(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){const f=Sr._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new jo(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new jo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_S(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IS(e))return"Blackberry";if(PS(e))return"Webos";if(TS(e))return"Safari";if((e.includes("chrome/")||ES(e))&&!e.includes("edge/"))return"Chrome";if(SS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _S(t=Ft()){return/firefox\//i.test(t)}function TS(t=Ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ES(t=Ft()){return/crios\//i.test(t)}function bS(t=Ft()){return/iemobile/i.test(t)}function SS(t=Ft()){return/android/i.test(t)}function IS(t=Ft()){return/blackberry/i.test(t)}function PS(t=Ft()){return/webos/i.test(t)}function Vy(t=Ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vO(t=Ft()){var e;return Vy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xO(){return RD()&&document.documentMode===10}function NS(t=Ft()){return Vy(t)||SS(t)||PS(t)||IS(t)||/windows phone/i.test(t)||bS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t,e=[]){let n;switch(t){case"Browser":n=Cw(Ft());break;case"Worker":n=`${Cw(Ft())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Di}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e={}){return zr(t,"GET","/v2/passwordPolicy",Us(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=6;class EO{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:TO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kw(this),this.idTokenSubscription=new kw(this),this.beforeStateQueue=new wO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vS(this,{idToken:e}),r=await Sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(er(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ad(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(er(this.app))return Promise.reject(Ar(this));const n=e?vt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return er(this.app)?Promise.reject(Ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return er(this.app)?Promise.reject(Ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _O(this),n=new EO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ri("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ir(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&eO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vi(t){return vt(t)}class kw{constructor(e){this.auth=e,this.observer=null,this.addObserver=UD(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SO(t){Dh=t}function CS(t){return Dh.loadJS(t)}function IO(){return Dh.recaptchaEnterpriseScript}function PO(){return Dh.gapiScript}function NO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const AO="recaptcha-enterprise",CO="NO_RECAPTCHA";class kO{constructor(e){this.type=AO,this.auth=Vi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{cO(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new lO(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;Iw(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(CO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Iw(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=IO();c.length!==0&&(c+=a),CS(c).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function jw(t,e,n,r=!1){const s=new kO(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Gm(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await jw(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await jw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t,e){const n=Fs(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ql(i,e??{}))return s;Gn(s,"already-initialized")}return n.initialize({options:e})}function RO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function DO(t,e,n){const r=Vi(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=kS(e),{host:o,port:a}=VO(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),OO()}function kS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VO(t){const e=kS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Rw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Rw(o)}}}function Rw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function OO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function LO(t,e){return zr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(t,e){return mc(t,"POST","/v1/accounts:signInWithPassword",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e){return mc(t,"POST","/v1/accounts:signInWithEmailLink",Us(t,e))}async function UO(t,e){return mc(t,"POST","/v1/accounts:signInWithEmailLink",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends Oy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Kl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(e,n,"signInWithPassword",MO);case"emailLink":return FO(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(e,r,"signUpPassword",LO);case"emailLink":return UO(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(t,e){return mc(t,"POST","/v1/accounts:signInWithIdp",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="http://localhost";class wi extends Oy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=ky(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new wi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ro(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ro(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ro(e,n)}buildRequest(){const e={requestUri:BO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zO(t){const e=Ka(Qa(t)).link,n=e?Ka(Qa(e)).deep_link_id:null,r=Ka(Qa(t)).deep_link_id;return(r?Ka(Qa(r)).link:null)||r||n||e||t}class Ly{constructor(e){var n,r,s,i,o,a;const c=Ka(Qa(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,f=$O((s=c.mode)!==null&&s!==void 0?s:null);ue(d&&h&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=zO(e);try{return new Ly(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.providerId=oa.PROVIDER_ID}static credential(e,n){return Kl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ly.parseLink(n);return ue(r,"argument-error"),Kl._fromEmailAndCode(e,r.code,r.tenantId)}}oa.PROVIDER_ID="password";oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends jS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends gc{constructor(){super("facebook.com")}static credential(e){return wi._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wi._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ss.credential(n,r)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends gc{constructor(){super("github.com")}static credential(e){return wi._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends gc{constructor(){super("twitter.com")}static credential(e,n){return wi._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return os.credential(n,r)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(t,e){return mc(t,"POST","/v1/accounts:signUp",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Sr._fromIdTokenResponse(e,r,s),o=Dw(r);return new _i({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Dw(r);return new _i({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Dw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends jn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Cd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Cd(e,n,r,s)}}function RS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Cd._fromErrorAndOperation(t,i,e,r):i})}async function WO(t,e,n=!1){const r=await Ho(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _i._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(t,e,n=!1){const{auth:r}=t;if(er(r.app))return Promise.reject(Ar(r));const s="reauthenticate";try{const i=await Ho(t,RS(r,s,e,t),n);ue(i.idToken,r,"internal-error");const o=Dy(i.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),_i._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DS(t,e,n=!1){if(er(t.app))return Promise.reject(Ar(t));const r="signIn",s=await RS(t,r,e),i=await _i._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function GO(t,e){return DS(Vi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VS(t){const e=Vi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OS(t,e,n){if(er(t.app))return Promise.reject(Ar(t));const r=Vi(t),o=await Gm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HO).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&VS(t),c}),a=await _i._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function LS(t,e,n){return er(t.app)?Promise.reject(Ar(t)):GO(vt(t),oa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(t,e){return zr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=vt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ho(r,KO(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function YO(t,e,n,r){return vt(t).onIdTokenChanged(e,n,r)}function XO(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function JO(t,e,n,r){return vt(t).onAuthStateChanged(e,n,r)}function ZO(t){return vt(t).signOut()}const kd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kd,"1"),this.storage.removeItem(kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=1e3,tL=10;class FS extends MS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);xO()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,tL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},eL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FS.type="LOCAL";const nL=FS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US extends MS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}US.type="SESSION";const BS=US;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Vh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),c=await rL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const d=My("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return window}function iL(t){ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function oL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lL(){return $S()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="firebaseLocalStorageDb",cL=1,jd="firebaseLocalStorage",HS="fbase_key";class yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oh(t,e){return t.transaction([jd],e?"readwrite":"readonly").objectStore(jd)}function uL(){const t=indexedDB.deleteDatabase(zS);return new yc(t).toPromise()}function Km(){const t=indexedDB.open(zS,cL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jd,{keyPath:HS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jd)?e(r):(r.close(),await uL(),e(await Km()))})})}async function Vw(t,e,n){const r=Oh(t,!0).put({[HS]:e,value:n});return new yc(r).toPromise()}async function dL(t,e){const n=Oh(t,!1).get(e),r=await new yc(n).toPromise();return r===void 0?null:r.value}function Ow(t,e){const n=Oh(t,!0).delete(e);return new yc(n).toPromise()}const hL=800,fL=3;class WS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>fL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $S()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(lL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await oL(),!this.activeServiceWorker)return;this.sender=new sL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await Vw(e,kd,"1"),await Ow(e,kd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Vw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>dL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ow(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Oh(s,!1).getAll();return new yc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WS.type="LOCAL";const pL=WS;new pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t,e){return e?Ir(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy extends Oy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gL(t){return DS(t.auth,new Fy(t),t.bypassAuthState)}function yL(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),qO(n,new Fy(t),t.bypassAuthState)}async function vL(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),WO(n,new Fy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gL;case"linkViaPopup":case"linkViaRedirect":return vL;case"reauthViaPopup":case"reauthViaRedirect":return yL;default:Gn(this.auth,"internal-error")}}resolve(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=new pc(2e3,1e4);class yo extends qS{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const e=My();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xL.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL="pendingRedirect",$u=new Map;class _L extends qS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$u.get(this.auth._key());if(!e){try{const r=await TL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$u.set(this.auth._key(),e)}return this.bypassAuthState||$u.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TL(t,e){const n=SL(e),r=bL(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function EL(t,e){$u.set(t._key(),e)}function bL(t){return Ir(t._redirectPersistence)}function SL(t){return Bu(wL,t.config.apiKey,t.name)}async function IL(t,e,n=!1){if(er(t.app))return Promise.reject(Ar(t));const r=Vi(t),s=mL(r,e),o=await new _L(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=10*60*1e3;class NL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(sr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lw(e))}saveEventToCache(e){this.cachedEventUids.add(Lw(e)),this.lastProcessedEventTime=Date.now()}}function Lw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t,e={}){return zr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jL=/^https?/;async function RL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CL(t);for(const n of e)try{if(DL(n))return}catch{}Gn(t,"unauthorized-domain")}function DL(t){const e=Wm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!jL.test(n))return!1;if(kL.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=new pc(3e4,6e4);function Mw(){const t=ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OL(t){return new Promise((e,n)=>{var r,s,i;function o(){Mw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mw(),n(sr(t,"network-request-failed"))},timeout:VL.get()})}if(!((s=(r=ir().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ir().gapi)===null||i===void 0)&&i.load)o();else{const a=NO("iframefcb");return ir()[a]=()=>{gapi.load?o():n(sr(t,"network-request-failed"))},CS(`${PO()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw zu=null,e})}let zu=null;function LL(t){return zu=zu||OL(t),zu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=new pc(5e3,15e3),FL="__/auth/iframe",UL="emulator/auth/iframe",BL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$L=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zL(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ry(e,UL):`https://${t.config.authDomain}/${FL}`,r={apiKey:e.apiKey,appName:t.name,v:Di},s=$L.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${fc(r).slice(1)}`}async function HL(t){const e=await LL(t),n=ir().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:zL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BL,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=sr(t,"network-request-failed"),a=ir().setTimeout(()=>{i(o)},ML.get());function c(){ir().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qL=500,GL=600,KL="_blank",QL="http://localhost";class Fw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YL(t,e,n,r=qL,s=GL){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},WL),{width:r.toString(),height:s.toString(),top:i,left:o}),d=Ft().toLowerCase();n&&(a=ES(d)?KL:n),_S(d)&&(e=e||QL,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(vO(d)&&a!=="_self")return XL(e||"",a),new Fw(null);const f=window.open(e||"",a,h);ue(f,t,"popup-blocked");try{f.focus()}catch{}return new Fw(f)}function XL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="__/auth/handler",ZL="emulator/auth/handler",e4=encodeURIComponent("fac");async function Uw(t,e,n,r,s,i){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Di,eventId:s};if(e instanceof jS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",FD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof gc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${e4}=${encodeURIComponent(c)}`:"";return`${t4(t)}?${fc(a).slice(1)}${d}`}function t4({config:t}){return t.emulator?Ry(t,ZL):`https://${t.authDomain}/${JL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="webStorageSupport";class n4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BS,this._completeRedirectFn=IL,this._overrideRedirectResult=EL}async _openPopup(e,n,r,s){var i;Mr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Uw(e,n,r,Wm(),s);return YL(e,o,My())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Uw(e,n,r,Wm(),s);return iL(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Mr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await HL(e),r=new NL(e);return n.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(op,{type:op},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[op];o!==void 0&&n(!!o),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NS()||TS()||Vy()}}const r4=n4;var Bw="@firebase/auth",$w="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o4(t){qn(new kn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AS(t)},d=new bO(r,s,i,c);return RO(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qn(new kn("auth-internal",e=>{const n=Vi(e.getProvider("auth").getImmediate());return(r=>new s4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),on(Bw,$w,i4(t)),on(Bw,$w,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=5*60,l4=tS("authIdTokenMaxAge")||a4;let zw=null;const c4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>l4)return;const s=n==null?void 0:n.token;zw!==s&&(zw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function u4(t=Rh()){const e=Fs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jO(t,{popupRedirectResolver:r4,persistence:[pL,nL,BS]}),r=tS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=c4(i.toString());XO(n,o,()=>o(n.currentUser)),YO(n,a=>o(a))}}const s=Jb("auth");return s&&DO(n,`http://${s}`),n}function d4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}SO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=sr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",d4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o4("Browser");var Hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fi,KS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,v){function I(){}I.prototype=v.prototype,T.D=v.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(A,j,k){for(var N=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)N[ne-2]=arguments[ne];return v.prototype[j].apply(A,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,v,I){I||(I=0);var A=Array(16);if(typeof v=="string")for(var j=0;16>j;++j)A[j]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(j=0;16>j;++j)A[j]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=T.g[0],I=T.g[1],j=T.g[2];var k=T.g[3],N=v+(k^I&(j^k))+A[0]+3614090360&4294967295;v=I+(N<<7&4294967295|N>>>25),N=k+(j^v&(I^j))+A[1]+3905402710&4294967295,k=v+(N<<12&4294967295|N>>>20),N=j+(I^k&(v^I))+A[2]+606105819&4294967295,j=k+(N<<17&4294967295|N>>>15),N=I+(v^j&(k^v))+A[3]+3250441966&4294967295,I=j+(N<<22&4294967295|N>>>10),N=v+(k^I&(j^k))+A[4]+4118548399&4294967295,v=I+(N<<7&4294967295|N>>>25),N=k+(j^v&(I^j))+A[5]+1200080426&4294967295,k=v+(N<<12&4294967295|N>>>20),N=j+(I^k&(v^I))+A[6]+2821735955&4294967295,j=k+(N<<17&4294967295|N>>>15),N=I+(v^j&(k^v))+A[7]+4249261313&4294967295,I=j+(N<<22&4294967295|N>>>10),N=v+(k^I&(j^k))+A[8]+1770035416&4294967295,v=I+(N<<7&4294967295|N>>>25),N=k+(j^v&(I^j))+A[9]+2336552879&4294967295,k=v+(N<<12&4294967295|N>>>20),N=j+(I^k&(v^I))+A[10]+4294925233&4294967295,j=k+(N<<17&4294967295|N>>>15),N=I+(v^j&(k^v))+A[11]+2304563134&4294967295,I=j+(N<<22&4294967295|N>>>10),N=v+(k^I&(j^k))+A[12]+1804603682&4294967295,v=I+(N<<7&4294967295|N>>>25),N=k+(j^v&(I^j))+A[13]+4254626195&4294967295,k=v+(N<<12&4294967295|N>>>20),N=j+(I^k&(v^I))+A[14]+2792965006&4294967295,j=k+(N<<17&4294967295|N>>>15),N=I+(v^j&(k^v))+A[15]+1236535329&4294967295,I=j+(N<<22&4294967295|N>>>10),N=v+(j^k&(I^j))+A[1]+4129170786&4294967295,v=I+(N<<5&4294967295|N>>>27),N=k+(I^j&(v^I))+A[6]+3225465664&4294967295,k=v+(N<<9&4294967295|N>>>23),N=j+(v^I&(k^v))+A[11]+643717713&4294967295,j=k+(N<<14&4294967295|N>>>18),N=I+(k^v&(j^k))+A[0]+3921069994&4294967295,I=j+(N<<20&4294967295|N>>>12),N=v+(j^k&(I^j))+A[5]+3593408605&4294967295,v=I+(N<<5&4294967295|N>>>27),N=k+(I^j&(v^I))+A[10]+38016083&4294967295,k=v+(N<<9&4294967295|N>>>23),N=j+(v^I&(k^v))+A[15]+3634488961&4294967295,j=k+(N<<14&4294967295|N>>>18),N=I+(k^v&(j^k))+A[4]+3889429448&4294967295,I=j+(N<<20&4294967295|N>>>12),N=v+(j^k&(I^j))+A[9]+568446438&4294967295,v=I+(N<<5&4294967295|N>>>27),N=k+(I^j&(v^I))+A[14]+3275163606&4294967295,k=v+(N<<9&4294967295|N>>>23),N=j+(v^I&(k^v))+A[3]+4107603335&4294967295,j=k+(N<<14&4294967295|N>>>18),N=I+(k^v&(j^k))+A[8]+1163531501&4294967295,I=j+(N<<20&4294967295|N>>>12),N=v+(j^k&(I^j))+A[13]+2850285829&4294967295,v=I+(N<<5&4294967295|N>>>27),N=k+(I^j&(v^I))+A[2]+4243563512&4294967295,k=v+(N<<9&4294967295|N>>>23),N=j+(v^I&(k^v))+A[7]+1735328473&4294967295,j=k+(N<<14&4294967295|N>>>18),N=I+(k^v&(j^k))+A[12]+2368359562&4294967295,I=j+(N<<20&4294967295|N>>>12),N=v+(I^j^k)+A[5]+4294588738&4294967295,v=I+(N<<4&4294967295|N>>>28),N=k+(v^I^j)+A[8]+2272392833&4294967295,k=v+(N<<11&4294967295|N>>>21),N=j+(k^v^I)+A[11]+1839030562&4294967295,j=k+(N<<16&4294967295|N>>>16),N=I+(j^k^v)+A[14]+4259657740&4294967295,I=j+(N<<23&4294967295|N>>>9),N=v+(I^j^k)+A[1]+2763975236&4294967295,v=I+(N<<4&4294967295|N>>>28),N=k+(v^I^j)+A[4]+1272893353&4294967295,k=v+(N<<11&4294967295|N>>>21),N=j+(k^v^I)+A[7]+4139469664&4294967295,j=k+(N<<16&4294967295|N>>>16),N=I+(j^k^v)+A[10]+3200236656&4294967295,I=j+(N<<23&4294967295|N>>>9),N=v+(I^j^k)+A[13]+681279174&4294967295,v=I+(N<<4&4294967295|N>>>28),N=k+(v^I^j)+A[0]+3936430074&4294967295,k=v+(N<<11&4294967295|N>>>21),N=j+(k^v^I)+A[3]+3572445317&4294967295,j=k+(N<<16&4294967295|N>>>16),N=I+(j^k^v)+A[6]+76029189&4294967295,I=j+(N<<23&4294967295|N>>>9),N=v+(I^j^k)+A[9]+3654602809&4294967295,v=I+(N<<4&4294967295|N>>>28),N=k+(v^I^j)+A[12]+3873151461&4294967295,k=v+(N<<11&4294967295|N>>>21),N=j+(k^v^I)+A[15]+530742520&4294967295,j=k+(N<<16&4294967295|N>>>16),N=I+(j^k^v)+A[2]+3299628645&4294967295,I=j+(N<<23&4294967295|N>>>9),N=v+(j^(I|~k))+A[0]+4096336452&4294967295,v=I+(N<<6&4294967295|N>>>26),N=k+(I^(v|~j))+A[7]+1126891415&4294967295,k=v+(N<<10&4294967295|N>>>22),N=j+(v^(k|~I))+A[14]+2878612391&4294967295,j=k+(N<<15&4294967295|N>>>17),N=I+(k^(j|~v))+A[5]+4237533241&4294967295,I=j+(N<<21&4294967295|N>>>11),N=v+(j^(I|~k))+A[12]+1700485571&4294967295,v=I+(N<<6&4294967295|N>>>26),N=k+(I^(v|~j))+A[3]+2399980690&4294967295,k=v+(N<<10&4294967295|N>>>22),N=j+(v^(k|~I))+A[10]+4293915773&4294967295,j=k+(N<<15&4294967295|N>>>17),N=I+(k^(j|~v))+A[1]+2240044497&4294967295,I=j+(N<<21&4294967295|N>>>11),N=v+(j^(I|~k))+A[8]+1873313359&4294967295,v=I+(N<<6&4294967295|N>>>26),N=k+(I^(v|~j))+A[15]+4264355552&4294967295,k=v+(N<<10&4294967295|N>>>22),N=j+(v^(k|~I))+A[6]+2734768916&4294967295,j=k+(N<<15&4294967295|N>>>17),N=I+(k^(j|~v))+A[13]+1309151649&4294967295,I=j+(N<<21&4294967295|N>>>11),N=v+(j^(I|~k))+A[4]+4149444226&4294967295,v=I+(N<<6&4294967295|N>>>26),N=k+(I^(v|~j))+A[11]+3174756917&4294967295,k=v+(N<<10&4294967295|N>>>22),N=j+(v^(k|~I))+A[2]+718787259&4294967295,j=k+(N<<15&4294967295|N>>>17),N=I+(k^(j|~v))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+j&4294967295,T.g[3]=T.g[3]+k&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var I=v-this.blockSize,A=this.B,j=this.h,k=0;k<v;){if(j==0)for(;k<=I;)s(this,T,k),k+=this.blockSize;if(typeof T=="string"){for(;k<v;)if(A[j++]=T.charCodeAt(k++),j==this.blockSize){s(this,A),j=0;break}}else for(;k<v;)if(A[j++]=T[k++],j==this.blockSize){s(this,A),j=0;break}}this.h=j,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var I=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=I&255,I/=256;for(this.u(T),T=Array(16),v=I=0;4>v;++v)for(var A=0;32>A;A+=8)T[I++]=this.g[v]>>>A&255;return T};function i(T,v){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=v(T)}function o(T,v){this.h=v;for(var I=[],A=!0,j=T.length-1;0<=j;j--){var k=T[j]|0;A&&k==v||(I[j]=k,A=!1)}this.g=I}var a={};function c(T){return-128<=T&&128>T?i(T,function(v){return new o([v|0],0>v?-1:0)}):new o([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return P(d(-T));for(var v=[],I=1,A=0;T>=I;A++)v[A]=T/I|0,I*=4294967296;return new o(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return P(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(v,8)),A=f,j=0;j<T.length;j+=8){var k=Math.min(8,T.length-j),N=parseInt(T.substring(j,j+k),v);8>k?(k=d(Math.pow(v,k)),A=A.j(k).add(d(N))):(A=A.j(I),A=A.add(d(N)))}return A}var f=c(0),p=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(E(this))return-P(this).m();for(var T=0,v=1,I=0;I<this.g.length;I++){var A=this.i(I);T+=(0<=A?A:4294967296+A)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(w(this))return"0";if(E(this))return"-"+P(this).toString(T);for(var v=d(Math.pow(T,6)),I=this,A="";;){var j=R(I,v).g;I=S(I,j.j(v));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=j,w(I))return k+A;for(;6>k.length;)k="0"+k;A=k+A}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function w(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function E(T){return T.h==-1}t.l=function(T){return T=S(this,T),E(T)?-1:w(T)?0:1};function P(T){for(var v=T.g.length,I=[],A=0;A<v;A++)I[A]=~T.g[A];return new o(I,~T.h).add(p)}t.abs=function(){return E(this)?P(this):this},t.add=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],A=0,j=0;j<=v;j++){var k=A+(this.i(j)&65535)+(T.i(j)&65535),N=(k>>>16)+(this.i(j)>>>16)+(T.i(j)>>>16);A=N>>>16,k&=65535,N&=65535,I[j]=N<<16|k}return new o(I,I[I.length-1]&-2147483648?-1:0)};function S(T,v){return T.add(P(v))}t.j=function(T){if(w(this)||w(T))return f;if(E(this))return E(T)?P(this).j(P(T)):P(P(this).j(T));if(E(T))return P(this.j(P(T)));if(0>this.l(g)&&0>T.l(g))return d(this.m()*T.m());for(var v=this.g.length+T.g.length,I=[],A=0;A<2*v;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var j=0;j<T.g.length;j++){var k=this.i(A)>>>16,N=this.i(A)&65535,ne=T.i(j)>>>16,re=T.i(j)&65535;I[2*A+2*j]+=N*re,x(I,2*A+2*j),I[2*A+2*j+1]+=k*re,x(I,2*A+2*j+1),I[2*A+2*j+1]+=N*ne,x(I,2*A+2*j+1),I[2*A+2*j+2]+=k*ne,x(I,2*A+2*j+2)}for(A=0;A<v;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=v;A<2*v;A++)I[A]=0;return new o(I,0)};function x(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function _(T,v){this.g=T,this.h=v}function R(T,v){if(w(v))throw Error("division by zero");if(w(T))return new _(f,f);if(E(T))return v=R(P(T),v),new _(P(v.g),P(v.h));if(E(v))return v=R(T,P(v)),new _(P(v.g),v.h);if(30<T.g.length){if(E(T)||E(v))throw Error("slowDivide_ only works with positive integers.");for(var I=p,A=v;0>=A.l(T);)I=L(I),A=L(A);var j=V(I,1),k=V(A,1);for(A=V(A,2),I=V(I,2);!w(A);){var N=k.add(A);0>=N.l(T)&&(j=j.add(I),k=N),A=V(A,1),I=V(I,1)}return v=S(T,j.j(v)),new _(j,v)}for(j=f;0<=T.l(v);){for(I=Math.max(1,Math.floor(T.m()/v.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),k=d(I),N=k.j(v);E(N)||0<N.l(T);)I-=A,k=d(I),N=k.j(v);w(k)&&(k=p),j=j.add(k),T=S(T,N)}return new _(j,T)}t.A=function(T){return R(this,T).h},t.and=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],A=0;A<v;A++)I[A]=this.i(A)&T.i(A);return new o(I,this.h&T.h)},t.or=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],A=0;A<v;A++)I[A]=this.i(A)|T.i(A);return new o(I,this.h|T.h)},t.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],A=0;A<v;A++)I[A]=this.i(A)^T.i(A);return new o(I,this.h^T.h)};function L(T){for(var v=T.g.length+1,I=[],A=0;A<v;A++)I[A]=T.i(A)<<1|T.i(A-1)>>>31;return new o(I,T.h)}function V(T,v){var I=v>>5;v%=32;for(var A=T.g.length-I,j=[],k=0;k<A;k++)j[k]=0<v?T.i(k+I)>>>v|T.i(k+I+1)<<32-v:T.i(k+I);return new o(j,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,fi=o}).apply(typeof Hw<"u"?Hw:typeof self<"u"?self:typeof window<"u"?window:{});var pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QS,Ya,YS,Hu,Qm,XS,JS,ZS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof pu=="object"&&pu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var y=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var O=u[b];if(!(O in y))break e;y=y[O]}u=u[u.length-1],b=y[u],m=m(b),m!=b&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var y=0,b=!1,O={next:function(){if(!b&&y<u.length){var F=y++;return{value:m(F,u[F]),done:!1}}return b=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function d(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,y){return u.call.apply(u.bind,arguments)}function f(u,m,y){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,b),u.apply(m,O)}}return function(){return u.apply(m,arguments)}}function p(u,m,y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var b=y.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(b,O,F){for(var q=Array(arguments.length-2),De=2;De<arguments.length;De++)q[De-2]=arguments[De];return m.prototype[O].apply(b,q)}}function E(u){const m=u.length;if(0<m){const y=Array(m);for(let b=0;b<m;b++)y[b]=u[b];return y}return[]}function P(u,m){for(let y=1;y<arguments.length;y++){const b=arguments[y];if(c(b)){const O=u.length||0,F=b.length||0;u.length=O+F;for(let q=0;q<F;q++)u[O+q]=b[q]}else u.push(b)}}class S{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function x(u){return/^[\s\xa0]*$/.test(u)}function _(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var L=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function V(u,m,y){for(const b in u)m.call(y,u[b],b,u)}function T(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function v(u){const m={};for(const y in u)m[y]=u[y];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,m){let y,b;for(let O=1;O<arguments.length;O++){b=arguments[O];for(y in b)u[y]=b[y];for(let F=0;F<I.length;F++)y=I[F],Object.prototype.hasOwnProperty.call(b,y)&&(u[y]=b[y])}}function j(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function k(u){a.setTimeout(()=>{throw u},0)}function N(){var u=ee;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ne{constructor(){this.h=this.g=null}add(m,y){const b=re.get();b.set(m,y),this.h?this.h.next=b:this.g=b,this.h=b}}var re=new S(()=>new fe,u=>u.reset());class fe{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,W=!1,ee=new ne,ie=()=>{const u=a.Promise.resolve(void 0);ve=()=>{u.then(X)}};var X=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(y){k(y)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}W=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ce(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var Yt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};a.addEventListener("test",y,m),a.removeEventListener("test",y,m)}catch{}return u}();function Ut(u,m){if(Ce.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(L){e:{try{R(m.nodeName);var O=!0;break e}catch{}O=!1}O||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:xt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ut.aa.h.call(this)}}w(Ut,Ce);var xt={2:"touch",3:"pen",4:"mouse"};Ut.prototype.h=function(){Ut.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),$i=0;function pr(u,m,y,b,O){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!b,this.ha=O,this.key=++$i,this.da=this.fa=!1}function cn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Xt(u){this.src=u,this.g={},this.h=0}Xt.prototype.add=function(u,m,y,b,O){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var q=ha(u,m,b,O);return-1<q?(m=u[q],y||(m.fa=!1)):(m=new pr(m,this.src,F,!!b,O),m.fa=y,u.push(m)),m};function $s(u,m){var y=m.type;if(y in u.g){var b=u.g[y],O=Array.prototype.indexOf.call(b,m,void 0),F;(F=0<=O)&&Array.prototype.splice.call(b,O,1),F&&(cn(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function ha(u,m,y,b){for(var O=0;O<u.length;++O){var F=u[O];if(!F.da&&F.listener==m&&F.capture==!!y&&F.ha==b)return O}return-1}var zi="closure_lm_"+(1e6*Math.random()|0),Hi={};function jc(u,m,y,b,O){if(Array.isArray(m)){for(var F=0;F<m.length;F++)jc(u,m[F],y,b,O);return null}return y=H(y),u&&u[Nt]?u.K(m,y,d(b)?!!b.capture:!!b,O):uf(u,m,y,!1,b,O)}function uf(u,m,y,b,O,F){if(!m)throw Error("Invalid event type");var q=d(O)?!!O.capture:!!O,De=Q(u);if(De||(u[zi]=De=new Xt(u)),y=De.add(m,y,b,q,F),y.proxy)return y;if(b=Jv(),y.proxy=b,b.src=u,b.listener=y,u.addEventListener)Yt||(O=q),O===void 0&&(O=!1),u.addEventListener(m.toString(),b,O);else if(u.attachEvent)u.attachEvent(M(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Jv(){function u(y){return m.call(u.src,u.listener,y)}const m=U;return u}function fa(u,m,y,b,O){if(Array.isArray(m))for(var F=0;F<m.length;F++)fa(u,m[F],y,b,O);else b=d(b)?!!b.capture:!!b,y=H(y),u&&u[Nt]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],y=ha(F,y,b,O),-1<y&&(cn(F[y]),Array.prototype.splice.call(F,y,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=Q(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ha(m,y,b,O)),(y=-1<u?m[u]:null)&&D(y))}function D(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Nt])$s(m.i,u);else{var y=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(y,b,u.capture):m.detachEvent?m.detachEvent(M(y),b):m.addListener&&m.removeListener&&m.removeListener(b),(y=Q(m))?($s(y,u),y.h==0&&(y.src=null,m[zi]=null)):cn(u)}}}function M(u){return u in Hi?Hi[u]:Hi[u]="on"+u}function U(u,m){if(u.da)u=!0;else{m=new Ut(m,this);var y=u.listener,b=u.ha||u.src;u.fa&&D(u),u=y.call(b,m)}return u}function Q(u){return u=u[zi],u instanceof Xt?u:null}var G="__closure_events_fn_"+(1e9*Math.random()>>>0);function H(u){return typeof u=="function"?u:(u[G]||(u[G]=function(m){return u.handleEvent(m)}),u[G])}function K(){we.call(this),this.i=new Xt(this),this.M=this,this.F=null}w(K,we),K.prototype[Nt]=!0,K.prototype.removeEventListener=function(u,m,y,b){fa(this,u,m,y,b)};function ce(u,m){var y,b=u.F;if(b)for(y=[];b;b=b.F)y.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new Ce(m,u);else if(m instanceof Ce)m.target=m.target||u;else{var O=m;m=new Ce(b,u),A(m,O)}if(O=!0,y)for(var F=y.length-1;0<=F;F--){var q=m.g=y[F];O=Ae(q,b,!0,m)&&O}if(q=m.g=u,O=Ae(q,b,!0,m)&&O,O=Ae(q,b,!1,m)&&O,y)for(F=0;F<y.length;F++)q=m.g=y[F],O=Ae(q,b,!1,m)&&O}K.prototype.N=function(){if(K.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],b=0;b<y.length;b++)cn(y[b]);delete u.g[m],u.h--}}this.F=null},K.prototype.K=function(u,m,y,b){return this.i.add(String(u),m,!1,y,b)},K.prototype.L=function(u,m,y,b){return this.i.add(String(u),m,!0,y,b)};function Ae(u,m,y,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var O=!0,F=0;F<m.length;++F){var q=m[F];if(q&&!q.da&&q.capture==y){var De=q.listener,wt=q.ha||q.src;q.fa&&$s(u.i,q),O=De.call(wt,b)!==!1&&O}}return O&&!b.defaultPrevented}function Bt(u,m,y){if(typeof u=="function")y&&(u=p(u,y));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function zs(u){u.g=Bt(()=>{u.g=null,u.i&&(u.i=!1,zs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Qn extends we{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zs(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hs(u){we.call(this),this.h=u,this.g={}}w(Hs,we);var Wi=[];function qi(u){V(u.g,function(m,y){this.g.hasOwnProperty(y)&&D(m)},u),u.g={}}Hs.prototype.N=function(){Hs.aa.N.call(this),qi(this)},Hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pa=a.JSON.stringify,Rc=a.JSON.parse,df=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Gi(){}Gi.prototype.h=null;function Zv(u){return u.h||(u.h=u.i())}function e0(){}var ma={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hf(){Ce.call(this,"d")}w(hf,Ce);function ff(){Ce.call(this,"c")}w(ff,Ce);var Ws={},t0=null;function Dc(){return t0=t0||new K}Ws.La="serverreachability";function n0(u){Ce.call(this,Ws.La,u)}w(n0,Ce);function ga(u){const m=Dc();ce(m,new n0(m))}Ws.STAT_EVENT="statevent";function r0(u,m){Ce.call(this,Ws.STAT_EVENT,u),this.stat=m}w(r0,Ce);function $t(u){const m=Dc();ce(m,new r0(m,u))}Ws.Ma="timingevent";function s0(u,m){Ce.call(this,Ws.Ma,u),this.size=m}w(s0,Ce);function ya(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function va(){this.g=!0}va.prototype.xa=function(){this.g=!1};function FA(u,m,y,b,O,F){u.info(function(){if(u.g)if(F)for(var q="",De=F.split("&"),wt=0;wt<De.length;wt++){var Pe=De[wt].split("=");if(1<Pe.length){var At=Pe[0];Pe=Pe[1];var Ct=At.split("_");q=2<=Ct.length&&Ct[1]=="type"?q+(At+"="+Pe+"&"):q+(At+"=redacted&")}}else q=null;else q=F;return"XMLHTTP REQ ("+b+") [attempt "+O+"]: "+m+`
`+y+`
`+q})}function UA(u,m,y,b,O,F,q){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+O+"]: "+m+`
`+y+`
`+F+" "+q})}function Ki(u,m,y,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+$A(u,y)+(b?" "+b:"")})}function BA(u,m){u.info(function(){return"TIMEOUT: "+m})}va.prototype.info=function(){};function $A(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var b=y[u];if(!(2>b.length)){var O=b[1];if(Array.isArray(O)&&!(1>O.length)){var F=O[0];if(F!="noop"&&F!="stop"&&F!="close")for(var q=1;q<O.length;q++)O[q]=""}}}}return pa(y)}catch{return m}}var Vc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},i0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pf;function Oc(){}w(Oc,Gi),Oc.prototype.g=function(){return new XMLHttpRequest},Oc.prototype.i=function(){return{}},pf=new Oc;function Hr(u,m,y,b){this.j=u,this.i=m,this.l=y,this.R=b||1,this.U=new Hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new o0}function o0(){this.i=null,this.g="",this.h=!1}var a0={},mf={};function gf(u,m,y){u.L=1,u.v=Uc(mr(m)),u.m=y,u.P=!0,l0(u,null)}function l0(u,m){u.F=Date.now(),Lc(u),u.A=mr(u.v);var y=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),T0(y.i,"t",b),u.C=0,y=u.j.J,u.h=new o0,u.g=U0(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Qn(p(u.Y,u,u.g),u.O)),m=u.U,y=u.g,b=u.ca;var O="readystatechange";Array.isArray(O)||(O&&(Wi[0]=O.toString()),O=Wi);for(var F=0;F<O.length;F++){var q=jc(y,O[F],b||m.handleEvent,!1,m.h||m);if(!q)break;m.g[q.key]=q}m=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ga(),FA(u.i,u.u,u.A,u.l,u.R,u.m)}Hr.prototype.ca=function(u){u=u.target;const m=this.M;m&&gr(u)==3?m.j():this.Y(u)},Hr.prototype.Y=function(u){try{if(u==this.g)e:{const Ct=gr(this.g);var m=this.g.Ba();const Xi=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||A0(this.g)))){this.J||Ct!=4||m==7||(m==8||0>=Xi?ga(3):ga(2)),yf(this);var y=this.g.Z();this.X=y;t:if(c0(this)){var b=A0(this.g);u="";var O=b.length,F=gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qs(this),xa(this);var q="";break t}this.h.i=new a.TextDecoder}for(m=0;m<O;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(F&&m==O-1)});b.length=0,this.h.g+=u,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=y==200,UA(this.i,this.u,this.A,this.l,this.R,Ct,y),this.o){if(this.T&&!this.K){t:{if(this.g){var De,wt=this.g;if((De=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(De)){var Pe=De;break t}}Pe=null}if(y=Pe)Ki(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vf(this,y);else{this.o=!1,this.s=3,$t(12),qs(this),xa(this);break e}}if(this.P){y=!0;let Rn;for(;!this.J&&this.C<q.length;)if(Rn=zA(this,q),Rn==mf){Ct==4&&(this.s=4,$t(14),y=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==a0){this.s=4,$t(15),Ki(this.i,this.l,q,"[Invalid Chunk]"),y=!1;break}else Ki(this.i,this.l,Rn,null),vf(this,Rn);if(c0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||q.length!=0||this.h.h||(this.s=1,$t(16),y=!1),this.o=this.o&&y,!y)Ki(this.i,this.l,q,"[Invalid Chunked Response]"),qs(this),xa(this);else if(0<q.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),bf(At),At.M=!0,$t(11))}}else Ki(this.i,this.l,q,null),vf(this,q);Ct==4&&qs(this),this.o&&!this.J&&(Ct==4?O0(this.j,this):(this.o=!1,Lc(this)))}else oC(this.g),y==400&&0<q.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),qs(this),xa(this)}}}catch{}finally{}};function c0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function zA(u,m){var y=u.C,b=m.indexOf(`
`,y);return b==-1?mf:(y=Number(m.substring(y,b)),isNaN(y)?a0:(b+=1,b+y>m.length?mf:(m=m.slice(b,b+y),u.C=b+y,m)))}Hr.prototype.cancel=function(){this.J=!0,qs(this)};function Lc(u){u.S=Date.now()+u.I,u0(u,u.I)}function u0(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ya(p(u.ba,u),m)}function yf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Hr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(BA(this.i,this.A),this.L!=2&&(ga(),$t(17)),qs(this),this.s=2,xa(this)):u0(this,this.S-u)};function xa(u){u.j.G==0||u.J||O0(u.j,u)}function qs(u){yf(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,qi(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function vf(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||xf(y.h,u))){if(!u.K&&xf(y.h,u)&&y.G==3){try{var b=y.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var O=b;if(O[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)qc(y),Hc(y);else break e;Ef(y),$t(18)}}else y.za=O[1],0<y.za-y.T&&37500>O[2]&&y.F&&y.v==0&&!y.C&&(y.C=ya(p(y.Za,y),6e3));if(1>=f0(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ks(y,11)}else if((u.K||y.g==u)&&qc(y),!x(m))for(O=y.Da.g.parse(m),m=0;m<O.length;m++){let Pe=O[m];if(y.T=Pe[0],Pe=Pe[1],y.G==2)if(Pe[0]=="c"){y.K=Pe[1],y.ia=Pe[2];const At=Pe[3];At!=null&&(y.la=At,y.j.info("VER="+y.la));const Ct=Pe[4];Ct!=null&&(y.Aa=Ct,y.j.info("SVER="+y.Aa));const Xi=Pe[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(b=1.5*Xi,y.L=b,y.j.info("backChannelRequestTimeoutMs_="+b)),b=y;const Rn=u.g;if(Rn){const Kc=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kc){var F=b.h;F.g||Kc.indexOf("spdy")==-1&&Kc.indexOf("quic")==-1&&Kc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(wf(F,F.h),F.h=null))}if(b.D){const Sf=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sf&&(b.ya=Sf,Me(b.I,b.D,Sf))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),b=y;var q=u;if(b.qa=F0(b,b.J?b.ia:null,b.W),q.K){p0(b.h,q);var De=q,wt=b.L;wt&&(De.I=wt),De.B&&(yf(De),Lc(De)),b.g=q}else D0(b);0<y.i.length&&Wc(y)}else Pe[0]!="stop"&&Pe[0]!="close"||Ks(y,7);else y.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Ks(y,7):Tf(y):Pe[0]!="noop"&&y.l&&y.l.ta(Pe),y.v=0)}}ga(4)}catch{}}var HA=class{constructor(u,m){this.g=u,this.map=m}};function d0(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function h0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function f0(u){return u.h?1:u.g?u.g.size:0}function xf(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wf(u,m){u.g?u.g.add(m):u.h=m}function p0(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}d0.prototype.cancel=function(){if(this.i=m0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function m0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return E(u.i)}function WA(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var m=[],y=u.length,b=0;b<y;b++)m.push(u[b]);return m}m=[],y=0;for(b in u)m[y++]=u[b];return m}function qA(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const b in u)m[y++]=b;return m}}}function g0(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=qA(u),b=WA(u),O=b.length,F=0;F<O;F++)m.call(void 0,b[F],y&&y[F],u)}var y0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GA(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var b=u[y].indexOf("="),O=null;if(0<=b){var F=u[y].substring(0,b);O=u[y].substring(b+1)}else F=u[y];m(F,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Gs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Gs){this.h=u.h,Mc(this,u.j),this.o=u.o,this.g=u.g,Fc(this,u.s),this.l=u.l;var m=u.i,y=new Ta;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),v0(this,y),this.m=u.m}else u&&(m=String(u).match(y0))?(this.h=!1,Mc(this,m[1]||"",!0),this.o=wa(m[2]||""),this.g=wa(m[3]||"",!0),Fc(this,m[4]),this.l=wa(m[5]||"",!0),v0(this,m[6]||"",!0),this.m=wa(m[7]||"")):(this.h=!1,this.i=new Ta(null,this.h))}Gs.prototype.toString=function(){var u=[],m=this.j;m&&u.push(_a(m,x0,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(_a(m,x0,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(_a(y,y.charAt(0)=="/"?YA:QA,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",_a(y,JA)),u.join("")};function mr(u){return new Gs(u)}function Mc(u,m,y){u.j=y?wa(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Fc(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function v0(u,m,y){m instanceof Ta?(u.i=m,ZA(u.i,u.h)):(y||(m=_a(m,XA)),u.i=new Ta(m,u.h))}function Me(u,m,y){u.i.set(m,y)}function Uc(u){return Me(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function wa(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _a(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,KA),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function KA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var x0=/[#\/\?@]/g,QA=/[#\?:]/g,YA=/[#\?]/g,XA=/[#\?@]/g,JA=/#/g;function Ta(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Wr(u){u.g||(u.g=new Map,u.h=0,u.i&&GA(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=Ta.prototype,t.add=function(u,m){Wr(this),this.i=null,u=Qi(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function w0(u,m){Wr(u),m=Qi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function _0(u,m){return Wr(u),m=Qi(u,m),u.g.has(m)}t.forEach=function(u,m){Wr(this),this.g.forEach(function(y,b){y.forEach(function(O){u.call(m,O,b,this)},this)},this)},t.na=function(){Wr(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let b=0;b<m.length;b++){const O=u[b];for(let F=0;F<O.length;F++)y.push(m[b])}return y},t.V=function(u){Wr(this);let m=[];if(typeof u=="string")_0(this,u)&&(m=m.concat(this.g.get(Qi(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},t.set=function(u,m){return Wr(this),this.i=null,u=Qi(this,u),_0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function T0(u,m,y){w0(u,m),0<y.length&&(u.i=null,u.g.set(Qi(u,m),E(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var b=m[y];const F=encodeURIComponent(String(b)),q=this.V(b);for(b=0;b<q.length;b++){var O=F;q[b]!==""&&(O+="="+encodeURIComponent(String(q[b]))),u.push(O)}}return this.i=u.join("&")};function Qi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ZA(u,m){m&&!u.j&&(Wr(u),u.i=null,u.g.forEach(function(y,b){var O=b.toLowerCase();b!=O&&(w0(this,b),T0(this,O,y))},u)),u.j=m}function eC(u,m){const y=new va;if(a.Image){const b=new Image;b.onload=g(qr,y,"TestLoadImage: loaded",!0,m,b),b.onerror=g(qr,y,"TestLoadImage: error",!1,m,b),b.onabort=g(qr,y,"TestLoadImage: abort",!1,m,b),b.ontimeout=g(qr,y,"TestLoadImage: timeout",!1,m,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function tC(u,m){const y=new va,b=new AbortController,O=setTimeout(()=>{b.abort(),qr(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(F=>{clearTimeout(O),F.ok?qr(y,"TestPingServer: ok",!0,m):qr(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(O),qr(y,"TestPingServer: error",!1,m)})}function qr(u,m,y,b,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),b(y)}catch{}}function nC(){this.g=new df}function rC(u,m,y){const b=y||"";try{g0(u,function(O,F){let q=O;d(O)&&(q=pa(O)),m.push(b+F+"="+encodeURIComponent(q))})}catch(O){throw m.push(b+"type="+encodeURIComponent("_badmap")),O}}function Bc(u){this.l=u.Ub||null,this.j=u.eb||!1}w(Bc,Gi),Bc.prototype.g=function(){return new $c(this.l,this.j)},Bc.prototype.i=function(u){return function(){return u}}({});function $c(u,m){K.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w($c,K),t=$c.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ba(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ba(this)),this.g&&(this.readyState=3,ba(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;E0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function E0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ea(this):ba(this),this.readyState==3&&E0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ea(this))},t.Qa=function(u){this.g&&(this.response=u,Ea(this))},t.ga=function(){this.g&&Ea(this)};function Ea(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ba(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function ba(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty($c.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function b0(u){let m="";return V(u,function(y,b){m+=b,m+=":",m+=y,m+=`\r
`}),m}function _f(u,m,y){e:{for(b in y){var b=!1;break e}b=!0}b||(y=b0(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Me(u,m,y))}function Xe(u){K.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Xe,K);var sC=/^https?$/i,iC=["POST","PUT"];t=Xe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,y,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pf.g(),this.v=this.o?Zv(this.o):Zv(pf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){S0(this,F);return}if(u=y||"",y=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var O in b)y.set(O,b[O]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const F of b.keys())y.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(y.keys()).find(F=>F.toLowerCase()=="content-type"),O=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(iC,m,void 0))||b||O||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,q]of y)this.g.setRequestHeader(F,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{N0(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){S0(this,F)}};function S0(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,I0(u),zc(u)}function I0(u){u.A||(u.A=!0,ce(u,"complete"),ce(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ce(this,"complete"),ce(this,"abort"),zc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zc(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?P0(this):this.bb())},t.bb=function(){P0(this)};function P0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||gr(u)!=4||u.Z()!=2)){if(u.u&&gr(u)==4)Bt(u.Ea,0,u);else if(ce(u,"readystatechange"),gr(u)==4){u.h=!1;try{const q=u.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var b;if(b=q===0){var O=String(u.D).match(y0)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),b=!sC.test(O?O.toLowerCase():"")}y=b}if(y)ce(u,"complete"),ce(u,"success");else{u.m=6;try{var F=2<gr(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",I0(u)}}finally{zc(u)}}}}function zc(u,m){if(u.g){N0(u);const y=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||ce(u,"ready");try{y.onreadystatechange=b}catch{}}}function N0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function gr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<gr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rc(m)}};function A0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function oC(u){const m={};u=(u.g&&2<=gr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var y=j(u[b]);const O=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const F=m[O]||[];m[O]=F,F.push(y)}T(m,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function C0(u){this.Aa=0,this.i=[],this.j=new va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sa("baseRetryDelayMs",5e3,u),this.cb=Sa("retryDelaySeedMs",1e4,u),this.Wa=Sa("forwardChannelMaxRetries",2,u),this.wa=Sa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new d0(u&&u.concurrentRequestLimit),this.Da=new nC,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=C0.prototype,t.la=8,t.G=1,t.connect=function(u,m,y,b){$t(0),this.W=u,this.H=m||{},y&&b!==void 0&&(this.H.OSID=y,this.H.OAID=b),this.F=this.X,this.I=F0(this,null,this.W),Wc(this)};function Tf(u){if(k0(u),u.G==3){var m=u.U++,y=mr(u.I);if(Me(y,"SID",u.K),Me(y,"RID",m),Me(y,"TYPE","terminate"),Ia(u,y),m=new Hr(u,u.j,m),m.L=2,m.v=Uc(mr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=m.v,y=!0),y||(m.g=U0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Lc(m)}M0(u)}function Hc(u){u.g&&(bf(u),u.g.cancel(),u.g=null)}function k0(u){Hc(u),u.u&&(a.clearTimeout(u.u),u.u=null),qc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Wc(u){if(!h0(u.h)&&!u.s){u.s=!0;var m=u.Ga;ve||ie(),W||(ve(),W=!0),ee.add(m,u),u.B=0}}function aC(u,m){return f0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ya(p(u.Ga,u,m),L0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const O=new Hr(this,this.j,u);let F=this.o;if(this.S&&(F?(F=v(F),A(F,this.S)):F=this.S),this.m!==null||this.O||(O.H=F,F=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var b=this.i[y];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=R0(this,O,m),y=mr(this.I),Me(y,"RID",u),Me(y,"CVER",22),this.D&&Me(y,"X-HTTP-Session-Id",this.D),Ia(this,y),F&&(this.O?m="headers="+encodeURIComponent(String(b0(F)))+"&"+m:this.m&&_f(y,this.m,F)),wf(this.h,O),this.Ua&&Me(y,"TYPE","init"),this.P?(Me(y,"$req",m),Me(y,"SID","null"),O.T=!0,gf(O,y,null)):gf(O,y,m),this.G=2}}else this.G==3&&(u?j0(this,u):this.i.length==0||h0(this.h)||j0(this))};function j0(u,m){var y;m?y=m.l:y=u.U++;const b=mr(u.I);Me(b,"SID",u.K),Me(b,"RID",y),Me(b,"AID",u.T),Ia(u,b),u.m&&u.o&&_f(b,u.m,u.o),y=new Hr(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=R0(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),wf(u.h,y),gf(y,b,m)}function Ia(u,m){u.H&&V(u.H,function(y,b){Me(m,b,y)}),u.l&&g0({},function(y,b){Me(m,b,y)})}function R0(u,m,y){y=Math.min(u.i.length,y);var b=u.l?p(u.l.Na,u.l,u):null;e:{var O=u.i;let F=-1;for(;;){const q=["count="+y];F==-1?0<y?(F=O[0].g,q.push("ofs="+F)):F=0:q.push("ofs="+F);let De=!0;for(let wt=0;wt<y;wt++){let Pe=O[wt].g;const At=O[wt].map;if(Pe-=F,0>Pe)F=Math.max(0,O[wt].g-100),De=!1;else try{rC(At,q,"req"+Pe+"_")}catch{b&&b(At)}}if(De){b=q.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,b}function D0(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ve||ie(),W||(ve(),W=!0),ee.add(m,u),u.v=0}}function Ef(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ya(p(u.Fa,u),L0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,V0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ya(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),Hc(this),V0(this))};function bf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function V0(u){u.g=new Hr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=mr(u.qa);Me(m,"RID","rpc"),Me(m,"SID",u.K),Me(m,"AID",u.T),Me(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Me(m,"TO",u.ja),Me(m,"TYPE","xmlhttp"),Ia(u,m),u.m&&u.o&&_f(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Uc(mr(m)),y.m=null,y.P=!0,l0(y,u)}t.Za=function(){this.C!=null&&(this.C=null,Hc(this),Ef(this),$t(19))};function qc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function O0(u,m){var y=null;if(u.g==m){qc(u),bf(u),u.g=null;var b=2}else if(xf(u.h,m))y=m.D,p0(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var O=u.B;b=Dc(),ce(b,new s0(b,y)),Wc(u)}else D0(u);else if(O=m.s,O==3||O==0&&0<m.X||!(b==1&&aC(u,m)||b==2&&Ef(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),O){case 1:Ks(u,5);break;case 4:Ks(u,10);break;case 3:Ks(u,6);break;default:Ks(u,2)}}}function L0(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Ks(u,m){if(u.j.info("Error code "+m),m==2){var y=p(u.fb,u),b=u.Xa;const O=!b;b=new Gs(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Mc(b,"https"),Uc(b),O?eC(b.toString(),y):tC(b.toString(),y)}else $t(2);u.G=0,u.l&&u.l.sa(m),M0(u),k0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function M0(u){if(u.G=0,u.ka=[],u.l){const m=m0(u.h);(m.length!=0||u.i.length!=0)&&(P(u.ka,m),P(u.ka,u.i),u.h.i.length=0,E(u.i),u.i.length=0),u.l.ra()}}function F0(u,m,y){var b=y instanceof Gs?mr(y):new Gs(y);if(b.g!="")m&&(b.g=m+"."+b.g),Fc(b,b.s);else{var O=a.location;b=O.protocol,m=m?m+"."+O.hostname:O.hostname,O=+O.port;var F=new Gs(null);b&&Mc(F,b),m&&(F.g=m),O&&Fc(F,O),y&&(F.l=y),b=F}return y=u.D,m=u.ya,y&&m&&Me(b,y,m),Me(b,"VER",u.la),Ia(u,b),b}function U0(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Xe(new Bc({eb:y})):new Xe(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function B0(){}t=B0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gc(){}Gc.prototype.g=function(u,m){return new un(u,m)};function un(u,m){K.call(this),this.g=new C0(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!x(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yi(this)}w(un,K),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Tf(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=pa(u),u=y);m.i.push(new HA(m.Ya++,u)),m.G==3&&Wc(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Tf(this.g),delete this.g,un.aa.N.call(this)};function $0(u){hf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w($0,hf);function z0(){ff.call(this),this.status=1}w(z0,ff);function Yi(u){this.g=u}w(Yi,B0),Yi.prototype.ua=function(){ce(this.g,"a")},Yi.prototype.ta=function(u){ce(this.g,new $0(u))},Yi.prototype.sa=function(u){ce(this.g,new z0)},Yi.prototype.ra=function(){ce(this.g,"b")},Gc.prototype.createWebChannel=Gc.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,ZS=function(){return new Gc},JS=function(){return Dc()},XS=Ws,Qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vc.NO_ERROR=0,Vc.TIMEOUT=8,Vc.HTTP_ERROR=6,Hu=Vc,i0.COMPLETE="complete",YS=i0,e0.EventType=ma,ma.OPEN="a",ma.CLOSE="b",ma.ERROR="c",ma.MESSAGE="d",K.prototype.listen=K.prototype.K,Ya=e0,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,QS=Xe}).apply(typeof pu<"u"?pu:typeof self<"u"?self:typeof window<"u"?window:{});const Ww="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new jh("@firebase/firestore");function La(){return Ti.logLevel}function te(t,...e){if(Ti.logLevel<=Ee.DEBUG){const n=e.map(Uy);Ti.debug(`Firestore (${aa}): ${t}`,...n)}}function Fr(t,...e){if(Ti.logLevel<=Ee.ERROR){const n=e.map(Uy);Ti.error(`Firestore (${aa}): ${t}`,...n)}}function Wo(t,...e){if(Ti.logLevel<=Ee.WARN){const n=e.map(Uy);Ti.warn(`Firestore (${aa}): ${t}`,...n)}}function Uy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: `+t;throw Fr(e),new Error(e)}function Re(t,e){t||he()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends jn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class f4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class p4{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Es,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Es)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new eI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new Vt(e)}}class m4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class g4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new m4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Re(this.o===void 0);const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new y4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=x4(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function qo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new pt(0,0))}static max(){return new pe(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ql.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ql?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends Ql{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new He(n)}static emptyPath(){return new He([])}}const w4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends Ql{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return w4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Et(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new se($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new se($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new se($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new se($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(He.fromString(e))}static fromName(e){return new oe(He.fromString(e).popFirst(5))}static empty(){return new oe(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new He(e.slice()))}}function _4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new Ns(s,oe.empty(),e)}function T4(t){return new Ns(t.readTime,t.key,-1)}class Ns{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ns(pe.min(),oe.empty(),-1)}static max(){return new Ns(pe.max(),oe.empty(),-1)}}function E4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==b4)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function I4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}By.oe=-1;function Lh(t){return t==null}function Rd(t){return t===0&&1/t==-1/0}function P4(t){return typeof t=="number"&&Number.isInteger(t)&&!Rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mu(this.root,e,this.comparator,!1)}getReverseIterator(){return new mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mu(this.root,e,this.comparator,!0)}}class mu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Tt.RED,this.left=s??Tt.EMPTY,this.right=i??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Tt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Tt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gw(this.data.getIterator())}getIteratorFrom(e){return new Gw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class Gw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new Un([])}unionWith(e){let n=new St(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new rI("Invalid base64 string: "+i):i}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const N4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(t){if(Re(!!t),typeof t=="string"){let e=0;const n=N4.exec(t);if(Re(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ei(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zy(t){const e=t.mapValue.fields.__previous_value__;return $y(e)?zy(e):e}function Yl(t){const e=As(t.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,n,r,s,i,o,a,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d}}class Xl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$y(t)?4:k4(t)?9007199254740991:C4(t)?10:11:he()}function ur(t,e){if(t===e)return!0;const n=bi(t);if(n!==bi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yl(t).isEqual(Yl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=As(s.timestampValue),a=As(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ei(s.bytesValue).isEqual(Ei(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return tt(s.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(s.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return tt(s.integerValue)===tt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=tt(s.doubleValue),a=tt(i.doubleValue);return o===a?Rd(o)===Rd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return qo(t.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(qw(o)!==qw(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!ur(o[c],a[c])))return!1;return!0}(t,e);default:return he()}}function Jl(t,e){return(t.values||[]).find(n=>ur(n,e))!==void 0}function Go(t,e){if(t===e)return 0;const n=bi(t),r=bi(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=tt(i.integerValue||i.doubleValue),c=tt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Kw(t.timestampValue,e.timestampValue);case 4:return Kw(Yl(t),Yl(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ei(i),c=Ei(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=Ne(a[d],c[d]);if(h!==0)return h}return Ne(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ne(tt(i.latitude),tt(o.latitude));return a!==0?a:Ne(tt(i.longitude),tt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Qw(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,c,d,h;const f=i.fields||{},p=o.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,w=(c=p.value)===null||c===void 0?void 0:c.arrayValue,E=Ne(((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:Qw(g,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===gu.mapValue&&o===gu.mapValue)return 0;if(i===gu.mapValue)return 1;if(o===gu.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=Ne(c[f],h[f]);if(p!==0)return p;const g=Go(a[c[f]],d[h[f]]);if(g!==0)return g}return Ne(c.length,h.length)}(t.mapValue,e.mapValue);default:throw he()}}function Kw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=As(t),r=As(e),s=Ne(n.seconds,r.seconds);return s!==0?s:Ne(n.nanos,r.nanos)}function Qw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Go(n[s],r[s]);if(i)return i}return Ne(n.length,r.length)}function Ko(t){return Ym(t)}function Ym(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=As(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ei(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ym(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ym(n.fields[o])}`;return s+"}"}(t.mapValue):he()}function Xm(t){return!!t&&"integerValue"in t}function Hy(t){return!!t&&"arrayValue"in t}function Yw(t){return!!t&&"nullValue"in t}function Xw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wu(t){return!!t&&"mapValue"in t}function C4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function dl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return la(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=dl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function k4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dl(n)}setAll(e){let n=Et.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=dl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Wu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Wu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){la(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Sn(dl(this.value))}}function sI(t){const e=[];return la(t.fields,(n,r)=>{const s=new Et([n]);if(Wu(r)){const i=sI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Lt(e,0,pe.min(),pe.min(),pe.min(),Sn.empty(),0)}static newFoundDocument(e,n,r,s){return new Lt(e,1,n,pe.min(),r,s,0)}static newNoDocument(e,n){return new Lt(e,2,n,pe.min(),pe.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new Lt(e,3,n,pe.min(),pe.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.position=e,this.inclusive=n}}function Jw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=Go(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n="asc"){this.field=e,this.dir=n}}function j4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iI=class{};class ht extends iI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new D4(e,n,r):n==="array-contains"?new L4(e,r):n==="in"?new M4(e,r):n==="not-in"?new F4(e,r):n==="array-contains-any"?new U4(e,r):new ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new V4(e,r):new O4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Go(n,this.value)):n!==null&&bi(this.value)===bi(n)&&this.matchesComparison(Go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends iI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new dr(e,n)}matches(e){return oI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function oI(t){return t.op==="and"}function aI(t){return R4(t)&&oI(t)}function R4(t){for(const e of t.filters)if(e instanceof dr)return!1;return!0}function Jm(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+Ko(t.value);if(aI(t))return t.filters.map(e=>Jm(e)).join(",");{const e=t.filters.map(n=>Jm(n)).join(",");return`${t.op}(${e})`}}function lI(t,e){return t instanceof ht?function(r,s){return s instanceof ht&&r.op===s.op&&r.field.isEqual(s.field)&&ur(r.value,s.value)}(t,e):t instanceof dr?function(r,s){return s instanceof dr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&lI(o,s.filters[a]),!0):!1}(t,e):void he()}function cI(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Ko(n.value)}`}(t):t instanceof dr?function(n){return n.op.toString()+" {"+n.getFilters().map(cI).join(" ,")+"}"}(t):"Filter"}class D4 extends ht{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class V4 extends ht{constructor(e,n){super(e,"in",n),this.keys=uI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class O4 extends ht{constructor(e,n){super(e,"not-in",n),this.keys=uI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class L4 extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hy(n)&&Jl(n.arrayValue,this.value)}}class M4 extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class F4 extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Jl(this.value.arrayValue,n)}}class U4 extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function e_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new B4(t,e,n,r,s,i,o)}function Wy(t){const e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ko(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ko(r)).join(",")),e.ue=n}return e.ue}function qy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zw(t.startAt,e.startAt)&&Zw(t.endAt,e.endAt)}function Zm(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $4(t,e,n,r,s,i,o,a){return new Mh(t,e,n,r,s,i,o,a)}function Gy(t){return new Mh(t)}function t_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function z4(t){return t.collectionGroup!==null}function hl(t){const e=me(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new St(Et.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Vd(i,r))}),n.has(Et.keyField().canonicalString())||e.ce.push(new Vd(Et.keyField(),r))}return e.ce}function or(t){const e=me(t);return e.le||(e.le=H4(e,hl(t))),e.le}function H4(t,e){if(t.limitType==="F")return e_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Vd(s.field,i)});const n=t.endAt?new Dd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dd(t.startAt.position,t.startAt.inclusive):null;return e_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eg(t,e,n){return new Mh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fh(t,e){return qy(or(t),or(e))&&t.limitType===e.limitType}function dI(t){return`${Wy(or(t))}|lt:${t.limitType}`}function to(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>cI(s)).join(", ")}]`),Lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ko(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ko(s)).join(",")),`Target(${r})`}(or(t))}; limitType=${t.limitType})`}function Uh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of hl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const d=Jw(o,a,c);return o.inclusive?d<=0:d<0}(r.startAt,hl(r),s)||r.endAt&&!function(o,a,c){const d=Jw(o,a,c);return o.inclusive?d>=0:d>0}(r.endAt,hl(r),s))}(t,e)}function W4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hI(t){return(e,n)=>{let r=!1;for(const s of hl(t)){const i=q4(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function q4(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),d=a.data.field(i);return c!==null&&d!==null?Go(c,d):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return nI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=new Ye(oe.comparator);function Ur(){return G4}const fI=new Ye(oe.comparator);function Xa(...t){let e=fI;for(const n of t)e=e.insert(n.key,n);return e}function pI(t){let e=fI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oi(){return fl()}function mI(){return fl()}function fl(){return new ca(t=>t.toString(),(t,e)=>t.isEqual(e))}const K4=new Ye(oe.comparator),Q4=new St(oe.comparator);function Te(...t){let e=Q4;for(const n of t)e=e.add(n);return e}const Y4=new St(Ne);function X4(){return Y4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rd(e)?"-0":e}}function gI(t){return{integerValue:""+t}}function J4(t,e){return P4(e)?gI(e):Ky(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function Z4(t,e,n){return t instanceof Od?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&$y(i)&&(i=zy(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Zl?vI(t,e):t instanceof ec?xI(t,e):function(s,i){const o=yI(s,i),a=n_(o)+n_(s.Pe);return Xm(o)&&Xm(s.Pe)?gI(a):Ky(s.serializer,a)}(t,e)}function eM(t,e,n){return t instanceof Zl?vI(t,e):t instanceof ec?xI(t,e):n}function yI(t,e){return t instanceof Ld?function(r){return Xm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Od extends Bh{}class Zl extends Bh{constructor(e){super(),this.elements=e}}function vI(t,e){const n=wI(e);for(const r of t.elements)n.some(s=>ur(s,r))||n.push(r);return{arrayValue:{values:n}}}class ec extends Bh{constructor(e){super(),this.elements=e}}function xI(t,e){let n=wI(e);for(const r of t.elements)n=n.filter(s=>!ur(s,r));return{arrayValue:{values:n}}}class Ld extends Bh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function n_(t){return tt(t.integerValue||t.doubleValue)}function wI(t){return Hy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function tM(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Zl&&s instanceof Zl||r instanceof ec&&s instanceof ec?qo(r.elements,s.elements,ur):r instanceof Ld&&s instanceof Ld?ur(r.Pe,s.Pe):r instanceof Od&&s instanceof Od}(t.transform,e.transform)}class nM{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $h{}function _I(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qy(t.key,Hn.none()):new wc(t.key,t.data,Hn.none());{const n=t.data,r=Sn.empty();let s=new St(Et.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Oi(t.key,r,new Un(s.toArray()),Hn.none())}}function rM(t,e,n){t instanceof wc?function(s,i,o){const a=s.value.clone(),c=s_(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Oi?function(s,i,o){if(!qu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=s_(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(TI(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pl(t,e,n,r){return t instanceof wc?function(i,o,a,c){if(!qu(i.precondition,o))return a;const d=i.value.clone(),h=i_(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oi?function(i,o,a,c){if(!qu(i.precondition,o))return a;const d=i_(i.fieldTransforms,c,o),h=o.data;return h.setAll(TI(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return qu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function sM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=yI(r.transform,s||null);i!=null&&(n===null&&(n=Sn.empty()),n.set(r.field,i))}return n||null}function r_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&qo(r,s,(i,o)=>tM(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wc extends $h{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Oi extends $h{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function TI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function s_(t,e,n){const r=new Map;Re(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,eM(o,a,n[s]))}return r}function i_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Z4(i,o,e))}return r}class Qy extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iM extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&rM(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=_I(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,(n,r)=>r_(n,r))&&qo(this.baseMutations,e.baseMutations,(n,r)=>r_(n,r))}}class Yy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Re(e.mutations.length===r.length);let s=function(){return K4}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Yy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,be;function cM(t){switch(t){default:return he();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function EI(t){if(t===void 0)return Fr("GRPC error has no .code"),$.UNKNOWN;switch(t){case it.OK:return $.OK;case it.CANCELLED:return $.CANCELLED;case it.UNKNOWN:return $.UNKNOWN;case it.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case it.INTERNAL:return $.INTERNAL;case it.UNAVAILABLE:return $.UNAVAILABLE;case it.UNAUTHENTICATED:return $.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case it.NOT_FOUND:return $.NOT_FOUND;case it.ALREADY_EXISTS:return $.ALREADY_EXISTS;case it.PERMISSION_DENIED:return $.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case it.ABORTED:return $.ABORTED;case it.OUT_OF_RANGE:return $.OUT_OF_RANGE;case it.UNIMPLEMENTED:return $.UNIMPLEMENTED;case it.DATA_LOSS:return $.DATA_LOSS;default:return he()}}(be=it||(it={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=new fi([4294967295,4294967295],0);function o_(t){const e=uM().encode(t),n=new KS;return n.update(e),new Uint8Array(n.digest())}function a_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new fi([n,r],0),new fi([s,i],0)]}class Xy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ja(`Invalid padding: ${n}`);if(r<0)throw new Ja(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ja(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ja(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=fi.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(fi.fromNumber(r)));return s.compare(dM)===1&&(s=new fi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=o_(e),[r,s]=a_(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Xy(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=o_(e),[r,s]=a_(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,_c.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zh(pe.min(),s,new Ye(Ne),Ur(),Te())}}class _c{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _c(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class bI{constructor(e,n){this.targetId=e,this.me=n}}class SI{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class l_{constructor(){this.fe=0,this.ge=u_(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Te(),n=Te(),r=Te();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:he()}}),new _c(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=u_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hM{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ur(),this.qe=c_(),this.Qe=new Ye(Ne)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Zm(i))if(r===0){const o=new oe(i.path);this.Ue(n,o,Lt.newNoDocument(o,pe.min()))}else Re(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ei(r).toUint8Array()}catch(c){if(c instanceof rI)return Wo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Xy(o,s,i)}catch(c){return Wo(c instanceof Ja?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Zm(a.target)){const c=new oe(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Lt.newNoDocument(c,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Te();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new zh(e,n,this.Qe,this.ke,r);return this.ke=Ur(),this.qe=c_(),this.Qe=new Ye(Ne),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new l_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new St(Ne),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new l_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function c_(){return new Ye(oe.comparator)}function u_(){return new Ye(oe.comparator)}const fM={asc:"ASCENDING",desc:"DESCENDING"},pM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mM={and:"AND",or:"OR"};class gM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tg(t,e){return t.useProto3Json||Lh(e)?e:{value:e}}function Md(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function II(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yM(t,e){return Md(t,e.toTimestamp())}function ar(t){return Re(!!t),pe.fromTimestamp(function(n){const r=As(n);return new pt(r.seconds,r.nanos)}(t))}function Jy(t,e){return ng(t,e).canonicalString()}function ng(t,e){const n=function(s){return new He(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PI(t){const e=He.fromString(t);return Re(jI(e)),e}function rg(t,e){return Jy(t.databaseId,e.path)}function ap(t,e){const n=PI(e);if(n.get(1)!==t.databaseId.projectId)throw new se($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(AI(n))}function NI(t,e){return Jy(t.databaseId,e)}function vM(t){const e=PI(t);return e.length===4?He.emptyPath():AI(e)}function sg(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AI(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function d_(t,e,n){return{name:rg(t,e),fields:n.value.mapValue.fields}}function xM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Re(h===void 0||typeof h=="string"),Pt.fromBase64String(h||"")):(Re(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Pt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?$.UNKNOWN:EI(d.code);return new se(h,d.message||"")}(o);n=new SI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ap(t,r.document.name),i=ar(r.document.updateTime),o=r.document.createTime?ar(r.document.createTime):pe.min(),a=new Sn({mapValue:{fields:r.document.fields}}),c=Lt.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Gu(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ap(t,r.document),i=r.readTime?ar(r.readTime):pe.min(),o=Lt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Gu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ap(t,r.document),i=r.removedTargetIds||[];n=new Gu([],i,s,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new lM(s,i),a=r.targetId;n=new bI(a,o)}}return n}function wM(t,e){let n;if(e instanceof wc)n={update:d_(t,e.key,e.value)};else if(e instanceof Qy)n={delete:rg(t,e.key)};else if(e instanceof Oi)n={update:d_(t,e.key,e.data),updateMask:AM(e.fieldMask)};else{if(!(e instanceof iM))return he();n={verify:rg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Od)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ec)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ld)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:yM(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(t,e.precondition)),n}function _M(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?ar(s.updateTime):ar(i);return o.isEqual(pe.min())&&(o=ar(i)),new nM(o,s.transformResults||[])}(n,e))):[]}function TM(t,e){return{documents:[NI(t,e.path)]}}function EM(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NI(t,s);const i=function(d){if(d.length!==0)return kI(dr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:no(p.field),direction:IM(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=tg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function bM(t){let e=vM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Re(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=CI(f);return p instanceof dr&&aI(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(w){return new Vd(ro(w.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Lh(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,g=f.values||[];return new Dd(g,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,g=f.values||[];return new Dd(g,p)}(n.endAt)),$4(e,s,o,i,a,"F",c,d)}function SM(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ro(n.unaryFilter.field);return ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ro(n.unaryFilter.field);return ht.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ro(n.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return ht.create(ro(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dr.create(n.compositeFilter.filters.map(r=>CI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function IM(t){return fM[t]}function PM(t){return pM[t]}function NM(t){return mM[t]}function no(t){return{fieldPath:t.canonicalString()}}function ro(t){return Et.fromServerFormat(t.fieldPath)}function kI(t){return t instanceof ht?function(n){if(n.op==="=="){if(Xw(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(Yw(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xw(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(Yw(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:PM(n.op),value:n.value}}}(t):t instanceof dr?function(n){const r=n.getFilters().map(s=>kI(s));return r.length===1?r[0]:{compositeFilter:{op:NM(n.op),filters:r}}}(t):he()}function AM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n,r,s,i=pe.min(),o=pe.min(),a=Pt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.ct=e}}function kM(t){const e=bM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?eg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this.un=new RM}addToCollectionParentIndex(e,n){return this.un.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Ns.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class RM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new St(He.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new St(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Qo(0)}static kn(){return new Qo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.changes=new ca(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&pl(r.mutation,s,Un.empty(),pt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Te()){const s=oi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Xa();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Te()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Ur();const o=fl(),a=function(){return fl()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Oi)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),pl(h.mutation,d,h.mutation.getFieldMask(),pt.now())):o.set(d.key,Un.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var f;return a.set(d,new VM(h,(f=o.get(d))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fl();let s=new Ye((o,a)=>o-a),i=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||Un.empty();h=a.applyToLocalView(d,h),r.set(c,h);const f=(s.get(a.batchId)||Te()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,f=mI();h.forEach(p=>{if(!i.has(p)){const g=_I(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):z4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(oi());let a=-1,c=i;return o.next(d=>B.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Te())).next(h=>({batchId:a,changes:pI(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=Xa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Xa();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,c=>{const d=function(f,p){return new Mh(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Lt.newInvalidDocument(h)))});let a=Xa();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&pl(h.mutation,d,Un.empty(),pt.now()),Uh(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return B.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ar(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:kM(s.bundledQuery),readTime:ar(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.overlays=new Ye(oe.comparator),this.Ir=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oi();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=oi(),i=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ye((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=oi(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=oi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return B.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new aM(n,r));let i=this.Ir.get(n);i===void 0&&(i=Te(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.Tr=new St(mt.Er),this.dr=new St(mt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new mt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new oe(new He([])),r=new mt(n,e),s=new mt(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new oe(new He([])),r=new mt(n,e),s=new mt(n,e+1);let i=Te();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new mt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return oe.comparator(e.key,n.key)||Ne(e.wr,n.wr)}static Ar(e,n){return Ne(e.wr,n.wr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new St(mt.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oM(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new mt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),s=new mt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(Ne);return n.forEach(s=>{const i=new mt(s,0),o=new mt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const o=new mt(new oe(i),0);let a=new St(Ne);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(c.wr)),!0)},o),B.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Re(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(n.mutations,s=>{const i=new mt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new mt(n,0),s=this.br.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.Mr=e,this.docs=function(){return new Ye(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Lt.newInvalidDocument(n))}getEntries(e,n){let r=Ur();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Lt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ur();const o=n.path,a=new oe(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||E4(T4(h),r)<=0||(s.has(h.key)||Uh(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){he()}Or(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $M(this)}getSize(e){return B.resolve(this.size)}}class $M extends DM{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.persistence=e,this.Nr=new ca(n=>Wy(n),qy),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Zy,this.targetCount=0,this.kr=Qo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),B.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Qo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Kn(n),B.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n){this.qr={},this.overlays={},this.Qr=new By(0),this.Kr=!1,this.Kr=!0,this.$r=new FM,this.referenceDelegate=e(this),this.Ur=new zM(this),this.indexManager=new jM,this.remoteDocumentCache=function(s){return new BM(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new CM(n),this.Gr=new LM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new UM(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new WM(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class WM extends S4{constructor(e){super(),this.currentSequenceNumber=e}}class ev{constructor(e){this.persistence=e,this.Jr=new Zy,this.Yr=null}static Zr(e){return new ev(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const s=oe.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,pe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return B.or([()=>B.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Te(),s=Te();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new tv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return DD()?8:I4(Ft())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new qM;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(La()<=Ee.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(La()<=Ee.DEBUG&&te("QueryEngine","Query:",to(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(La()<=Ee.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):B.resolve())}Yi(e,n){if(t_(n))return B.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=eg(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Te(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(n,a);return this.ns(n,d,o,c.readTime)?this.Yi(e,eg(n,null,"F")):this.rs(e,d,n,c)}))})))}Zi(e,n,r,s){return t_(n)||s.isEqual(pe.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?B.resolve(null):(La()<=Ee.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),to(n)),this.rs(e,o,n,_4(s,-1)).next(a=>a))})}ts(e,n){let r=new St(hI(e));return n.forEach((s,i)=>{Uh(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return La()<=Ee.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",to(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ns.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Ye(Ne),this._s=new ca(i=>Wy(i),qy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OM(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function QM(t,e,n,r){return new KM(t,e,n,r)}async function RI(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=Te();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})}function YM(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const f=d.batch,p=f.keys();let g=B.resolve();return p.forEach(w=>{g=g.next(()=>h.getEntry(c,w)).next(E=>{const P=d.docVersions.get(w);Re(P!==null),E.version.compareTo(P)<0&&(f.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),h.addEntry(E)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Te();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function DI(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function XM(t,e){const n=me(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Pt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(E,P,S){return E.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(p,g,h)&&a.push(n.Ur.updateTargetData(i,g))});let c=Ur(),d=Te();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(JM(i,o,e.documentUpdates).next(h=>{c=h.Ps,d=h.Is})),!r.isEqual(pe.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.os=s,i))}function JM(t,e,n){let r=Te(),s=Te();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ur();return n.forEach((a,c)=>{const d=i.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(pe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{Ps:o,Is:s}})}function ZM(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function eF(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new ds(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function ig(t,e,n){const r=me(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!xc(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function h_(t,e,n){const r=me(t);let s=pe.min(),i=Te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=me(c),p=f._s.get(h);return p!==void 0?B.resolve(f.os.get(p)):f.Ur.getTargetData(d,h)}(r,o,or(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:pe.min(),n?i:Te())).next(a=>(tF(r,W4(e),a),{documents:a,Ts:i})))}function tF(t,e,n){let r=t.us.get(e)||pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class f_{constructor(){this.activeTargetIds=X4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nF{constructor(){this.so=new f_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new f_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu=null;function lp(){return yu===null?yu=function(){return 268435456+Math.round(2147483648*Math.random())}():yu++,"0x"+yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class oF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=lp(),c=this.xo(n,r.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${a}:`,c,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,o),this.No(n,c,d,s).then(h=>(te("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Wo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+aa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=sF[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=lp();return new Promise((o,a)=>{const c=new QS;c.setWithCredentials(!0),c.listenOnce(YS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Hu.NO_ERROR:const h=c.getResponseJson();te(Rt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Hu.TIMEOUT:te(Rt,`RPC '${e}' ${i} timed out`),a(new se($.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:const f=c.getStatus();if(te(Rt,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(P){const S=P.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(S)>=0?S:$.UNKNOWN}(g.status);a(new se(w,g.message))}else a(new se($.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new se($.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{te(Rt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);te(Rt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=lp(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ZS(),a=JS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");te(Rt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);let p=!1,g=!1;const w=new iF({Io:P=>{g?te(Rt,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(p||(te(Rt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),te(Rt,`RPC '${e}' stream ${s} sending:`,P),f.send(P))},To:()=>f.close()}),E=(P,S,x)=>{P.listen(S,_=>{try{x(_)}catch(R){setTimeout(()=>{throw R},0)}})};return E(f,Ya.EventType.OPEN,()=>{g||(te(Rt,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),E(f,Ya.EventType.CLOSE,()=>{g||(g=!0,te(Rt,`RPC '${e}' stream ${s} transport closed`),w.So())}),E(f,Ya.EventType.ERROR,P=>{g||(g=!0,Wo(Rt,`RPC '${e}' stream ${s} transport errored:`,P),w.So(new se($.UNAVAILABLE,"The operation could not be completed")))}),E(f,Ya.EventType.MESSAGE,P=>{var S;if(!g){const x=P.data[0];Re(!!x);const _=x,R=_.error||((S=_[0])===null||S===void 0?void 0:S.error);if(R){te(Rt,`RPC '${e}' stream ${s} received error:`,R);const L=R.status;let V=function(I){const A=it[I];if(A!==void 0)return EI(A)}(L),T=R.message;V===void 0&&(V=$.INTERNAL,T="Unknown error status: "+L+" with message "+R.message),g=!0,w.So(new se(V,T)),f.close()}else te(Rt,`RPC '${e}' stream ${s} received:`,x),w.bo(x)}}),E(a,XS.STAT_EVENT,P=>{P.stat===Qm.PROXY?te(Rt,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===Qm.NOPROXY&&te(Rt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t){return new gM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n,r,s,i,o,a,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new VI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Fr(n.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new se($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aF extends OI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=xM(this.serializer,e),r=function(i){if(!("targetChange"in i))return pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?ar(o.readTime):pe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=sg(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Zm(c)?{documents:TM(i,c)}:{query:EM(i,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=II(i,o.resumeToken);const d=tg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(pe.min())>0){a.readTime=Md(i,o.snapshotVersion.toTimestamp());const d=tg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=SM(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=sg(this.serializer),n.removeTarget=e,this.a_(n)}}class lF extends OI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=_M(e.writeResults,e.commitTime),r=ar(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=sg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wM(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new se($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,ng(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se($.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,ng(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se($.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class uF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Fr(n),this.D_=!1):te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Li(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=me(c);d.L_.add(4),await Tc(d),d.q_.set("Unknown"),d.L_.delete(4),await Wh(d)}(this))})}),this.q_=new uF(r,s)}}async function Wh(t){if(Li(t))for(const e of t.B_)await e(!0)}async function Tc(t){for(const e of t.B_)await e(!1)}function LI(t,e){const n=me(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),iv(n)?sv(n):ua(n).r_()&&rv(n,e))}function nv(t,e){const n=me(t),r=ua(n);n.N_.delete(e),r.r_()&&MI(n,e),n.N_.size===0&&(r.r_()?r.o_():Li(n)&&n.q_.set("Unknown"))}function rv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ua(t).A_(e)}function MI(t,e){t.Q_.xe(e),ua(t).R_(e)}function sv(t){t.Q_=new hM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ua(t).start(),t.q_.v_()}function iv(t){return Li(t)&&!ua(t).n_()&&t.N_.size>0}function Li(t){return me(t).L_.size===0}function FI(t){t.Q_=void 0}async function hF(t){t.q_.set("Online")}async function fF(t){t.N_.forEach((e,n)=>{rv(t,e)})}async function pF(t,e){FI(t),iv(t)?(t.q_.M_(e),sv(t)):t.q_.set("Unknown")}async function mF(t,e,n){if(t.q_.set("Online"),e instanceof SI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fd(t,r)}else if(e instanceof Gu?t.Q_.Ke(e):e instanceof bI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(pe.min()))try{const r=await DI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=i.N_.get(c);if(!h)return;i.N_.set(c,h.withResumeToken(Pt.EMPTY_BYTE_STRING,h.snapshotVersion)),MI(i,c);const f=new ds(h.target,c,d,h.sequenceNumber);rv(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await Fd(t,r)}}async function Fd(t,e,n){if(!xc(e))throw e;t.L_.add(1),await Tc(t),t.q_.set("Offline"),n||(n=()=>DI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Wh(t)})}function UI(t,e){return e().catch(n=>Fd(t,n,e))}async function qh(t){const e=me(t),n=Cs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;gF(e);)try{const s=await ZM(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,yF(e,s)}catch(s){await Fd(e,s)}BI(e)&&$I(e)}function gF(t){return Li(t)&&t.O_.length<10}function yF(t,e){t.O_.push(e);const n=Cs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function BI(t){return Li(t)&&!Cs(t).n_()&&t.O_.length>0}function $I(t){Cs(t).start()}async function vF(t){Cs(t).p_()}async function xF(t){const e=Cs(t);for(const n of t.O_)e.m_(n.mutations)}async function wF(t,e,n){const r=t.O_.shift(),s=Yy.from(r,e,n);await UI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await qh(t)}async function _F(t,e){e&&Cs(t).V_&&await async function(r,s){if(function(o){return cM(o)&&o!==$.ABORTED}(s.code)){const i=r.O_.shift();Cs(r).s_(),await UI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await qh(r)}}(t,e),BI(t)&&$I(t)}async function m_(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=Li(n);n.L_.add(3),await Tc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Wh(n)}async function TF(t,e){const n=me(t);e?(n.L_.delete(2),await Wh(n)):e||(n.L_.add(2),await Tc(n),n.q_.set("Unknown"))}function ua(t){return t.K_||(t.K_=function(n,r,s){const i=me(n);return i.w_(),new aF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:hF.bind(null,t),Ro:fF.bind(null,t),mo:pF.bind(null,t),d_:mF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),iv(t)?sv(t):t.q_.set("Unknown")):(await t.K_.stop(),FI(t))})),t.K_}function Cs(t){return t.U_||(t.U_=function(n,r,s){const i=me(n);return i.w_(),new lF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:vF.bind(null,t),mo:_F.bind(null,t),f_:xF.bind(null,t),g_:wF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await qh(t)):(await t.U_.stop(),t.O_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new ov(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function av(t,e){if(Fr("AsyncQueue",`${e}: ${t}`),xc(t))return new se($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Xa(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new Do(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Do;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.W_=new Ye(oe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):he():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yo{constructor(e,n,r,s,i,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Yo(e,n,Do.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class bF{constructor(){this.queries=y_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=me(n),i=s.queries;s.queries=y_(),i.forEach((o,a)=>{for(const c of a.j_)c.onError(r)})})(this,new se($.ABORTED,"Firestore shutting down"))}}function y_(){return new ca(t=>dI(t),Fh)}async function SF(t,e){const n=me(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new EF,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=av(o,`Initialization of query '${to(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&lv(n)}async function IF(t,e){const n=me(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function PF(t,e){const n=me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&lv(n)}function NF(t,e,n){const r=me(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function lv(t){t.Y_.forEach(e=>{e.next()})}var og,v_;(v_=og||(og={})).ea="default",v_.Cache="cache";class AF{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.key=e}}class HI{constructor(e){this.key=e}}class CF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Te(),this.mutatedKeys=Te(),this.Aa=hI(e),this.Ra=new Do(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new g_,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),g=Uh(this.query,f)?f:null,w=!!p&&this.mutatedKeys.has(p.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let P=!1;p&&g?p.data.isEqual(g.data)?w!==E&&(r.track({type:3,doc:g}),P=!0):this.ga(p,g)||(r.track({type:2,doc:g}),P=!0,(c&&this.Aa(g,c)>0||d&&this.Aa(g,d)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),P=!0):p&&!g&&(r.track({type:1,doc:p}),P=!0,(c||d)&&(a=!0)),P&&(g?(o=o.add(g),i=E?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(g,w){const E=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return E(g)-E(w)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,d=c!==this.Ea;return this.Ea=c,o.length!==0||d?{snapshot:new Yo(this.query,e.Ra,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new g_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Te(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new HI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new zI(r))}),n}ba(e){this.Ta=e.Ts,this.da=Te();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Yo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class kF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jF{constructor(e){this.key=e,this.va=!1}}class RF{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ca(a=>dI(a),Fh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ye(oe.comparator),this.Na=new Map,this.La=new Zy,this.Ba={},this.ka=new Map,this.qa=Qo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function DF(t,e,n=!0){const r=YI(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await WI(r,e,n,!0),s}async function VF(t,e){const n=YI(t);await WI(n,e,!0,!1)}async function WI(t,e,n,r){const s=await eF(t.localStore,or(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await OF(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&LI(t.remoteStore,s),a}async function OF(t,e,n,r,s){t.Ka=(f,p,g)=>async function(E,P,S,x){let _=P.view.ma(S);_.ns&&(_=await h_(E.localStore,P.query,!1).then(({documents:T})=>P.view.ma(T,_)));const R=x&&x.targetChanges.get(P.targetId),L=x&&x.targetMismatches.get(P.targetId)!=null,V=P.view.applyChanges(_,E.isPrimaryClient,R,L);return w_(E,P.targetId,V.wa),V.snapshot}(t,f,p,g);const i=await h_(t.localStore,e,!0),o=new CF(e,i.Ts),a=o.ma(i.documents),c=_c.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,c);w_(t,n,d.wa);const h=new kF(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function LF(t,e,n){const r=me(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Fh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ig(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&nv(r.remoteStore,s.targetId),ag(r,s.targetId)}).catch(vc)):(ag(r,s.targetId),await ig(r.localStore,s.targetId,!0))}async function MF(t,e){const n=me(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nv(n.remoteStore,r.targetId))}async function FF(t,e,n){const r=qF(t);try{const s=await function(o,a){const c=me(o),d=pt.now(),h=a.reduce((g,w)=>g.add(w.key),Te());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Ur(),E=Te();return c.cs.getEntries(g,h).next(P=>{w=P,w.forEach((S,x)=>{x.isValidDocument()||(E=E.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,w)).next(P=>{f=P;const S=[];for(const x of a){const _=sM(x,f.get(x.key).overlayedDocument);_!=null&&S.push(new Oi(x.key,_,sI(_.value.mapValue),Hn.exists(!0)))}return c.mutationQueue.addMutationBatch(g,d,S,a)}).next(P=>{p=P;const S=P.applyToLocalDocumentSet(f,E);return c.documentOverlayCache.saveOverlays(g,P.batchId,S)})}).then(()=>({batchId:p.batchId,changes:pI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let d=o.Ba[o.currentUser.toKey()];d||(d=new Ye(Ne)),d=d.insert(a,c),o.Ba[o.currentUser.toKey()]=d}(r,s.batchId,n),await Ec(r,s.changes),await qh(r.remoteStore)}catch(s){const i=av(s,"Failed to persist write");n.reject(i)}}async function qI(t,e){const n=me(t);try{const r=await XM(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Re(o.va):s.removedDocuments.size>0&&(Re(o.va),o.va=!1))}),await Ec(n,r,e)}catch(r){await vc(r)}}function x_(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=me(o);c.onlineState=a;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(a)&&(d=!0)}),d&&lv(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UF(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Ye(oe.comparator);o=o.insert(i,Lt.newNoDocument(i,pe.min()));const a=Te().add(i),c=new zh(pe.min(),new Map,new Ye(Ne),o,a);await qI(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),cv(r)}else await ig(r.localStore,e,!1).then(()=>ag(r,e,n)).catch(vc)}async function BF(t,e){const n=me(t),r=e.batch.batchId;try{const s=await YM(n.localStore,e);KI(n,r,null),GI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ec(n,s)}catch(s){await vc(s)}}async function $F(t,e,n){const r=me(t);try{const s=await function(o,a){const c=me(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(f=>(Re(f!==null),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);KI(r,e,n),GI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ec(r,s)}catch(s){await vc(s)}}function GI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function KI(t,e,n){const r=me(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function ag(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||QI(t,r)})}function QI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(nv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),cv(t))}function w_(t,e,n){for(const r of n)r instanceof zI?(t.La.addReference(r.key,e),zF(t,r)):r instanceof HI?(te("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||QI(t,r.key)):he()}function zF(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(te("SyncEngine","New document in limbo: "+n),t.xa.add(r),cv(t))}function cv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new oe(He.fromString(e)),r=t.qa.next();t.Na.set(r,new jF(n)),t.Oa=t.Oa.insert(n,r),LI(t.remoteStore,new ds(or(Gy(n.path)),r,"TargetPurposeLimboResolution",By.oe))}}async function Ec(t,e,n){const r=me(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{o.push(r.Ka(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=tv.Wi(c.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(c,d){const h=me(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(d,p=>B.forEach(p.$i,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>B.forEach(p.Ui,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!xc(f))throw f;te("LocalStore","Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const g=h.os.get(p),w=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(p,E)}}}(r.localStore,i))}async function HF(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await RI(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(c=>{c.reject(new se($.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ec(n,r.hs)}}function WF(t,e){const n=me(t),r=n.Na.get(e);if(r&&r.va)return Te().add(r.key);{let s=Te();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function YI(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UF.bind(null,e),e.Ca.d_=PF.bind(null,e.eventManager),e.Ca.$a=NF.bind(null,e.eventManager),e}function qF(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$F.bind(null,e),e}class Ud{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return QM(this.persistence,new GM,e.initialUser,this.serializer)}Ga(e){return new HM(ev.Zr,this.serializer)}Wa(e){return new nF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ud.provider={build:()=>new Ud};class lg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>x_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HF.bind(null,this.syncEngine),await TF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bF}()}createDatastore(e){const n=Hh(e.databaseInfo.databaseId),r=function(i){return new oF(i)}(e.databaseInfo);return function(i,o,a,c){return new cF(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new dF(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>x_(this.syncEngine,n,0),function(){return p_.D()?new p_:new rF}())}createSyncEngine(e,n){return function(s,i,o,a,c,d,h){const f=new RF(s,i,o,a,c,d);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=me(s);te("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Tc(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}lg.provider={build:()=>new lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Vt.UNAUTHENTICATED,this.clientId=tI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{te("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=av(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function up(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await RI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function __(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QF(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>m_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>m_(e.remoteStore,s)),t._onlineComponents=e}async function QF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await up(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Wo("Error using user provided cache. Falling back to memory cache: "+n),await up(t,new Ud)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await up(t,new Ud);return t._offlineComponents}async function XI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await __(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await __(t,new lg))),t._onlineComponents}function YF(t){return XI(t).then(e=>e.syncEngine)}async function XF(t){const e=await XI(t),n=e.eventManager;return n.onListen=DF.bind(null,e.syncEngine),n.onUnlisten=LF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MF.bind(null,e.syncEngine),n}function JF(t,e,n={}){const r=new Es;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new GF({next:p=>{h.Za(),o.enqueueAndForget(()=>IF(i,f));const g=p.docs.has(a);!g&&p.fromCache?d.reject(new se($.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&c.source==="server"?d.reject(new se($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new AF(Gy(a.path),h,{includeMetadataChanges:!0,_a:!0});return SF(i,f)}(await XF(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t,e,n){if(!n)throw new se($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZF(t,e,n,r){if(e===!0&&r===!0)throw new se($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function E_(t){if(!oe.isDocumentKey(t))throw new se($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function b_(t){if(oe.isDocumentKey(t))throw new se($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function Si(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uv(t);throw new se($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new h4;switch(r.type){case"firstParty":return new g4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=T_.get(n);r&&(te("ComponentProvider","Removing Datastore"),T_.delete(n),r.terminate())}(this),Promise.resolve()}}function e3(t,e,n,r={}){var s;const i=(t=Si(t,Gh))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Vt.MOCK_USER;else{a=nS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new se($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Vt(d)}t._authCredentials=new f4(new eI(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dv(this.firestore,e,this._query)}}class mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class bs extends dv{constructor(e,n,r){super(e,n,Gy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new oe(e))}withConverter(e){return new bs(this.firestore,e,this._path)}}function t3(t,e,...n){if(t=vt(t),ZI("collection","path",e),t instanceof Gh){const r=He.fromString(e,...n);return b_(r),new bs(t,null,r)}{if(!(t instanceof mn||t instanceof bs))throw new se($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return b_(r),new bs(t.firestore,null,r)}}function Bd(t,e,...n){if(t=vt(t),arguments.length===1&&(e=tI.newId()),ZI("doc","path",e),t instanceof Gh){const r=He.fromString(e,...n);return E_(r),new mn(t,null,new oe(r))}{if(!(t instanceof mn||t instanceof bs))throw new se($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return E_(r),new mn(t.firestore,t instanceof bs?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new VI(this,"async_queue_retry"),this.Vu=()=>{const r=cp();r&&te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=cp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=cp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Es;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xc(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Fr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=ov.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&he()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class bc extends Gh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new I_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I_(e),this._firestoreClient=void 0,await e}}}function n3(t,e){const n=typeof t=="object"?t:Rh(),r=typeof t=="string"?t:"(default)",s=Fs(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Zb("firestore");i&&e3(s,...i)}return s}function eP(t){if(t._terminated)throw new se($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||r3(t),t._firestoreClient}function r3(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,d,h){return new A4(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,JI(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new KF(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xo(Pt.fromBase64String(e))}catch(n){throw new se($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xo(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=/^__.*__$/;class i3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oi(e,this.data,this.fieldMask,n,this.fieldTransforms):new wc(e,this.data,n,this.fieldTransforms)}}function nP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class mv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new mv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $d(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(nP(this.Cu)&&s3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class o3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hh(e)}Qu(e,n,r,s=!1){return new mv({Cu:e,methodName:n,qu:r,path:Et.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rP(t){const e=t._freezeSettings(),n=Hh(t._databaseId);return new o3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sP(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);lP("Data must be an object, but it was:",o,r);const a=oP(r,o);let c,d;if(i.merge)c=new Un(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=a3(e,f,n);if(!o.contains(p))throw new se($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);c3(h,p)||h.push(p)}c=new Un(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new i3(new Sn(a),c,d)}function iP(t,e){if(aP(t=vt(t)))return lP("Unsupported field value:",e,t),oP(t,e);if(t instanceof tP)return function(r,s){if(!nP(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=iP(a,s.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return J4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=pt.fromDate(r);return{timestampValue:Md(s.serializer,i)}}if(r instanceof pt){const i=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Md(s.serializer,i)}}if(r instanceof fv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xo)return{bytesValue:II(s.serializer,r._byteString)};if(r instanceof mn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Jy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof pv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return Ky(a.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${uv(r)}`)}(t,e)}function oP(t,e){const n={};return nI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,(r,s)=>{const i=iP(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function aP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof fv||t instanceof Xo||t instanceof mn||t instanceof tP||t instanceof pv)}function lP(t,e,n){if(!aP(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=uv(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function a3(t,e,n){if((e=vt(e))instanceof hv)return e._internalPath;if(typeof e=="string")return cP(t,e);throw $d("Field path arguments must be of type string or ",t,!1,void 0,n)}const l3=new RegExp("[~\\*/\\[\\]]");function cP(t,e,n){if(e.search(l3)>=0)throw $d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hv(...e.split("."))._internalPath}catch{throw $d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $d(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new se($.INVALID_ARGUMENT,a+t+c)}function c3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dP("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class u3 extends uP{data(){return super.data()}}function dP(t,e){return typeof e=="string"?cP(t,e):e instanceof hv?e._internalPath:e._delegate._internalPath}class d3{convertValue(e,n="none"){switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return la(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>tt(o.doubleValue));return new pv(i)}convertGeoPoint(e){return new fv(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=As(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);Re(jI(r));const s=new Xl(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||Fr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fP extends uP{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new f3(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class f3 extends fP{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t){t=Si(t,mn);const e=Si(t.firestore,bc);return JF(eP(e),t._key).then(n=>x3(e,t,n))}class m3 extends d3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function g3(t,e,n){t=Si(t,mn);const r=Si(t.firestore,bc),s=hP(t.converter,e);return gv(r,[sP(rP(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Hn.none())])}function y3(t){return gv(Si(t.firestore,bc),[new Qy(t._key,Hn.none())])}function v3(t,e){const n=Si(t.firestore,bc),r=Bd(t),s=hP(t.converter,e);return gv(n,[sP(rP(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then(()=>r)}function gv(t,e){return function(r,s){const i=new Es;return r.asyncQueue.enqueueAndForget(async()=>FF(await YF(r),s,i)),i.promise}(eP(t),e)}function x3(t,e,n){const r=n.docs.get(e._key),s=new m3(t);return new fP(t,s,e._key,r,new h3(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){aa=s})(Di),qn(new kn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new bc(new p4(r.getProvider("auth-internal")),new v4(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new se($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),on(Ww,"4.7.3",e),on(Ww,"4.7.3","esm2017")})();var w3="firebase",_3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on(w3,_3,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="firebasestorage.googleapis.com",T3="storageBucket",E3=2*60*1e3,b3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends jn{constructor(e,n,r=0){super(dp(e),`Firebase Storage: ${n} (${dp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hr||(hr={}));function dp(t){return"storage/"+t}function S3(){const t="An unknown error occurred, please check the error payload for server response.";return new fr(hr.UNKNOWN,t)}function I3(){return new fr(hr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function P3(){return new fr(hr.CANCELED,"User canceled the upload/download.")}function N3(t){return new fr(hr.INVALID_URL,"Invalid URL '"+t+"'.")}function A3(t){return new fr(hr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function P_(t){return new fr(hr.INVALID_ARGUMENT,t)}function mP(){return new fr(hr.APP_DELETED,"The Firebase app was deleted.")}function C3(t){return new fr(hr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(r.path==="")return r;throw A3(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(R){R.path_=decodeURIComponent(R.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${h}/b/${s}/o${p}`,"i"),w={bucket:1,path:3},E=n===pP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",S=new RegExp(`^https?://${E}/${s}/${P}`,"i"),_=[{regex:a,indices:c,postModify:i},{regex:g,indices:w,postModify:d},{regex:S,indices:{bucket:1,path:2},postModify:d}];for(let R=0;R<_.length;R++){const L=_[R],V=L.regex.exec(e);if(V){const T=V[L.indices.bucket];let v=V[L.indices.path];v||(v=""),r=new Bn(T,v),L.postModify(r);break}}if(r==null)throw N3(e);return r}}class k3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function c(){return a===2}let d=!1;function h(...P){d||(d=!0,e.apply(null,P))}function f(P){s=setTimeout(()=>{s=null,t(g,c())},P)}function p(){i&&clearTimeout(i)}function g(P,...S){if(d){p();return}if(P){p(),h.call(null,P,...S);return}if(c()||o){p(),h.call(null,P,...S);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let w=!1;function E(P){w||(w=!0,p(),!d&&(s!==null?(P||(a=2),clearTimeout(s),f(0)):P||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,E(!0)},n),E}function R3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t){return t!==void 0}function N_(t,e,n,r){if(r<e)throw P_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw P_(`Invalid value for '${t}'. Expected ${n} or less.`)}function V3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var zd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(zd||(zd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n,r,s,i,o,a,c,d,h,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new vu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const c=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===zd.NO_ERROR,c=i.getStatus();if(!a||O3(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===zd.ABORT;r(!1,new vu(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new vu(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());D3(c)?i(c):i()}catch(c){o(c)}else if(a!==null){const c=S3();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(s.canceled){const c=this.appDelete_?mP():P3();o(c)}else{const c=I3();o(c)}};this.canceled_?n(!1,new vu(!1,null,!0)):this.backoffId_=j3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&R3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function M3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function F3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function U3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function B3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $3(t,e,n,r,s,i,o=!0){const a=V3(t.urlParams),c=t.url+a,d=Object.assign({},t.headers);return U3(d,e),M3(d,n),F3(d,i),B3(d,r),new L3(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function H3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n){this._service=e,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hd(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return H3(this._location.path)}get storage(){return this._service}get parent(){const e=z3(this._location.path);if(e===null)return null;const n=new Bn(this._location.bucket,e);return new Hd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw C3(e)}}function A_(t,e){const n=e==null?void 0:e[T3];return n==null?null:Bn.makeFromBucketSpec(n,t)}function W3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:nS(s,t.app.options.projectId))}class q3{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=pP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=E3,this._maxUploadRetryTime=b3,this._requests=new Set,s!=null?this._bucket=Bn.makeFromBucketSpec(s,this._host):this._bucket=A_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=A_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){N_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){N_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hd(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new k3(mP());{const o=$3(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const C_="@firebase/storage",k_="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="storage";function G3(t=Rh(),e){t=vt(t);const r=Fs(t,gP).getImmediate({identifier:e}),s=Zb("storage");return s&&K3(r,...s),r}function K3(t,e,n,r={}){W3(t,e,n,r)}function Q3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new q3(n,r,s,e,Di)}function Y3(){qn(new kn(gP,Q3,"PUBLIC").setMultipleInstances(!0)),on(C_,k_,""),on(C_,k_,"esm2017")}Y3();const yP="@firebase/installations",yv="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=1e4,xP=`w:${yv}`,wP="FIS_v2",X3="https://firebaseinstallations.googleapis.com/v1",J3=60*60*1e3,Z3="installations",e6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ii=new Ri(Z3,e6,t6);function _P(t){return t instanceof jn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP({projectId:t}){return`${X3}/projects/${t}/installations`}function EP(t){return{token:t.token,requestStatus:2,expiresIn:r6(t.expiresIn),creationTime:Date.now()}}async function bP(t,e){const r=(await e.json()).error;return Ii.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function SP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function n6(t,{refreshToken:e}){const n=SP(t);return n.append("Authorization",s6(e)),n}async function IP(t){const e=await t();return e.status>=500&&e.status<600?t():e}function r6(t){return Number(t.replace("s","000"))}function s6(t){return`${wP} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=TP(t),s=SP(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:wP,appId:t.appId,sdkVersion:xP},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await IP(()=>fetch(r,a));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:EP(d.authToken)}}else throw await bP("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=/^[cdef][\w-]{21}$/,cg="";function l6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=c6(t);return a6.test(n)?n:cg}catch{return cg}}function c6(t){return o6(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=new Map;function AP(t,e){const n=Kh(t);CP(n,e),u6(n,e)}function CP(t,e){const n=NP.get(t);if(n)for(const r of n)r(e)}function u6(t,e){const n=d6();n&&n.postMessage({key:t,fid:e}),h6()}let ai=null;function d6(){return!ai&&"BroadcastChannel"in self&&(ai=new BroadcastChannel("[Firebase] FID Change"),ai.onmessage=t=>{CP(t.data.key,t.data.fid)}),ai}function h6(){NP.size===0&&ai&&(ai.close(),ai=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="firebase-installations-database",p6=1,Pi="firebase-installations-store";let hp=null;function vv(){return hp||(hp=lS(f6,p6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pi)}}})),hp}async function Wd(t,e){const n=Kh(t),s=(await vv()).transaction(Pi,"readwrite"),i=s.objectStore(Pi),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&AP(t,e.fid),e}async function kP(t){const e=Kh(t),r=(await vv()).transaction(Pi,"readwrite");await r.objectStore(Pi).delete(e),await r.done}async function Qh(t,e){const n=Kh(t),s=(await vv()).transaction(Pi,"readwrite"),i=s.objectStore(Pi),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&AP(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xv(t){let e;const n=await Qh(t.appConfig,r=>{const s=m6(r),i=g6(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===cg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function m6(t){const e=t||{fid:l6(),registrationStatus:0};return jP(e)}function g6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ii.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=y6(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:v6(t)}:{installationEntry:e}}async function y6(t,e){try{const n=await i6(t,e);return Wd(t.appConfig,n)}catch(n){throw _P(n)&&n.customData.serverCode===409?await kP(t.appConfig):await Wd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function v6(t){let e=await j_(t.appConfig);for(;e.registrationStatus===1;)await PP(100),e=await j_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await xv(t);return r||n}return e}function j_(t){return Qh(t,e=>{if(!e)throw Ii.create("installation-not-found");return jP(e)})}function jP(t){return x6(t)?{fid:t.fid,registrationStatus:0}:t}function x6(t){return t.registrationStatus===1&&t.registrationTime+vP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6({appConfig:t,heartbeatServiceProvider:e},n){const r=_6(t,n),s=n6(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:xP,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await IP(()=>fetch(r,a));if(c.ok){const d=await c.json();return EP(d)}else throw await bP("Generate Auth Token",c)}function _6(t,{fid:e}){return`${TP(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wv(t,e=!1){let n;const r=await Qh(t.appConfig,i=>{if(!RP(i))throw Ii.create("not-registered");const o=i.authToken;if(!e&&b6(o))return i;if(o.requestStatus===1)return n=T6(t,e),i;{if(!navigator.onLine)throw Ii.create("app-offline");const a=I6(i);return n=E6(t,a),a}});return n?await n:r.authToken}async function T6(t,e){let n=await R_(t.appConfig);for(;n.authToken.requestStatus===1;)await PP(100),n=await R_(t.appConfig);const r=n.authToken;return r.requestStatus===0?wv(t,e):r}function R_(t){return Qh(t,e=>{if(!RP(e))throw Ii.create("not-registered");const n=e.authToken;return P6(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function E6(t,e){try{const n=await w6(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Wd(t.appConfig,r),n}catch(n){if(_P(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await kP(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Wd(t.appConfig,r)}throw n}}function RP(t){return t!==void 0&&t.registrationStatus===2}function b6(t){return t.requestStatus===2&&!S6(t)}function S6(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+J3}function I6(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function P6(t){return t.requestStatus===1&&t.requestTime+vP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N6(t){const e=t,{installationEntry:n,registrationPromise:r}=await xv(e);return r?r.catch(console.error):wv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A6(t,e=!1){const n=t;return await C6(n),(await wv(n,e)).token}async function C6(t){const{registrationPromise:e}=await xv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(t){if(!t||!t.options)throw fp("App Configuration");if(!t.name)throw fp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw fp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function fp(t){return Ii.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="installations",j6="installations-internal",R6=t=>{const e=t.getProvider("app").getImmediate(),n=k6(e),r=Fs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},D6=t=>{const e=t.getProvider("app").getImmediate(),n=Fs(e,DP).getImmediate();return{getId:()=>N6(n),getToken:s=>A6(n,s)}};function V6(){qn(new kn(DP,R6,"PUBLIC")),qn(new kn(j6,D6,"PRIVATE"))}V6();on(yP,yv);on(yP,yv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="analytics",O6="firebase_id",L6="origin",M6=60*1e3,F6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_v="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new jh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gn=new Ri("analytics","Analytics",U6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t){if(!t.startsWith(_v)){const e=gn.create("invalid-gtag-resource",{gtagURL:t});return an.warn(e.message),""}return t}function VP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function $6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function z6(t,e){const n=$6("firebase-js-sdk-policy",{createScriptURL:B6}),r=document.createElement("script"),s=`${_v}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function H6(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function W6(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await VP(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(a){an.error(a)}t("config",s,i)}async function q6(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await VP(n);for(const c of o){const d=a.find(f=>f.measurementId===c),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){an.error(i)}}function G6(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,c]=o;await q6(t,e,n,a,c)}else if(i==="config"){const[a,c]=o;await W6(t,e,n,r,a,c)}else if(i==="consent"){const[a,c]=o;t("consent",a,c)}else if(i==="get"){const[a,c,d]=o;t("get",a,c,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){an.error(a)}}return s}function K6(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=G6(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function Q6(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(_v)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=30,X6=1e3;class J6{constructor(e={},n=X6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const OP=new J6;function Z6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function e5(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:Z6(r)},i=F6.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function t5(t,e=OP,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw gn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw gn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new s5;return setTimeout(async()=>{a.abort()},M6),LP({appId:r,apiKey:s,measurementId:i},o,a,e)}async function LP(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=OP){var i;const{appId:o,measurementId:a}=t;try{await n5(r,e)}catch(c){if(a)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{const c=await e5(t);return s.deleteThrottleMetadata(o),c}catch(c){const d=c;if(!r5(d)){if(s.deleteThrottleMetadata(o),a)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:a};throw c}const h=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?gw(n,s.intervalMillis,Y6):gw(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(o,f),an.debug(`Calling attemptFetch again in ${h} millis`),LP(t,f,r,s)}}function n5(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function r5(t){if(!(t instanceof jn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class s5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function i5(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(){if(sS())try{await iS()}catch(t){return an.warn(gn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return an.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function a5(t,e,n,r,s,i,o){var a;const c=t5(t);c.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>an.error(g)),e.push(c);const d=o5().then(g=>{if(g)return r.getId()}),[h,f]=await Promise.all([c,d]);Q6(i)||z6(i,h.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[L6]="firebase",p.update=!0,f!=null&&(p[O6]=f),s("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.app=e}_delete(){return delete ml[this.app.options.appId],Promise.resolve()}}let ml={},D_=[];const V_={};let pp="dataLayer",c5="gtag",O_,MP,L_=!1;function u5(){const t=[];if(rS()&&t.push("This is a browser extension environment."),VD()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=gn.create("invalid-analytics-context",{errorInfo:e});an.warn(n.message)}}function d5(t,e,n){u5();const r=t.options.appId;if(!r)throw gn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gn.create("no-api-key");if(ml[r]!=null)throw gn.create("already-exists",{id:r});if(!L_){H6(pp);const{wrappedGtag:i,gtagCore:o}=K6(ml,D_,V_,pp,c5);MP=i,O_=o,L_=!0}return ml[r]=a5(t,D_,V_,e,O_,pp,n),new l5(t)}function h5(t=Rh()){t=vt(t);const e=Fs(t,qd);return e.isInitialized()?e.getImmediate():f5(t)}function f5(t,e={}){const n=Fs(t,qd);if(n.isInitialized()){const s=n.getImmediate();if(ql(e,n.getOptions()))return s;throw gn.create("already-initialized")}return n.initialize({options:e})}function p5(t,e,n,r){t=vt(t),i5(MP,ml[t.app.options.appId],e,n,r).catch(s=>an.error(s))}const M_="@firebase/analytics",F_="0.10.8";function m5(){qn(new kn(qd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return d5(r,s,n)},"PUBLIC")),qn(new kn("analytics-internal",t,"PRIVATE")),on(M_,F_),on(M_,F_,"esm2017");function t(e){try{const n=e.getProvider(qd).getImmediate();return{logEvent:(r,s,i)=>p5(n,r,s,i)}}catch(n){throw gn.create("interop-component-reg-failed",{reason:n})}}}m5();const g5={apiKey:"AIzaSyCXROpQ_HjyPnn1q-NvYwSVI0KgEsd7dfQ",authDomain:"skyluxe-c7856.firebaseapp.com",projectId:"skyluxe-c7856",storageBucket:"skyluxe-c7856.firebasestorage.app",messagingSenderId:"364910273041",appId:"1:364910273041:web:5a809a58ce5983de9847b0",measurementId:"G-3YFGFJ5S05"},Yh=cS(g5),Gd=n3(Yh),vo=u4(Yh);G3(Yh);h5(Yh);const y5=C.createContext(null),v5=()=>{const[t,e]=C.useState(null),[n,r]=C.useState(null),[s,i]=C.useState(!0);return C.useEffect(()=>JO(vo,async h=>{if(e(h),h)try{const f=await p3(Bd(Gd,"users",h.uid));f.exists()&&r(f.data())}catch(f){console.error("Error fetching user profile:",f)}else r(null);i(!1)}),[]),{currentUser:t,userProfile:n,loading:s,login:async(d,h)=>{i(!0);try{await LS(vo,d,h)}finally{i(!1)}},register:async(d,h,f)=>{i(!0);try{const p=await OS(vo,d,h);await QO(p.user,{displayName:f});const g={id:p.user.uid,email:d,displayName:f,role:"customer",createdAt:new Date,updatedAt:new Date};await g3(Bd(Gd,"users",p.user.uid),g),r(g)}finally{i(!1)}},logout:async()=>{i(!0);try{await ZO(vo)}finally{i(!1)}}}},x5=({children:t})=>{const e=v5();return l.jsx(y5.Provider,{value:e,children:t})},Tv="https://script.google.com/macros/s/1vOn2WeWINWrgLjn2ERCBvNUKuFBWKmT4yESsI0asmMW40yVMgVfnDud8/exec",FP=async(t,e)=>{try{const n=await fetch(Tv,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({action:"updatePaymentStatus",data:{bookingReference:t,paymentId:e}})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=await n.json();return r.success?(console.log("Payment status updated successfully in Google Sheets:",r),!0):(console.error("Error updating payment status in Google Sheets:",r.error),!1)}catch(n){return console.error("Failed to update payment status in Google Sheets:",n),!1}},UP=async(t,e)=>{try{const n=t.passengers.map((a,c)=>`${c+1}. ${a.firstName} ${a.lastName} (${a.weight}kg)${a.wantsFrontSeat?" - Front seat requested":""}${a.additionalInfo?` - Note: ${a.additionalInfo}`:""}`).join(" | "),r=t.passengers.filter(a=>a.wantsFrontSeat).map(a=>`${a.firstName} ${a.lastName}`).join(", ")||"None",s={bookingReference:e,paymentId:"PENDING",customerName:t.customerName,customerEmail:t.customerEmail,customerPhone:t.customerPhone,flightDate:new Date(t.flightDate).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),flightTime:new Date(t.flightDate).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),passengersCount:t.passengers.length,passengersDetails:n,basePrice:t.basePrice,frontSeatFee:t.frontSeatFee,cancellationProtectionFee:t.cancellationProtectionFee,totalPrice:t.totalPrice,specialRequests:t.specialRequests||"None",bookingDateTime:new Date().toLocaleString("en-US"),frontSeatRequests:r,cancellationProtection:t.cancellationProtection,status:"FORM_COMPLETED"},i=await fetch(Tv,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({action:"addPrePaymentBooking",data:s})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const o=await i.json();return o.success?(console.log("Pre-payment booking data successfully saved to Google Sheets:",o),!0):(console.error("Error saving pre-payment data to Google Sheets:",o.error),!1)}catch(n){console.error("Failed to save pre-payment booking data to Google Sheets:",n);try{const r=JSON.parse(localStorage.getItem("helicopter-bookings-fallback")||"[]");r.push({...t,timestamp:new Date().toISOString(),source:"fallback-cors-error"}),localStorage.setItem("helicopter-bookings-fallback",JSON.stringify(r)),console.log("Booking data saved to localStorage as fallback")}catch(r){console.error("Failed to save to localStorage fallback:",r)}return!1}},w5=async(t,e,n)=>{try{const r=t.passengers.map((c,d)=>`${d+1}. ${c.firstName} ${c.lastName} (${c.weight}kg)${c.wantsFrontSeat?" - Front seat requested":""}${c.additionalInfo?` - Note: ${c.additionalInfo}`:""}`).join(" | "),s=t.passengers.filter(c=>c.wantsFrontSeat).map(c=>`${c.firstName} ${c.lastName}`).join(", ")||"None",i={bookingReference:e,paymentId:n,customerName:t.customerName,customerEmail:t.customerEmail,customerPhone:t.customerPhone,flightDate:new Date(t.flightDate).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),flightTime:new Date(t.flightDate).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),passengersCount:t.passengers.length,passengersDetails:r,basePrice:t.basePrice,frontSeatFee:t.frontSeatFee,cancellationProtectionFee:t.cancellationProtectionFee,totalPrice:t.totalPrice,specialRequests:t.specialRequests||"None",bookingDateTime:new Date().toLocaleString("en-US"),frontSeatRequests:s,cancellationProtection:t.cancellationProtection},o=await fetch(Tv,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"addBooking",data:i})});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const a=await o.json();return a.success?(console.log("Booking successfully saved to Google Sheets:",a),!0):(console.error("Error saving to Google Sheets:",a.error),!1)}catch(r){return console.error("Failed to save booking to Google Sheets:",r),!1}},_5=async()=>{console.log(" Testing Google Sheets integration...");const t={helicopterId:"test-helicopter-1",customerName:"John Test",customerEmail:"test@example.com",customerPhone:"+1234567890",flightDate:new Date("2025-07-15T10:00:00"),passengers:[{id:"test-passenger-1",firstName:"John",lastName:"Test",weight:70,wantsFrontSeat:!0,additionalInfo:"Test passenger"},{id:"test-passenger-2",firstName:"Jane",lastName:"Test",weight:60,wantsFrontSeat:!1,additionalInfo:""}],basePrice:829,frontSeatFee:60,cancellationProtectionFee:88,totalPrice:977,specialRequests:"This is a test booking",cancellationProtection:!0};try{await w5(t,"TEST-"+Date.now(),"pi_test_"+Date.now())?(console.log(" Google Sheets integration test PASSED!"),console.log(" Check your Google Sheets document for the test booking")):console.log(" Google Sheets integration test FAILED!")}catch(e){console.error(" Google Sheets integration test ERROR:",e)}};window.testGoogleSheets=_5;const BP=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Xh=C.createContext({}),Jh=C.createContext(null),Zh=typeof document<"u",Ev=Zh?C.useLayoutEffect:C.useEffect,$P=C.createContext({strict:!1}),bv=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),T5="framerAppearId",zP="data-"+bv(T5);function E5(t,e,n,r){const{visualElement:s}=C.useContext(Xh),i=C.useContext($P),o=C.useContext(Jh),a=C.useContext(BP).reducedMotion,c=C.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const d=c.current;C.useInsertionEffect(()=>{d&&d.update(n,o)});const h=C.useRef(!!(n[zP]&&!window.HandoffComplete));return Ev(()=>{d&&(d.render(),h.current&&d.animationState&&d.animationState.animateChanges())}),C.useEffect(()=>{d&&(d.updateFeatures(),!h.current&&d.animationState&&d.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),d}function xo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function b5(t,e,n){return C.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):xo(n)&&(n.current=r))},[e])}function tc(t){return typeof t=="string"||Array.isArray(t)}function ef(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Sv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Iv=["initial",...Sv];function tf(t){return ef(t.animate)||Iv.some(e=>tc(t[e]))}function HP(t){return!!(tf(t)||t.variants)}function S5(t,e){if(tf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||tc(n)?n:void 0,animate:tc(r)?r:void 0}}return t.inherit!==!1?e:{}}function I5(t){const{initial:e,animate:n}=S5(t,C.useContext(Xh));return C.useMemo(()=>({initial:e,animate:n}),[U_(e),U_(n)])}function U_(t){return Array.isArray(t)?t.join(" "):t}const B_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nc={};for(const t in B_)nc[t]={isEnabled:e=>B_[t].some(n=>!!e[n])};function P5(t){for(const e in t)nc[e]={...nc[e],...t[e]}}const Pv=C.createContext({}),WP=C.createContext({}),N5=Symbol.for("motionComponentSymbol");function A5({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&P5(t);function i(a,c){let d;const h={...C.useContext(BP),...a,layoutId:C5(a)},{isStatic:f}=h,p=I5(a),g=r(a,f);if(!f&&Zh){p.visualElement=E5(s,g,h,e);const w=C.useContext(WP),E=C.useContext($P).strict;p.visualElement&&(d=p.visualElement.loadFeatures(h,E,t,w))}return C.createElement(Xh.Provider,{value:p},d&&p.visualElement?C.createElement(d,{visualElement:p.visualElement,...h}):null,n(s,a,b5(g,p.visualElement,c),g,f,p.visualElement))}const o=C.forwardRef(i);return o[N5]=s,o}function C5({layoutId:t}){const e=C.useContext(Pv).id;return e&&t!==void 0?e+"-"+t:t}function k5(t){function e(r,s={}){return A5(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const j5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Nv(t){return typeof t!="string"||t.includes("-")?!1:!!(j5.indexOf(t)>-1||/[A-Z]/.test(t))}const Kd={};function R5(t){Object.assign(Kd,t)}const Sc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mi=new Set(Sc);function qP(t,{layout:e,layoutId:n}){return Mi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Kd[t]||t==="opacity")}const ln=t=>!!(t&&t.getVelocity),D5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},V5=Sc.length;function O5(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<V5;o++){const a=Sc[o];if(t[a]!==void 0){const c=D5[a]||a;i+=`${c}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const GP=t=>e=>typeof e=="string"&&e.startsWith(t),KP=GP("--"),ug=GP("var(--"),L5=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,M5=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ks=(t,e,n)=>Math.min(Math.max(n,t),e),Fi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gl={...Fi,transform:t=>ks(0,1,t)},xu={...Fi,default:1},yl=t=>Math.round(t*1e5)/1e5,nf=/(-)?([\d]*\.?[\d])+/g,QP=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,F5=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ic(t){return typeof t=="string"}const Pc=t=>({test:e=>Ic(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Yr=Pc("deg"),lr=Pc("%"),le=Pc("px"),U5=Pc("vh"),B5=Pc("vw"),$_={...lr,parse:t=>lr.parse(t)/100,transform:t=>lr.transform(t*100)},z_={...Fi,transform:Math.round},YP={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,size:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,rotate:Yr,rotateX:Yr,rotateY:Yr,rotateZ:Yr,scale:xu,scaleX:xu,scaleY:xu,scaleZ:xu,skew:Yr,skewX:Yr,skewY:Yr,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:gl,originX:$_,originY:$_,originZ:le,zIndex:z_,fillOpacity:gl,strokeOpacity:gl,numOctaves:z_};function Av(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let c=!1,d=!1,h=!0;for(const f in e){const p=e[f];if(KP(f)){i[f]=p;continue}const g=YP[f],w=M5(p,g);if(Mi.has(f)){if(c=!0,o[f]=w,!h)continue;p!==(g.default||0)&&(h=!1)}else f.startsWith("origin")?(d=!0,a[f]=w):s[f]=w}if(e.transform||(c||r?s.transform=O5(t.transform,n,h,r):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;s.transformOrigin=`${f} ${p} ${g}`}}const Cv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XP(t,e,n){for(const r in e)!ln(e[r])&&!qP(r,n)&&(t[r]=e[r])}function $5({transformTemplate:t},e,n){return C.useMemo(()=>{const r=Cv();return Av(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function z5(t,e,n){const r=t.style||{},s={};return XP(s,r,t),Object.assign(s,$5(t,e,n)),t.transformValues?t.transformValues(s):s}function H5(t,e,n){const r={},s=z5(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const W5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||W5.has(t)}let JP=t=>!Qd(t);function q5(t){t&&(JP=e=>e.startsWith("on")?!Qd(e):t(e))}try{q5(require("@emotion/is-prop-valid").default)}catch{}function G5(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(JP(s)||n===!0&&Qd(s)||!e&&!Qd(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function H_(t,e,n){return typeof t=="string"?t:le.transform(e+n*t)}function K5(t,e,n){const r=H_(e,t.x,t.width),s=H_(n,t.y,t.height);return`${r} ${s}`}const Q5={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y5={offset:"strokeDashoffset",array:"strokeDasharray"};function X5(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Q5:Y5;t[i.offset]=le.transform(-r);const o=le.transform(e),a=le.transform(n);t[i.array]=`${o} ${a}`}function kv(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...d},h,f,p){if(Av(t,d,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:w,dimensions:E}=t;g.transform&&(E&&(w.transform=g.transform),delete g.transform),E&&(s!==void 0||i!==void 0||w.transform)&&(w.transformOrigin=K5(E,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&X5(g,o,a,c,!1)}const ZP=()=>({...Cv(),attrs:{}}),jv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function J5(t,e,n,r){const s=C.useMemo(()=>{const i=ZP();return kv(i,e,{enableHardwareAcceleration:!1},jv(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};XP(i,t.style,t),s.style={...i,...s.style}}return s}function Z5(t=!1){return(n,r,s,{latestValues:i},o)=>{const c=(Nv(n)?J5:H5)(r,i,o,n),h={...G5(r,typeof n=="string",t),...c,ref:s},{children:f}=r,p=C.useMemo(()=>ln(f)?f.get():f,[f]);return C.createElement(n,{...h,children:p})}}function eN(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const tN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nN(t,e,n,r){eN(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(tN.has(s)?s:bv(s),e.attrs[s])}function Rv(t,e){const{style:n}=t,r={};for(const s in n)(ln(n[s])||e.style&&ln(e.style[s])||qP(s,t))&&(r[s]=n[s]);return r}function rN(t,e){const n=Rv(t,e);for(const r in t)if(ln(t[r])||ln(e[r])){const s=Sc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function Dv(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function sN(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const Yd=t=>Array.isArray(t),eU=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),tU=t=>Yd(t)?t[t.length-1]||0:t;function Ku(t){const e=ln(t)?t.get():t;return eU(e)?e.toValue():e}function nU({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:rU(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const iN=t=>(e,n)=>{const r=C.useContext(Xh),s=C.useContext(Jh),i=()=>nU(t,e,r,s);return n?i():sN(i)};function rU(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=Ku(i[p]);let{initial:o,animate:a}=t;const c=tf(t),d=HP(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;return f&&typeof f!="boolean"&&!ef(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const w=Dv(t,g);if(!w)return;const{transitionEnd:E,transition:P,...S}=w;for(const x in S){let _=S[x];if(Array.isArray(_)){const R=h?_.length-1:0;_=_[R]}_!==null&&(s[x]=_)}for(const x in E)s[x]=E[x]}),s}const rt=t=>t;class W_{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function sU(t){let e=new W_,n=new W_,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(c,d=!1,h=!1)=>{const f=h&&s,p=f?e:n;return d&&o.add(c),p.add(c)&&f&&s&&(r=e.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let d=0;d<r;d++){const h=e.order[d];h(c),o.has(h)&&(a.schedule(h),t())}s=!1,i&&(i=!1,a.process(c))}};return a}const wu=["prepare","read","update","preRender","render","postRender"],iU=40;function oU(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=wu.reduce((f,p)=>(f[p]=sU(()=>n=!0),f),{}),o=f=>i[f].process(s),a=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,iU),1),s.timestamp=f,s.isProcessing=!0,wu.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},c=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:wu.reduce((f,p)=>{const g=i[p];return f[p]=(w,E=!1,P=!1)=>(n||c(),g.schedule(w,E,P)),f},{}),cancel:f=>wu.forEach(p=>i[p].cancel(f)),state:s,steps:i}}const{schedule:Le,cancel:Br,state:Dt,steps:mp}=oU(typeof requestAnimationFrame<"u"?requestAnimationFrame:rt,!0),aU={useVisualState:iN({scrapeMotionValuesFromProps:rN,createRenderState:ZP,onMount:(t,e,{renderState:n,latestValues:r})=>{Le.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Le.render(()=>{kv(n,r,{enableHardwareAcceleration:!1},jv(e.tagName),t.transformTemplate),nN(e,n)})}})},lU={useVisualState:iN({scrapeMotionValuesFromProps:Rv,createRenderState:Cv})};function cU(t,{forwardMotionProps:e=!1},n,r){return{...Nv(t)?aU:lU,preloadedFeatures:n,useRender:Z5(e),createVisualElement:r,Component:t}}function Pr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const oN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function rf(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const uU=t=>e=>oN(e)&&t(e,rf(e));function Cr(t,e,n,r){return Pr(t,e,uU(n),r)}const dU=(t,e)=>n=>e(t(n)),Ss=(...t)=>t.reduce(dU);function aN(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const q_=aN("dragHorizontal"),G_=aN("dragVertical");function lN(t){let e=!1;if(t==="y")e=G_();else if(t==="x")e=q_();else{const n=q_(),r=G_();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function cN(){const t=lN(!0);return t?(t(),!1):!0}class Bs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function K_(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||cN())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Le.update(()=>a[r](i,o))};return Cr(t.current,n,s,{passive:!t.getProps()[r]})}class hU extends Bs{mount(){this.unmount=Ss(K_(this.node,!0),K_(this.node,!1))}unmount(){}}class fU extends Bs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ss(Pr(this.node.current,"focus",()=>this.onFocus()),Pr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const uN=(t,e)=>e?t===e?!0:uN(t,e.parentElement):!1;function gp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,rf(n))}class pU extends Bs{constructor(){super(...arguments),this.removeStartListeners=rt,this.removeEndListeners=rt,this.removeAccessibleListeners=rt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Cr(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:h,globalTapTarget:f}=this.node.getProps();Le.update(()=>{!f&&!uN(this.node.current,a.target)?h&&h(a,c):d&&d(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=Cr(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ss(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||gp("up",(c,d)=>{const{onTap:h}=this.node.getProps();h&&Le.update(()=>h(c,d))})};this.removeEndListeners(),this.removeEndListeners=Pr(this.node.current,"keyup",o),gp("down",(a,c)=>{this.startPress(a,c)})},n=Pr(this.node.current,"keydown",e),r=()=>{this.isPressing&&gp("cancel",(i,o)=>this.cancelPress(i,o))},s=Pr(this.node.current,"blur",r);this.removeAccessibleListeners=Ss(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Le.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!cN()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Le.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Cr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Pr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ss(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const dg=new WeakMap,yp=new WeakMap,mU=t=>{const e=dg.get(t.target);e&&e(t)},gU=t=>{t.forEach(mU)};function yU({root:t,...e}){const n=t||document;yp.has(n)||yp.set(n,{});const r=yp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(gU,{root:t,...e})),r[s]}function vU(t,e,n){const r=yU(e);return dg.set(t,n),r.observe(t),()=>{dg.delete(t),r.unobserve(t)}}const xU={some:0,all:1};class wU extends Bs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:xU[s]},a=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=d?h:f;p&&p(c)};return vU(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_U(e,n))&&this.startObserver()}unmount(){}}function _U({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const TU={inView:{Feature:wU},tap:{Feature:pU},focus:{Feature:fU},hover:{Feature:hU}};function dN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function EU(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function bU(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function sf(t,e,n){const r=t.getProps();return Dv(r,e,n!==void 0?n:r.custom,EU(t),bU(t))}let Xd=rt;const pi=t=>t*1e3,kr=t=>t/1e3,SU={current:!1},hN=t=>Array.isArray(t)&&typeof t[0]=="number";function fN(t){return!!(!t||typeof t=="string"&&pN[t]||hN(t)||Array.isArray(t)&&t.every(fN))}const Za=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,pN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Za([0,.65,.55,1]),circOut:Za([.55,0,1,.45]),backIn:Za([.31,.01,.66,-.59]),backOut:Za([.33,1.53,.69,.99])};function mN(t){if(t)return hN(t)?Za(t):Array.isArray(t)?t.map(mN):pN[t]}function IU(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:c}={}){const d={[e]:n};c&&(d.offset=c);const h=mN(a);return Array.isArray(h)&&(d.easing=h),t.animate(d,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function PU(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const gN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,NU=1e-7,AU=12;function CU(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=gN(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>NU&&++a<AU);return o}function Nc(t,e,n,r){if(t===e&&n===r)return rt;const s=i=>CU(i,0,1,t,n);return i=>i===0||i===1?i:gN(s(i),e,r)}const kU=Nc(.42,0,1,1),jU=Nc(0,0,.58,1),yN=Nc(.42,0,.58,1),RU=t=>Array.isArray(t)&&typeof t[0]!="number",vN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xN=t=>e=>1-t(1-e),Vv=t=>1-Math.sin(Math.acos(t)),wN=xN(Vv),DU=vN(Vv),_N=Nc(.33,1.53,.69,.99),Ov=xN(_N),VU=vN(Ov),OU=t=>(t*=2)<1?.5*Ov(t):.5*(2-Math.pow(2,-10*(t-1))),Q_={linear:rt,easeIn:kU,easeInOut:yN,easeOut:jU,circIn:Vv,circInOut:DU,circOut:wN,backIn:Ov,backInOut:VU,backOut:_N,anticipate:OU},Y_=t=>{if(Array.isArray(t)){Xd(t.length===4);const[e,n,r,s]=t;return Nc(e,n,r,s)}else if(typeof t=="string")return Xd(Q_[t]!==void 0),Q_[t];return t},Lv=(t,e)=>n=>!!(Ic(n)&&F5.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),TN=(t,e,n)=>r=>{if(!Ic(r))return r;const[s,i,o,a]=r.match(nf);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},LU=t=>ks(0,255,t),vp={...Fi,transform:t=>Math.round(LU(t))},li={test:Lv("rgb","red"),parse:TN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+vp.transform(t)+", "+vp.transform(e)+", "+vp.transform(n)+", "+yl(gl.transform(r))+")"};function MU(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const hg={test:Lv("#"),parse:MU,transform:li.transform},wo={test:Lv("hsl","hue"),parse:TN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+lr.transform(yl(e))+", "+lr.transform(yl(n))+", "+yl(gl.transform(r))+")"},zt={test:t=>li.test(t)||hg.test(t)||wo.test(t),parse:t=>li.test(t)?li.parse(t):wo.test(t)?wo.parse(t):hg.parse(t),transform:t=>Ic(t)?t:t.hasOwnProperty("red")?li.transform(t):wo.transform(t)},Ge=(t,e,n)=>-n*t+n*e+t;function xp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function FU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;s=xp(c,a,t+1/3),i=xp(c,a,t),o=xp(c,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const wp=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},UU=[hg,li,wo],BU=t=>UU.find(e=>e.test(t));function X_(t){const e=BU(t);let n=e.parse(t);return e===wo&&(n=FU(n)),n}const EN=(t,e)=>{const n=X_(t),r=X_(e),s={...n};return i=>(s.red=wp(n.red,r.red,i),s.green=wp(n.green,r.green,i),s.blue=wp(n.blue,r.blue,i),s.alpha=Ge(n.alpha,r.alpha,i),li.transform(s))};function $U(t){var e,n;return isNaN(t)&&Ic(t)&&(((e=t.match(nf))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(QP))===null||n===void 0?void 0:n.length)||0)>0}const bN={regex:L5,countKey:"Vars",token:"${v}",parse:rt},SN={regex:QP,countKey:"Colors",token:"${c}",parse:zt.parse},IN={regex:nf,countKey:"Numbers",token:"${n}",parse:Fi.parse};function _p(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function Jd(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&_p(n,bN),_p(n,SN),_p(n,IN),n}function PN(t){return Jd(t).values}function NN(t){const{values:e,numColors:n,numVars:r,tokenised:s}=Jd(t),i=e.length;return o=>{let a=s;for(let c=0;c<i;c++)c<r?a=a.replace(bN.token,o[c]):c<r+n?a=a.replace(SN.token,zt.transform(o[c])):a=a.replace(IN.token,yl(o[c]));return a}}const zU=t=>typeof t=="number"?0:t;function HU(t){const e=PN(t);return NN(t)(e.map(zU))}const js={test:$U,parse:PN,createTransformer:NN,getAnimatableNone:HU},AN=(t,e)=>n=>`${n>0?e:t}`;function CN(t,e){return typeof t=="number"?n=>Ge(t,e,n):zt.test(t)?EN(t,e):t.startsWith("var(")?AN(t,e):jN(t,e)}const kN=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>CN(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},WU=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=CN(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},jN=(t,e)=>{const n=js.createTransformer(e),r=Jd(t),s=Jd(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Ss(kN(r.values,s.values),n):AN(t,e)},rc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},J_=(t,e)=>n=>Ge(t,e,n);function qU(t){return typeof t=="number"?J_:typeof t=="string"?zt.test(t)?EN:jN:Array.isArray(t)?kN:typeof t=="object"?WU:J_}function GU(t,e,n){const r=[],s=n||qU(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||rt:e;a=Ss(c,a)}r.push(a)}return r}function RN(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Xd(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=GU(e,r,s),a=o.length,c=d=>{let h=0;if(a>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=rc(t[h],t[h+1],d);return o[h](f)};return n?d=>c(ks(t[0],t[i-1],d)):c}function KU(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=rc(0,e,r);t.push(Ge(n,1,s))}}function QU(t){const e=[0];return KU(e,t.length-1),e}function YU(t,e){return t.map(n=>n*e)}function XU(t,e){return t.map(()=>e||yN).splice(0,t.length-1)}function Zd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=RU(r)?r.map(Y_):Y_(r),i={done:!1,value:e[0]},o=YU(n&&n.length===e.length?n:QU(e),t),a=RN(o,e,{ease:Array.isArray(s)?s:XU(e,s)});return{calculatedDuration:t,next:c=>(i.value=a(c),i.done=c>=t,i)}}function DN(t,e){return e?t*(1e3/e):0}const JU=5;function VN(t,e,n){const r=Math.max(e-JU,0);return DN(n-t(r),e-r)}const Tp=.001,ZU=.01,e9=10,t9=.05,n9=1;function r9({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=ks(t9,n9,o),t=ks(ZU,e9,kr(t)),o<1?(s=d=>{const h=d*o,f=h*t,p=h-n,g=fg(d,o),w=Math.exp(-f);return Tp-p/g*w},i=d=>{const f=d*o*t,p=f*n+n,g=Math.pow(o,2)*Math.pow(d,2)*t,w=Math.exp(-f),E=fg(Math.pow(d,2),o);return(-s(d)+Tp>0?-1:1)*((p-g)*w)/E}):(s=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-Tp+h*f},i=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const a=5/t,c=i9(s,i,a);if(t=pi(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const s9=12;function i9(t,e,n){let r=n;for(let s=1;s<s9;s++)r=r-t(r)/e(r);return r}function fg(t,e){return t*Math.sqrt(1-e*e)}const o9=["duration","bounce"],a9=["stiffness","damping","mass"];function Z_(t,e){return e.some(n=>t[n]!==void 0)}function l9(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Z_(t,a9)&&Z_(t,o9)){const n=r9(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function ON({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=l9({...r,velocity:-kr(r.velocity||0)}),g=f||0,w=c/(2*Math.sqrt(a*d)),E=i-s,P=kr(Math.sqrt(a/d)),S=Math.abs(E)<5;n||(n=S?.01:2),e||(e=S?.005:.5);let x;if(w<1){const _=fg(P,w);x=R=>{const L=Math.exp(-w*P*R);return i-L*((g+w*P*E)/_*Math.sin(_*R)+E*Math.cos(_*R))}}else if(w===1)x=_=>i-Math.exp(-P*_)*(E+(g+P*E)*_);else{const _=P*Math.sqrt(w*w-1);x=R=>{const L=Math.exp(-w*P*R),V=Math.min(_*R,300);return i-L*((g+w*P*E)*Math.sinh(V)+_*E*Math.cosh(V))/_}}return{calculatedDuration:p&&h||null,next:_=>{const R=x(_);if(p)o.done=_>=h;else{let L=g;_!==0&&(w<1?L=VN(x,_,R):L=0);const V=Math.abs(L)<=n,T=Math.abs(i-R)<=e;o.done=V&&T}return o.value=o.done?i:R,o}}}function e1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:c,restDelta:d=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},g=v=>a!==void 0&&v<a||c!==void 0&&v>c,w=v=>a===void 0?c:c===void 0||Math.abs(a-v)<Math.abs(c-v)?a:c;let E=n*e;const P=f+E,S=o===void 0?P:o(P);S!==P&&(E=S-f);const x=v=>-E*Math.exp(-v/r),_=v=>S+x(v),R=v=>{const I=x(v),A=_(v);p.done=Math.abs(I)<=d,p.value=p.done?S:A};let L,V;const T=v=>{g(p.value)&&(L=v,V=ON({keyframes:[p.value,w(p.value)],velocity:VN(_,v,p.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return T(0),{calculatedDuration:null,next:v=>{let I=!1;return!V&&L===void 0&&(I=!0,R(v),T(v)),L!==void 0&&v>L?V.next(v-L):(!I&&R(v),p)}}}const c9=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Le.update(e,!0),stop:()=>Br(e),now:()=>Dt.isProcessing?Dt.timestamp:performance.now()}},t1=2e4;function n1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<t1;)e+=n,r=t.next(e);return e>=t1?1/0:e}const u9={decay:e1,inertia:e1,tween:Zd,keyframes:Zd,spring:ON};function eh({autoplay:t=!0,delay:e=0,driver:n=c9,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:c,onStop:d,onComplete:h,onUpdate:f,...p}){let g=1,w=!1,E,P;const S=()=>{P=new Promise(X=>{E=X})};S();let x;const _=u9[s]||Zd;let R;_!==Zd&&typeof r[0]!="number"&&(R=RN([0,100],r,{clamp:!1}),r=[0,100]);const L=_({...p,keyframes:r});let V;a==="mirror"&&(V=_({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let T="idle",v=null,I=null,A=null;L.calculatedDuration===null&&i&&(L.calculatedDuration=n1(L));const{calculatedDuration:j}=L;let k=1/0,N=1/0;j!==null&&(k=j+o,N=k*(i+1)-o);let ne=0;const re=X=>{if(I===null)return;g>0&&(I=Math.min(I,X)),g<0&&(I=Math.min(X-N/g,I)),v!==null?ne=v:ne=Math.round(X-I)*g;const we=ne-e*(g>=0?1:-1),Ce=g>=0?we<0:we>N;ne=Math.max(we,0),T==="finished"&&v===null&&(ne=N);let Yt=ne,Ut=L;if(i){const pr=Math.min(ne,N)/k;let cn=Math.floor(pr),Xt=pr%1;!Xt&&pr>=1&&(Xt=1),Xt===1&&cn--,cn=Math.min(cn,i+1),!!(cn%2)&&(a==="reverse"?(Xt=1-Xt,o&&(Xt-=o/k)):a==="mirror"&&(Ut=V)),Yt=ks(0,1,Xt)*k}const xt=Ce?{done:!1,value:r[0]}:Ut.next(Yt);R&&(xt.value=R(xt.value));let{done:Nt}=xt;!Ce&&j!==null&&(Nt=g>=0?ne>=N:ne<=0);const $i=v===null&&(T==="finished"||T==="running"&&Nt);return f&&f(xt.value),$i&&W(),xt},fe=()=>{x&&x.stop(),x=void 0},ve=()=>{T="idle",fe(),E(),S(),I=A=null},W=()=>{T="finished",h&&h(),fe(),E()},ee=()=>{if(w)return;x||(x=n(re));const X=x.now();c&&c(),v!==null?I=X-v:(!I||T==="finished")&&(I=X),T==="finished"&&S(),A=I,v=null,T="running",x.start()};t&&ee();const ie={then(X,we){return P.then(X,we)},get time(){return kr(ne)},set time(X){X=pi(X),ne=X,v!==null||!x||g===0?v=X:I=x.now()-X/g},get duration(){const X=L.calculatedDuration===null?n1(L):L.calculatedDuration;return kr(X)},get speed(){return g},set speed(X){X===g||!x||(g=X,ie.time=kr(ne))},get state(){return T},play:ee,pause:()=>{T="paused",v=ne},stop:()=>{w=!0,T!=="idle"&&(T="idle",d&&d(),ve())},cancel:()=>{A!==null&&re(A),ve()},complete:()=>{T="finished"},sample:X=>(I=0,re(X))};return ie}function d9(t){let e;return()=>(e===void 0&&(e=t()),e)}const h9=d9(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),f9=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),_u=10,p9=2e4,m9=(t,e)=>e.type==="spring"||t==="backgroundColor"||!fN(e.ease);function g9(t,e,{onUpdate:n,onComplete:r,...s}){if(!(h9()&&f9.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,c,d=!1;const h=()=>{c=new Promise(_=>{a=_})};h();let{keyframes:f,duration:p=300,ease:g,times:w}=s;if(m9(e,s)){const _=eh({...s,repeat:0,delay:0});let R={done:!1,value:f[0]};const L=[];let V=0;for(;!R.done&&V<p9;)R=_.sample(V),L.push(R.value),V+=_u;w=void 0,f=L,p=V-_u,g="linear"}const E=IU(t.owner.current,e,f,{...s,duration:p,ease:g,times:w}),P=()=>{d=!1,E.cancel()},S=()=>{d=!0,Le.update(P),a(),h()};return E.onfinish=()=>{d||(t.set(PU(f,s)),r&&r(),S())},{then(_,R){return c.then(_,R)},attachTimeline(_){return E.timeline=_,E.onfinish=null,rt},get time(){return kr(E.currentTime||0)},set time(_){E.currentTime=pi(_)},get speed(){return E.playbackRate},set speed(_){E.playbackRate=_},get duration(){return kr(p)},play:()=>{o||(E.play(),Br(P))},pause:()=>E.pause(),stop:()=>{if(o=!0,E.playState==="idle")return;const{currentTime:_}=E;if(_){const R=eh({...s,autoplay:!1});t.setWithVelocity(R.sample(_-_u).value,R.sample(_).value,_u)}S()},complete:()=>{d||E.finish()},cancel:S}}function y9({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:rt,pause:rt,stop:rt,then:i=>(i(),Promise.resolve()),cancel:rt,complete:rt});return e?eh({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const v9={type:"spring",stiffness:500,damping:25,restSpeed:10},x9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),w9={type:"keyframes",duration:.8},_9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},T9=(t,{keyframes:e})=>e.length>2?w9:Mi.has(t)?t.startsWith("scale")?x9(e[1]):v9:_9,pg=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(js.test(e)||e==="0")&&!e.startsWith("url(")),E9=new Set(["brightness","contrast","saturate","opacity"]);function b9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(nf)||[];if(!r)return t;const s=n.replace(r,"");let i=E9.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const S9=/([a-z-]*)\(.*?\)/g,mg={...js,getAnimatableNone:t=>{const e=t.match(S9);return e?e.map(b9).join(" "):t}},I9={...YP,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:mg,WebkitFilter:mg},Mv=t=>I9[t];function LN(t,e){let n=Mv(t);return n!==mg&&(n=js),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const MN=t=>/^0[^.\s]+$/.test(t);function P9(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||MN(t)}function N9(t,e,n,r){const s=pg(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const c=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?o:i[d-1]),P9(i[d])&&c.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(a=i[d]);if(s&&c.length&&a)for(let d=0;d<c.length;d++){const h=c[d];i[h]=LN(e,a)}return i}function A9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:c,elapsed:d,...h}){return!!Object.keys(h).length}function Fv(t,e){return t[e]||t.default||t}const C9={skipAnimations:!1},Uv=(t,e,n,r={})=>s=>{const i=Fv(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-pi(o);const c=N9(e,t,n,i),d=c[0],h=c[c.length-1],f=pg(t,d),p=pg(t,h);let g={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:w=>{e.set(w),i.onUpdate&&i.onUpdate(w)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(A9(i)||(g={...g,...T9(t,g)}),g.duration&&(g.duration=pi(g.duration)),g.repeatDelay&&(g.repeatDelay=pi(g.repeatDelay)),!f||!p||SU.current||i.type===!1||C9.skipAnimations)return y9(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const w=g9(e,t,g);if(w)return w}return eh(g)};function th(t){return!!(ln(t)&&t.add)}const FN=t=>/^\-?\d*\.?\d+$/.test(t);function Bv(t,e){t.indexOf(e)===-1&&t.push(e)}function $v(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class zv{constructor(){this.subscriptions=[]}add(e){return Bv(this.subscriptions,e),()=>$v(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const k9=t=>!isNaN(parseFloat(t));class j9{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Dt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Le.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Le.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=k9(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new zv);const r=this.events[e].add(n);return e==="change"?()=>{r(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?DN(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jo(t,e){return new j9(t,e)}const UN=t=>e=>e.test(t),R9={test:t=>t==="auto",parse:t=>t},BN=[Fi,le,lr,Yr,B5,U5,R9],Ma=t=>BN.find(UN(t)),D9=[...BN,zt,js],V9=t=>D9.find(UN(t));function O9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Jo(n))}function L9(t,e){const n=sf(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=tU(i[o]);O9(t,o,a)}}function M9(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const c=i[a],d=e[c];let h=null;Array.isArray(d)&&(h=d[0]),h===null&&(h=(s=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&s!==void 0?s:e[c]),h!=null&&(typeof h=="string"&&(FN(h)||MN(h))?h=parseFloat(h):!V9(h)&&js.test(d)&&(h=LN(c,d)),t.addValue(c,Jo(h,{owner:t})),n[c]===void 0&&(n[c]=h),h!==null&&t.setBaseTarget(c,h))}}function F9(t,e){return e?(e[t]||e.default||e).from:void 0}function U9(t,e,n){const r={};for(const s in t){const i=F9(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function B9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function $9(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function $N(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(i=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in a){const p=t.getValue(f),g=a[f];if(!p||g===void 0||h&&B9(h,f))continue;const w={delay:n,elapsed:0,...Fv(i||{},f)};if(window.HandoffAppearAnimations){const S=t.getProps()[zP];if(S){const x=window.HandoffAppearAnimations(S,f,p,Le);x!==null&&(w.elapsed=x,w.isHandoff=!0)}}let E=!w.isHandoff&&!$9(p,g);if(w.type==="spring"&&(p.getVelocity()||w.velocity)&&(E=!1),p.animation&&(E=!1),E)continue;p.start(Uv(f,p,g,t.shouldReduceMotion&&Mi.has(f)?{type:!1}:w));const P=p.animation;th(c)&&(c.add(f),P.then(()=>c.remove(f))),d.push(P)}return o&&Promise.all(d).then(()=>{o&&L9(t,o)}),d}function gg(t,e,n={}){const r=sf(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all($N(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return z9(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function z9(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,c=s===1?(d=0)=>d*r:(d=0)=>a-d*r;return Array.from(t.variantChildren).sort(H9).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(gg(d,e,{...i,delay:n+c(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function H9(t,e){return t.sortNodePosition(e)}function W9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>gg(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=gg(t,e,n);else{const s=typeof e=="function"?sf(t,e,n.custom):e;r=Promise.all($N(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const q9=[...Sv].reverse(),G9=Sv.length;function K9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>W9(t,n,r)))}function Q9(t){let e=K9(t);const n=X9();let r=!0;const s=(c,d)=>{const h=sf(t,d);if(h){const{transition:f,transitionEnd:p,...g}=h;c={...c,...g,...p}}return c};function i(c){e=c(t)}function o(c,d){const h=t.getProps(),f=t.getVariantContext(!0)||{},p=[],g=new Set;let w={},E=1/0;for(let S=0;S<G9;S++){const x=q9[S],_=n[x],R=h[x]!==void 0?h[x]:f[x],L=tc(R),V=x===d?_.isActive:null;V===!1&&(E=S);let T=R===f[x]&&R!==h[x]&&L;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),_.protectedKeys={...w},!_.isActive&&V===null||!R&&!_.prevProp||ef(R)||typeof R=="boolean")continue;let I=Y9(_.prevProp,R)||x===d&&_.isActive&&!T&&L||S>E&&L,A=!1;const j=Array.isArray(R)?R:[R];let k=j.reduce(s,{});V===!1&&(k={});const{prevResolvedValues:N={}}=_,ne={...N,...k},re=fe=>{I=!0,g.has(fe)&&(A=!0,g.delete(fe)),_.needsAnimating[fe]=!0};for(const fe in ne){const ve=k[fe],W=N[fe];if(w.hasOwnProperty(fe))continue;let ee=!1;Yd(ve)&&Yd(W)?ee=!dN(ve,W):ee=ve!==W,ee?ve!==void 0?re(fe):g.add(fe):ve!==void 0&&g.has(fe)?re(fe):_.protectedKeys[fe]=!0}_.prevProp=R,_.prevResolvedValues=k,_.isActive&&(w={...w,...k}),r&&t.blockInitialAnimation&&(I=!1),I&&(!T||A)&&p.push(...j.map(fe=>({animation:fe,options:{type:x,...c}})))}if(g.size){const S={};g.forEach(x=>{const _=t.getBaseTarget(x);_!==void 0&&(S[x]=_)}),p.push({animation:S})}let P=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(p):Promise.resolve()}function a(c,d,h){var f;if(n[c].isActive===d)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(g=>{var w;return(w=g.animationState)===null||w===void 0?void 0:w.setActive(c,d)}),n[c].isActive=d;const p=o(h,c);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function Y9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!dN(e,t):!1}function Qs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function X9(){return{animate:Qs(!0),whileInView:Qs(),whileHover:Qs(),whileTap:Qs(),whileDrag:Qs(),whileFocus:Qs(),exit:Qs()}}class J9 extends Bs{constructor(e){super(e),e.animationState||(e.animationState=Q9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ef(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Z9=0;class eB extends Bs{constructor(){super(...arguments),this.id=Z9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const tB={animation:{Feature:J9},exit:{Feature:eB}},r1=(t,e)=>Math.abs(t-e);function nB(t,e){const n=r1(t.x,e.x),r=r1(t.y,e.y);return Math.sqrt(n**2+r**2)}class zN{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=bp(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=nB(f.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:w}=f,{timestamp:E}=Dt;this.history.push({...w,timestamp:E});const{onStart:P,onMove:S}=this.handlers;p||(P&&P(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ep(p,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=bp(f.type==="pointercancel"?this.lastMoveEventInfo:Ep(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,P),w&&w(f,P)},!oN(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=rf(e),a=Ep(o,this.transformPagePoint),{point:c}=a,{timestamp:d}=Dt;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,bp(a,this.history)),this.removeListeners=Ss(Cr(this.contextWindow,"pointermove",this.handlePointerMove),Cr(this.contextWindow,"pointerup",this.handlePointerUp),Cr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Br(this.updatePoint)}}function Ep(t,e){return e?{point:e(t.point)}:t}function s1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bp({point:t},e){return{point:t,delta:s1(t,HN(e)),offset:s1(t,rB(e)),velocity:sB(e,.1)}}function rB(t){return t[0]}function HN(t){return t[t.length-1]}function sB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=HN(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>pi(e)));)n--;if(!r)return{x:0,y:0};const i=kr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function vn(t){return t.max-t.min}function yg(t,e=0,n=.01){return Math.abs(t-e)<=n}function i1(t,e,n,r=.5){t.origin=r,t.originPoint=Ge(e.min,e.max,t.origin),t.scale=vn(n)/vn(e),(yg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ge(n.min,n.max,t.origin)-t.originPoint,(yg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function vl(t,e,n,r){i1(t.x,e.x,n.x,r?r.originX:void 0),i1(t.y,e.y,n.y,r?r.originY:void 0)}function o1(t,e,n){t.min=n.min+e.min,t.max=t.min+vn(e)}function iB(t,e,n){o1(t.x,e.x,n.x),o1(t.y,e.y,n.y)}function a1(t,e,n){t.min=e.min-n.min,t.max=t.min+vn(e)}function xl(t,e,n){a1(t.x,e.x,n.x),a1(t.y,e.y,n.y)}function oB(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ge(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ge(n,t,r.max):Math.min(t,n)),t}function l1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function aB(t,{top:e,left:n,bottom:r,right:s}){return{x:l1(t.x,n,s),y:l1(t.y,e,r)}}function c1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function lB(t,e){return{x:c1(t.x,e.x),y:c1(t.y,e.y)}}function cB(t,e){let n=.5;const r=vn(t),s=vn(e);return s>r?n=rc(e.min,e.max-r,t.min):r>s&&(n=rc(t.min,t.max-s,e.min)),ks(0,1,n)}function uB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const vg=.35;function dB(t=vg){return t===!1?t=0:t===!0&&(t=vg),{x:u1(t,"left","right"),y:u1(t,"top","bottom")}}function u1(t,e,n){return{min:d1(t,e),max:d1(t,n)}}function d1(t,e){return typeof t=="number"?t:t[e]||0}const h1=()=>({translate:0,scale:1,origin:0,originPoint:0}),_o=()=>({x:h1(),y:h1()}),f1=()=>({min:0,max:0}),ot=()=>({x:f1(),y:f1()});function Tn(t){return[t("x"),t("y")]}function WN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function hB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function fB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Sp(t){return t===void 0||t===1}function xg({scale:t,scaleX:e,scaleY:n}){return!Sp(t)||!Sp(e)||!Sp(n)}function Zs(t){return xg(t)||qN(t)||t.z||t.rotate||t.rotateX||t.rotateY}function qN(t){return p1(t.x)||p1(t.y)}function p1(t){return t&&t!=="0%"}function nh(t,e,n){const r=t-n,s=e*r;return n+s}function m1(t,e,n,r,s){return s!==void 0&&(t=nh(t,s,r)),nh(t,n,r)+e}function wg(t,e=0,n=1,r,s){t.min=m1(t.min,e,n,r,s),t.max=m1(t.max,e,n,r,s)}function GN(t,{x:e,y:n}){wg(t.x,e.translate,e.scale,e.originPoint),wg(t.y,n.translate,n.scale,n.originPoint)}function pB(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&To(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,GN(t,o)),r&&Zs(i.latestValues)&&To(t,i.latestValues))}e.x=g1(e.x),e.y=g1(e.y)}function g1(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Zr(t,e){t.min=t.min+e,t.max=t.max+e}function y1(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=Ge(t.min,t.max,i);wg(t,e[n],e[r],o,e.scale)}const mB=["x","scaleX","originX"],gB=["y","scaleY","originY"];function To(t,e){y1(t.x,e,mB),y1(t.y,e,gB)}function KN(t,e){return WN(fB(t.getBoundingClientRect(),e))}function yB(t,e,n){const r=KN(t,n),{scroll:s}=e;return s&&(Zr(r.x,s.offset.x),Zr(r.y,s.offset.y)),r}const QN=({current:t})=>t?t.ownerDocument.defaultView:null,vB=new WeakMap;class xB{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ot(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(rf(h,"page").point)},i=(h,f)=>{const{drag:p,dragPropagation:g,onDragStart:w}=this.getProps();if(p&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=lN(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tn(P=>{let S=this.getAxisMotionValue(P).get()||0;if(lr.test(S)){const{projection:x}=this.visualElement;if(x&&x.layout){const _=x.layout.layoutBox[P];_&&(S=vn(_)*(parseFloat(S)/100))}}this.originPoint[P]=S}),w&&Le.update(()=>w(h,f),!1,!0);const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:w,onDrag:E}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:P}=f;if(g&&this.currentDirection===null){this.currentDirection=wB(P),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,P),this.updateAxis("y",f.point,P),this.visualElement.render(),E&&E(h,f)},a=(h,f)=>this.stop(h,f),c=()=>Tn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new zN(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:QN(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Le.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Tu(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=oB(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&xo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=aB(s.layoutBox,n):this.constraints=!1,this.elastic=dB(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Tn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=uB(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!xo(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=yB(r,s.root,this.visualElement.getTransformPagePoint());let o=lB(s.layout.layoutBox,i);if(n){const a=n(hB(o));this.hasMutatedConstraints=!!a,a&&(o=WN(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},d=Tn(h=>{if(!Tu(h,n,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,w={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,w)});return Promise.all(d).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Uv(e,r,0,n))}stopAnimation(){Tn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Tn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Tn(n=>{const{drag:r}=this.getProps();if(!Tu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Ge(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!xo(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Tn(o=>{const a=this.getAxisMotionValue(o);if(a){const c=a.get();s[o]=cB({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Tn(o=>{if(!Tu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];a.set(Ge(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;vB.set(this.visualElement,this);const e=this.visualElement.current,n=Cr(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();xo(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Pr(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Tn(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=vg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Tu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function wB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _B extends Bs{constructor(e){super(e),this.removeGroupControls=rt,this.removeListeners=rt,this.controls=new xB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rt}unmount(){this.removeGroupControls(),this.removeListeners()}}const v1=t=>(e,n)=>{t&&Le.update(()=>t(e,n))};class TB extends Bs{constructor(){super(...arguments),this.removePointerDownListener=rt}onPointerDown(e){this.session=new zN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:v1(e),onStart:v1(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Le.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Cr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function EB(){const t=C.useContext(Jh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=C.useId();return C.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Qu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function x1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(le.test(t))t=parseFloat(t);else return t;const n=x1(t,e.target.x),r=x1(t,e.target.y);return`${n}% ${r}%`}},bB={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=js.parse(t);if(s.length>5)return r;const i=js.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=c;const d=Ge(a,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};class SB extends Z.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;R5(IB),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Qu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Le.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function YN(t){const[e,n]=EB(),r=C.useContext(Pv);return Z.createElement(SB,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(WP),isPresent:e,safeToRemove:n})}const IB={borderRadius:{...Fa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fa,borderTopRightRadius:Fa,borderBottomLeftRadius:Fa,borderBottomRightRadius:Fa,boxShadow:bB},XN=["TopLeft","TopRight","BottomLeft","BottomRight"],PB=XN.length,w1=t=>typeof t=="string"?parseFloat(t):t,_1=t=>typeof t=="number"||le.test(t);function NB(t,e,n,r,s,i){s?(t.opacity=Ge(0,n.opacity!==void 0?n.opacity:1,AB(r)),t.opacityExit=Ge(e.opacity!==void 0?e.opacity:1,0,CB(r))):i&&(t.opacity=Ge(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<PB;o++){const a=`border${XN[o]}Radius`;let c=T1(e,a),d=T1(n,a);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||_1(c)===_1(d)?(t[a]=Math.max(Ge(w1(c),w1(d),r),0),(lr.test(d)||lr.test(c))&&(t[a]+="%")):t[a]=d}(e.rotate||n.rotate)&&(t.rotate=Ge(e.rotate||0,n.rotate||0,r))}function T1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const AB=JN(0,.5,wN),CB=JN(.5,.95,rt);function JN(t,e,n){return r=>r<t?0:r>e?1:n(rc(t,e,r))}function E1(t,e){t.min=e.min,t.max=e.max}function _n(t,e){E1(t.x,e.x),E1(t.y,e.y)}function b1(t,e,n,r,s){return t-=e,t=nh(t,1/n,r),s!==void 0&&(t=nh(t,1/s,r)),t}function kB(t,e=0,n=1,r=.5,s,i=t,o=t){if(lr.test(e)&&(e=parseFloat(e),e=Ge(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ge(i.min,i.max,r);t===i&&(a-=e),t.min=b1(t.min,e,n,a,s),t.max=b1(t.max,e,n,a,s)}function S1(t,e,[n,r,s],i,o){kB(t,e[n],e[r],e[s],e.scale,i,o)}const jB=["x","scaleX","originX"],RB=["y","scaleY","originY"];function I1(t,e,n,r){S1(t.x,e,jB,n?n.x:void 0,r?r.x:void 0),S1(t.y,e,RB,n?n.y:void 0,r?r.y:void 0)}function P1(t){return t.translate===0&&t.scale===1}function ZN(t){return P1(t.x)&&P1(t.y)}function DB(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function eA(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function N1(t){return vn(t.x)/vn(t.y)}class VB{constructor(){this.members=[]}add(e){Bv(this.members,e),e.scheduleRender()}remove(e){if($v(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function A1(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:d,rotateY:h}=n;c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const OB=(t,e)=>t.depth-e.depth;class LB{constructor(){this.children=[],this.isDirty=!1}add(e){Bv(this.children,e),this.isDirty=!0}remove(e){$v(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(OB),this.isDirty=!1,this.children.forEach(e)}}function MB(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Br(r),t(i-e))};return Le.read(r,!0),()=>Br(r)}function FB(t){window.MotionDebug&&window.MotionDebug.record(t)}function UB(t){return t instanceof SVGElement&&t.tagName!=="svg"}function BB(t,e,n){const r=ln(t)?t:Jo(t);return r.start(Uv("",r,e,n)),r.animation}const C1=["","X","Y","Z"],$B={visibility:"hidden"},k1=1e3;let zB=0;const ei={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function tA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=zB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ei.totalNodes=ei.resolvedTargetDeltas=ei.recalculatedProjection=0,this.nodes.forEach(qB),this.nodes.forEach(XB),this.nodes.forEach(JB),this.nodes.forEach(GB),FB(ei)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new LB)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new zv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=UB(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(d||c)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=MB(p,250),Qu.hasAnimatedSinceResize&&(Qu.hasAnimatedSinceResize=!1,this.nodes.forEach(R1))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||h.getDefaultTransition()||r$,{onLayoutAnimationStart:P,onLayoutAnimationComplete:S}=h.getProps(),x=!this.targetLayout||!eA(this.targetLayout,w)||g,_=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const R={...Fv(E,"layout"),onPlay:P,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else p||R1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZB),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(j1);return}this.isUpdating||this.nodes.forEach(QB),this.isUpdating=!1,this.nodes.forEach(YB),this.nodes.forEach(HB),this.nodes.forEach(WB),this.clearAllSnapshots();const a=performance.now();Dt.delta=ks(0,1e3/60,a-Dt.timestamp),Dt.timestamp=a,Dt.isProcessing=!0,mp.update.process(Dt),mp.preRender.process(Dt),mp.render.process(Dt),Dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(KB),this.sharedNodes.forEach(e$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!ZN(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&(a||Zs(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),s$(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ot();const a=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Zr(a.x,c.offset.x),Zr(a.y,c.offset.y)),a}removeElementScroll(o){const a=ot();_n(a,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;if(d!==this.root&&h&&f.layoutScroll){if(h.isRoot){_n(a,o);const{scroll:p}=this.root;p&&(Zr(a.x,-p.offset.x),Zr(a.y,-p.offset.y))}Zr(a.x,h.offset.x),Zr(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const c=ot();_n(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&To(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Zs(h.latestValues)&&To(c,h.latestValues)}return Zs(this.latestValues)&&To(c,this.latestValues),c}removeTransform(o){const a=ot();_n(a,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Zs(d.latestValues))continue;xg(d.latestValues)&&d.updateSnapshot();const h=ot(),f=d.measurePageBox();_n(h,f),I1(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return Zs(this.latestValues)&&I1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Dt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ot(),this.relativeTargetOrigin=ot(),xl(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ot(),this.targetWithTransforms=ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_n(this.target,this.layout.layoutBox),GN(this.target,this.targetDelta)):_n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ot(),this.relativeTargetOrigin=ot(),xl(this.relativeTargetOrigin,this.target,g.target),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ei.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||xg(this.parent.latestValues)||qN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Dt.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;_n(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;pB(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:w}=a;if(!w){this.projectionTransform&&(this.projectionDelta=_o(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=_o(),this.projectionDeltaWithTransform=_o());const E=this.projectionTransform;vl(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=A1(this.projectionDelta,this.treeScale),(this.projectionTransform!==E||this.treeScale.x!==p||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),ei.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},f=_o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=ot(),g=c?c.source:void 0,w=this.layout?this.layout.source:void 0,E=g!==w,P=this.getStack(),S=!P||P.members.length<=1,x=!!(E&&!S&&this.options.crossfade===!0&&!this.path.some(n$));this.animationProgress=0;let _;this.mixTargetDelta=R=>{const L=R/1e3;D1(f.x,o.x,L),D1(f.y,o.y,L),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),t$(this.relativeTarget,this.relativeTargetOrigin,p,L),_&&DB(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=ot()),_n(_,this.relativeTarget)),E&&(this.animationValues=h,NB(h,d,this.latestValues,L,x,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{Qu.hasAnimatedSinceResize=!0,this.currentAnimation=BB(0,k1,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(k1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:d,latestValues:h}=o;if(!(!a||!c||!d)){if(this!==o&&this.layout&&d&&nA(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ot();const f=vn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const p=vn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}_n(a,c),To(a,h),vl(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new VB),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const d={};for(let h=0;h<C1.length;h++){const f="rotate"+C1[h];c[f]&&(d[f]=c[f],o.setStaticValue(f,0))}o.render();for(const h in d)o.setStaticValue(h,d[h]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $B;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Ku(o==null?void 0:o.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Ku(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Zs(this.latestValues)&&(E.transform=h?h({},""):"none",this.hasProjected=!1),E}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=A1(this.projectionDeltaWithTransform,this.treeScale,p),h&&(d.transform=h(p,d.transform));const{x:g,y:w}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,f.animationValues?d.opacity=f===this?(c=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const E in Kd){if(p[E]===void 0)continue;const{correct:P,applyTo:S}=Kd[E],x=d.transform==="none"?p[E]:P(p[E],f);if(S){const _=S.length;for(let R=0;R<_;R++)d[S[R]]=x}else d[E]=x}return this.options.layoutId&&(d.pointerEvents=f===this?Ku(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(j1),this.root.sharedNodes.clear()}}}function HB(t){t.updateLayout()}function WB(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Tn(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],g=vn(p);p.min=r[f].min,p.max=p.min+g}):nA(i,n.layoutBox,r)&&Tn(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],g=vn(r[f]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=_o();vl(a,r,n.layoutBox);const c=_o();o?vl(c,t.applyTransform(s,!0),n.measuredBox):vl(c,r,n.layoutBox);const d=!ZN(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const w=ot();xl(w,n.layoutBox,p.layoutBox);const E=ot();xl(E,r,g.layoutBox),eA(w,E)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=w,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function qB(t){ei.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function GB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function KB(t){t.clearSnapshot()}function j1(t){t.clearMeasurements()}function QB(t){t.isLayoutDirty=!1}function YB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function R1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function XB(t){t.resolveTargetDelta()}function JB(t){t.calcProjection()}function ZB(t){t.resetRotation()}function e$(t){t.removeLeadSnapshot()}function D1(t,e,n){t.translate=Ge(e.translate,0,n),t.scale=Ge(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function V1(t,e,n,r){t.min=Ge(e.min,n.min,r),t.max=Ge(e.max,n.max,r)}function t$(t,e,n,r){V1(t.x,e.x,n.x,r),V1(t.y,e.y,n.y,r)}function n$(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const r$={duration:.45,ease:[.4,0,.1,1]},O1=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),L1=O1("applewebkit/")&&!O1("chrome/")?Math.round:rt;function M1(t){t.min=L1(t.min),t.max=L1(t.max)}function s$(t){M1(t.x),M1(t.y)}function nA(t,e,n){return t==="position"||t==="preserve-aspect"&&!yg(N1(e),N1(n),.2)}const i$=tA({attachResizeListener:(t,e)=>Pr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ip={current:void 0},rA=tA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ip.current){const t=new i$({});t.mount(window),t.setOptions({layoutScroll:!0}),Ip.current=t}return Ip.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),o$={pan:{Feature:TB},drag:{Feature:_B,ProjectionNode:rA,MeasureLayout:YN}},a$=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function l$(t){const e=a$.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function _g(t,e,n=1){const[r,s]=l$(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return FN(o)?parseFloat(o):o}else return ug(s)?_g(s,e,n+1):s}function c$(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!ug(i))return;const o=_g(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!ug(i))continue;const o=_g(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const u$=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),sA=t=>u$.has(t),d$=t=>Object.keys(t).some(sA),F1=t=>t===Fi||t===le,U1=(t,e)=>parseFloat(t.split(", ")[e]),B1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return U1(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?U1(i[1],t):0}},h$=new Set(["x","y","z"]),f$=Sc.filter(t=>!h$.has(t));function p$(t){const e=[];return f$.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Zo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:B1(4,13),y:B1(5,14)};Zo.translateX=Zo.x;Zo.translateY=Zo.y;const m$=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{a[d]=Zo[d](r,i)}),e.render();const c=e.measureViewportBox();return n.forEach(d=>{const h=e.getValue(d);h&&h.jump(a[d]),t[d]=Zo[d](c,i)}),t},g$=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(sA);let i=[],o=!1;const a=[];if(s.forEach(c=>{const d=t.getValue(c);if(!t.hasValue(c))return;let h=n[c],f=Ma(h);const p=e[c];let g;if(Yd(p)){const w=p.length,E=p[0]===null?1:0;h=p[E],f=Ma(h);for(let P=E;P<w&&p[P]!==null;P++)g?Xd(Ma(p[P])===g):g=Ma(p[P])}else g=Ma(p);if(f!==g)if(F1(f)&&F1(g)){const w=d.get();typeof w=="string"&&d.set(parseFloat(w)),typeof p=="string"?e[c]=parseFloat(p):Array.isArray(p)&&g===le&&(e[c]=p.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(h===0||p===0)?h===0?d.set(g.transform(h)):e[c]=f.transform(p):(o||(i=p$(t),o=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:e[c],d.jump(p))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,d=m$(e,t,a);return i.length&&i.forEach(([h,f])=>{t.getValue(h).set(f)}),t.render(),Zh&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:r}}else return{target:e,transitionEnd:r}};function y$(t,e,n,r){return d$(e)?g$(t,e,n,r):{target:e,transitionEnd:r}}const v$=(t,e,n,r)=>{const s=c$(t,e,r);return e=s.target,r=s.transitionEnd,y$(t,e,n,r)},Tg={current:null},iA={current:!1};function x$(){if(iA.current=!0,!!Zh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Tg.current=t.matches;t.addListener(e),e()}else Tg.current=!1}function w$(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(ln(i))t.addValue(s,i),th(r)&&r.add(s);else if(ln(o))t.addValue(s,Jo(i,{owner:t})),th(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,Jo(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const $1=new WeakMap,oA=Object.keys(nc),_$=oA.length,z1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],T$=Iv.length;class E${constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Le.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=tf(n),this.isVariantNode=HP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const p=h[f];a[f]!==void 0&&ln(p)&&(p.set(a[f],!1),th(d)&&d.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,$1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),iA.current||x$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$1.delete(this.current),this.projection&&this.projection.unmount(),Br(this.notifyUpdate),Br(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Mi.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Le.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let c=0;c<_$;c++){const d=oA[c],{isEnabled:h,Feature:f,ProjectionNode:p,MeasureLayout:g}=nc[d];p&&(o=p),h(n)&&(!this.features[d]&&f&&(this.features[d]=new f(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:h,dragConstraints:f,layoutScroll:p,layoutRoot:g}=n;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!h||f&&xo(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ot()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<z1.length;r++){const s=z1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=w$(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<T$;r++){const s=Iv[r],i=this.props[s];(tc(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Jo(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Dv(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ln(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new zv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class aA extends E${sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=U9(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){M9(this,r,o);const a=v$(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function b$(t){return window.getComputedStyle(t)}class S$ extends aA{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Mi.has(n)){const r=Mv(n);return r&&r.default||0}else{const r=b$(e),s=(KP(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return KN(e,n)}build(e,n,r,s){Av(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Rv(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ln(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){eN(e,n,r,s)}}class I$ extends aA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Mi.has(n)){const r=Mv(n);return r&&r.default||0}return n=tN.has(n)?n:bv(n),e.getAttribute(n)}measureInstanceViewportBox(){return ot()}scrapeMotionValuesFromProps(e,n){return rN(e,n)}build(e,n,r,s){kv(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){nN(e,n,r,s)}mount(e){this.isSVGTag=jv(e.tagName),super.mount(e)}}const P$=(t,e)=>Nv(t)?new I$(e,{enableHardwareAcceleration:!1}):new S$(e,{enableHardwareAcceleration:!0}),N$={layout:{ProjectionNode:rA,MeasureLayout:YN}},A$={...tB,...TU,...o$,...N$},ae=k5((t,e)=>cU(t,e,A$,P$));function lA(){const t=C.useRef(!1);return Ev(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function C$(){const t=lA(),[e,n]=C.useState(0),r=C.useCallback(()=>{t.current&&n(e+1)},[e]);return[C.useCallback(()=>Le.postRender(r),[r]),e]}class k$ extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function j$({children:t,isPresent:e}){const n=C.useId(),r=C.useRef(null),s=C.useRef({width:0,height:0,top:0,left:0});return C.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:c}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),C.createElement(k$,{isPresent:e,childRef:r,sizeRef:s},C.cloneElement(t,{ref:r}))}const Pp=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=sN(R$),c=C.useId(),d=C.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),i?void 0:[n]);return C.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),C.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=C.createElement(j$,{isPresent:n},t)),C.createElement(Jh.Provider,{value:d},t)};function R$(){return new Map}function D$(t){return C.useEffect(()=>()=>t(),[])}const ti=t=>t.key||"";function V$(t,e){t.forEach(n=>{const r=ti(n);e.set(r,n)})}function O$(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const L$=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=C.useContext(Pv).forceRender||C$()[0],c=lA(),d=O$(t);let h=d;const f=C.useRef(new Map).current,p=C.useRef(h),g=C.useRef(new Map).current,w=C.useRef(!0);if(Ev(()=>{w.current=!1,V$(d,g),p.current=h}),D$(()=>{w.current=!0,g.clear(),f.clear()}),w.current)return C.createElement(C.Fragment,null,h.map(x=>C.createElement(Pp,{key:ti(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},x)));h=[...h];const E=p.current.map(ti),P=d.map(ti),S=E.length;for(let x=0;x<S;x++){const _=E[x];P.indexOf(_)===-1&&!f.has(_)&&f.set(_,void 0)}return o==="wait"&&f.size&&(h=[]),f.forEach((x,_)=>{if(P.indexOf(_)!==-1)return;const R=g.get(_);if(!R)return;const L=E.indexOf(_);let V=x;if(!V){const T=()=>{f.delete(_);const v=Array.from(g.keys()).filter(I=>!P.includes(I));if(v.forEach(I=>g.delete(I)),p.current=d.filter(I=>{const A=ti(I);return A===_||v.includes(A)}),!f.size){if(c.current===!1)return;a(),r&&r()}};V=C.createElement(Pp,{key:ti(R),isPresent:!1,onExitComplete:T,custom:e,presenceAffectsLayout:i,mode:o},R),f.set(_,V)}h.splice(L,0,V)}),h=h.map(x=>{const _=x.key;return f.has(_)?x:C.createElement(Pp,{key:ti(x),isPresent:!0,presenceAffectsLayout:i,mode:o},x)}),C.createElement(C.Fragment,null,f.size?h:h.map(x=>C.cloneElement(x)))};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ye=(t,e)=>{const n=C.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:c,...d},h)=>C.createElement("svg",{ref:h,...M$,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${F$(t)}`,a].join(" "),...d},[...e.map(([f,p])=>C.createElement(f,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=ye("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ye("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=ye("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=ye("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=ye("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=ye("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=ye("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=ye("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=ye("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=ye("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=ye("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=ye("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=ye("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=ye("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=ye("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=ye("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=ye("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=ye("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=ye("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=ye("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fA="/assets/logo-DFMYqyMv.jpg",c8=()=>{const[t,e]=C.useState(!1),n=ki(),r=[{name:"Fleet",href:"/helicopters"},{name:"Services",href:"/services"},{name:"Blog",href:"/blog"},{name:"Contact",href:"/contact"}],s=i=>n.pathname===i;return l.jsx("header",{className:"bg-white/95 backdrop-blur-sm shadow-sm sticky top-0 z-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex justify-between items-center h-20",children:[l.jsxs(ke,{to:"/",className:"flex items-center space-x-2",children:[l.jsx("img",{src:fA,alt:"Vanguard Helicopter Logo",className:"w-12 h-12 object-contain rounded-lg shadow-md border border-gold-400 bg-white"}),l.jsxs("div",{children:[l.jsx("span",{className:"text-2xl font-display font-bold text-navy-900",children:"Vanguard"}),l.jsx("p",{className:"text-xs text-navy-600 -mt-1",children:"HELICOPTERS"})]})]}),l.jsx("nav",{className:"hidden lg:flex space-x-8",children:r.map(i=>l.jsxs(ke,{to:i.href,className:H1("relative px-1 py-2 text-sm font-medium transition-colors duration-200",s(i.href)?"text-gold-600":"text-navy-700 hover:text-gold-600"),children:[i.name,s(i.href)&&l.jsx(ae.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gold-600"})]},i.name))}),l.jsx("div",{className:"lg:hidden",children:l.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-md text-navy-700 hover:text-gold-600 transition-colors duration-200",children:t?l.jsx(l8,{className:"w-6 h-6"}):l.jsx(X$,{className:"w-6 h-6"})})})]}),l.jsx(L$,{children:t&&l.jsx(ae.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"lg:hidden border-t border-navy-100",children:l.jsx("div",{className:"py-4 space-y-2",children:r.map(i=>l.jsx(ke,{to:i.href,className:H1("block px-4 py-2 text-base font-medium rounded-lg",s(i.href)?"text-gold-600 bg-gold-50":"text-navy-700 hover:text-gold-600 hover:bg-navy-50"),onClick:()=>e(!1),children:i.name},i.name))})})})]})})};function H1(...t){return t.filter(Boolean).join(" ")}const u8=()=>{const t=new Date().getFullYear();return l.jsx("footer",{className:"bg-navy-900 text-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"col-span-1 lg:col-span-2",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[l.jsx("img",{src:fA,alt:"Vanguard Helicopters",className:"w-12 h-12 rounded-lg object-cover"}),l.jsxs("div",{children:[l.jsx("span",{className:"text-2xl font-display font-bold",children:"Vanguard"}),l.jsx("p",{className:"text-xs text-gray-400 -mt-1",children:"HELICOPTERS"})]})]}),l.jsx("p",{className:"text-gray-300 mb-6 max-w-md",children:"Experience the ultimate in luxury helicopter rentals. Professional pilots, premium aircraft, and unforgettable aerial experiences across the city."}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("a",{href:"https://www.facebook.com/profile.php?id=61578237294172",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gold-400 transition-colors duration-200",children:l.jsx(uA,{className:"w-5 h-5"})}),l.jsx("a",{href:"https://www.instagram.com/vanguardhelicopters?igsh=NXRtbnlqdWg5bzF5&utm_source=qr",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gold-400 transition-colors duration-200",children:l.jsx(G$,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx(ke,{to:"/",className:"text-gray-300 hover:text-gold-400 transition-colors duration-200",children:"Home"})}),l.jsx("li",{children:l.jsx(ke,{to:"/helicopters",className:"text-gray-300 hover:text-gold-400 transition-colors duration-200",children:"Our Fleet"})}),l.jsx("li",{children:l.jsx(ke,{to:"/services",className:"text-gray-300 hover:text-gold-400 transition-colors duration-200",children:"Services"})}),l.jsx("li",{children:l.jsx(ke,{to:"/blog",className:"text-gray-300 hover:text-gold-400 transition-colors duration-200",children:"Blog"})}),l.jsx("li",{children:l.jsx(ke,{to:"/contact",className:"text-gray-300 hover:text-gold-400 transition-colors duration-200",children:"Contact"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact Info"}),l.jsxs("ul",{className:"space-y-3",children:[l.jsxs("li",{className:"flex items-start space-x-3",children:[l.jsx(Ac,{className:"w-5 h-5 text-gold-400 mt-0.5 flex-shrink-0"}),l.jsxs("span",{className:"text-gray-300",children:["123 Aviation Drive",l.jsx("br",{}),"Chicago, IL 60601"]})]}),l.jsxs("li",{className:"flex items-center space-x-3",children:[l.jsx(Bi,{className:"w-5 h-5 text-gold-400 flex-shrink-0"}),l.jsx("a",{href:"tel:+447939956301",className:"text-gray-300 hover:text-gold-400 transition-colors duration-200",children:"+44 7939 956301"})]}),l.jsxs("li",{className:"flex items-center space-x-3",children:[l.jsx(Ui,{className:"w-5 h-5 text-gold-400 flex-shrink-0"}),l.jsx("a",{href:"mailto:vanguardhelicopter@gmail.com",className:"text-gray-300 hover:text-gold-400 transition-colors duration-200",children:"vanguardhelicopter@gmail.com"})]})]})]})]}),l.jsx("div",{className:"border-t border-navy-800 mt-12 pt-8",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[l.jsxs("p",{className:"text-gray-400 text-sm",children:[" ",t," Vanguard Helicopters. All rights reserved."]}),l.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[l.jsx(ke,{to:"/privacy",className:"text-gray-400 hover:text-gold-400 text-sm transition-colors duration-200",children:"Privacy Policy"}),l.jsx(ke,{to:"/terms",className:"text-gray-400 hover:text-gold-400 text-sm transition-colors duration-200",children:"Terms of Service"}),l.jsx(ke,{to:"/cookies",className:"text-gray-400 hover:text-gold-400 text-sm transition-colors duration-200",children:"Cookie Policy"})]})]})})]})})};function pA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=pA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function d8(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=pA(t))&&(r&&(r+=" "),r+=e);return r}const xe=({children:t,variant:e="primary",size:n="md",loading:r=!1,className:s,disabled:i,...o})=>{const a="font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2",c={primary:"bg-gold-500 hover:bg-gold-600 text-white shadow-lg hover:shadow-xl",secondary:"bg-navy-800 hover:bg-navy-900 text-white shadow-lg hover:shadow-xl",outline:"border-2 border-gold-500 text-gold-500 hover:bg-gold-500 hover:text-white",ghost:"text-navy-700 hover:bg-navy-50"},d={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"};return l.jsxs(ae.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:d8(a,c[e],d[n],(i||r)&&"opacity-50 cursor-not-allowed",s),disabled:i||r,...o,children:[r&&l.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),t]})},h8=({helicopter:t,index:e=0})=>l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:e*.1},className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 group",children:[l.jsxs("div",{className:"relative overflow-hidden",children:[l.jsx(ae.img,{whileHover:{scale:1.05},transition:{duration:.3},src:t.images[0],alt:t.name,className:"w-full h-64 object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),l.jsx("div",{className:"absolute top-4 left-4",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${t.availability?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.availability?"Available":"Booked"})}),l.jsx("div",{className:"absolute top-4 right-4",children:l.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2",children:l.jsxs("p",{className:"text-lg font-bold text-navy-900",children:["$",t.pricePerHour.toLocaleString()]})})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-navy-900 mb-1",children:t.name}),l.jsxs("p",{className:"text-sm text-navy-600",children:[t.manufacturer," ",t.model]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(bg,{className:"w-4 h-4 text-gold-400 fill-current"}),l.jsx("span",{className:"text-sm font-medium text-navy-700",children:"4.9"})]})]}),l.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:t.description}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Cc,{className:"w-4 h-4 text-gold-500"}),l.jsxs("span",{className:"text-sm text-navy-700",children:[t.capacity," seats"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ea,{className:"w-4 h-4 text-gold-500"}),l.jsx("span",{className:"text-sm text-navy-700",children:t.specifications.maxSpeed})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ac,{className:"w-4 h-4 text-gold-500"}),l.jsx("span",{className:"text-sm text-navy-700",children:t.location})]})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.features.slice(0,3).map((n,r)=>l.jsx("span",{className:"px-2 py-1 bg-navy-50 text-navy-700 text-xs rounded-md",children:n},r)),t.features.length>3&&l.jsxs("span",{className:"px-2 py-1 bg-gold-50 text-gold-700 text-xs rounded-md",children:["+",t.features.length-3," more"]})]})}),l.jsx("div",{className:"flex",children:l.jsx(ke,{to:`/helicopters/${t.id}`,className:"flex-1",onClick:()=>{window.fbq&&window.fbq("track","ViewContent",{content_name:t.name,content_type:"helicopter",content_ids:[t.id]})},children:l.jsx(xe,{variant:"outline",className:"w-full",children:"View Details"})})})]})]}),Rs=({size:t="md",color:e="primary"})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"},r={primary:"border-navy-800",gold:"border-gold-500",white:"border-white"};return l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(ae.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:`border-2 border-t-transparent rounded-full ${n[t]} ${r[e]}`})})},wl="/assets/1-CO_4IrCG.jpg",sh="/assets/2-kanHRoyd.jpg",ih="/assets/3-CqDZ3cCK.jpg",_l="/assets/4-Mpd8S3pQ.jpg",Tl="/assets/5-Dk3oU1Tg.jpg",oh="/assets/6-B3kn-64r.jpg",El="/assets/7-eGLL0SoQ.jpg",bl="/assets/8-CNJSr-5W.jpg",Sl="/assets/9-CTho6PdT.jpg",ah="/assets/10-Btx1xHfz.jpg",lh="/assets/11-4CxfXwnZ.jpg",Sg="/assets/12-DfjO2XFs.jpg",Ig="/assets/13-DiRTQwpx.jpg",Pg="/assets/14-BzbRbHDE.jpg",mA="/assets/WhatsApp%20Image%202025-07-10%20%C3%A0%2021.48.27_1af0b86e-CHcTASu2.jpg",gA="/assets/WhatsApp%20Image%202025-07-10%20%C3%A0%2021.40.28_4826b19a-BIH36ps4.jpg",Eu=[{id:"1",name:"Helicopter Ride & Dinner Package",model:"Vegas Luxury",manufacturer:"Airbus",capacity:2,pricePerHour:829,images:[ah,wl,sh,ih,_l,Tl],features:["VIP Limo transfer","VIP Check-In","12-minute Strip helicopter tour","Gourmet Dinner at top restaurant","Optional champagne","Skip the lines"],specifications:{maxSpeed:"155 mph",range:"340 nm",ceiling:"12,500 ft",engines:"1 x Turbomeca Arriel 2B1"},availability:!0,location:"Las Vegas",description:"Special Offer! Experience Vegas in Style: Enjoy a luxury limo transfer to the heliport, skip the lines, then soar above the dazzling Strip. After your flight, indulge in a gourmet dinner at a top-rated restaurant, with VIP seating and optional champagne.",createdAt:new Date,updatedAt:new Date},{id:"2",name:"Romantic Helicopter Tour for Two",model:"Robinson R44",manufacturer:"Robinson",capacity:2,pricePerHour:1050,images:[gA,Sg,oh,El,bl],features:["Private Flight","Roses & Chocolates","Sunset Option","Limo transfer","Optional photographer","Personalized playlist"],specifications:{maxSpeed:"130 mph",range:"300 nm",ceiling:"14,000 ft",engines:"1 x Lycoming IO-540-AE1A5"},availability:!0,location:"Las Vegas",description:"Perfect for Couples! A Private, Unforgettable Evening: Surprise your loved one with a sunset flight just for two, complete with roses and chocolates on board. Optional upgrades: champagne, photographer, and a personalized playlist.",createdAt:new Date,updatedAt:new Date},{id:"3",name:"VIP Helicopter Tour Experience",model:"Leonardo AW119",manufacturer:"Leonardo",capacity:2,pricePerHour:1350,images:[Ig,Sl,ah,lh],features:["VIP Lounge access","Complimentary Champagne","Premium Route","Luxury Transfer","Guaranteed front-row seats","Professional photos available"],specifications:{maxSpeed:"165 mph",range:"400 nm",ceiling:"14,500 ft",engines:"1 x Pratt & Whitney PT6B-37A"},availability:!0,location:"Las Vegas",description:"New Experience! All-Inclusive VIP Adventure: Arrive in a luxury SUV or stretch limo, enjoy private lounge access, skip the line, and board first. Premium flight route, complimentary champagne, and guaranteed front-row seatsplus pro photos available!",createdAt:new Date,updatedAt:new Date},{id:"4",name:"Luxury Grand Canyon Helicopter Excursion",model:"Bell 407",manufacturer:"Bell",capacity:2,pricePerHour:1600,images:[ih,Pg,wl,sh],features:["Canyon Landing","Champagne Toast","Scenic Flight","Picnic Option","Hoover Dam flyover","Photo ops at private plateau"],specifications:{maxSpeed:"140 mph",range:"330 nm",ceiling:"13,500 ft",engines:"1 x Rolls-Royce 250-C47B"},availability:!0,location:"Las Vegas",description:"Bucket List Experience! Ultimate Grand Canyon Adventure: Fly from Vegas over Hoover Dam and Lake Mead, landing at a private Grand Canyon plateau for a champagne toast and photo ops. Optional gourmet picnic available at the canyon rim.",createdAt:new Date,updatedAt:new Date},{id:"5",name:"Helicopter Proposal Package",model:"Airbus H145",manufacturer:"Airbus",capacity:2,pricePerHour:1700,images:[mA,Tl,_l,oh],features:["Private Flight",'Custom "Will You Marry Me?" sign',"Professional Photographer","Celebration Package","Romantic dinner option","Limo transfer"],specifications:{maxSpeed:"160 mph",range:"351 nm",ceiling:"17,000 ft",engines:"2 x Safran Arriel 2E"},availability:!0,location:"Las Vegas",description:`For Life's Biggest Question! The Ultimate Proposal: Plan the perfect proposal with a private helicopter, "Will You Marry Me?" sign on the ground, in-flight photographer, and post-flight celebration (roses, champagne, or a romantic dinner).`,createdAt:new Date,updatedAt:new Date},{id:"6",name:"Anniversary & Honeymoon Celebration Tour",model:"Airbus H125",manufacturer:"Airbus",capacity:2,pricePerHour:1300,images:[El,bl,Sl,lh],features:["Roses & Cake","Champagne","Custom Playlist","VIP Limo","In-flight video option","Extra flowers available"],specifications:{maxSpeed:"155 mph",range:"340 nm",ceiling:"16,000 ft",engines:"1 x Turbomeca Arriel 2D"},availability:!0,location:"Las Vegas",description:"Celebrate Love! Romantic Celebration in the Sky: A luxury helicopter tour with a custom celebration kitroses, cake or desserts, bubbly, and a custom playlist. Optional in-flight video or extra flowers for a personalized touch.",createdAt:new Date,updatedAt:new Date}],W1=()=>{const[t,e]=C.useState(Eu),[n,r]=C.useState(Eu),[s,i]=C.useState(!0),[o,a]=C.useState("grid"),[c,d]=C.useState(""),[h,f]=C.useState({capacity:"",priceRange:"",availability:"all",manufacturer:""}),[p,g]=C.useState(!1);C.useEffect(()=>{e(Eu),r(Eu),i(!1)},[]),C.useEffect(()=>{let E=t.filter(P=>{const S=typeof P.name=="string"&&P.name.toLowerCase().includes(c.toLowerCase())||typeof P.manufacturer=="string"&&P.manufacturer.toLowerCase().includes(c.toLowerCase())||typeof P.model=="string"&&P.model.toLowerCase().includes(c.toLowerCase()),x=!h.capacity||P.capacity>=parseInt(h.capacity),_=!h.priceRange||(()=>{const[V,T]=h.priceRange.split("-").map(v=>parseInt(v));return P.pricePerHour>=V&&(!T||P.pricePerHour<=T)})(),R=h.availability==="all"||h.availability==="available"&&P.availability||h.availability==="booked"&&!P.availability,L=!h.manufacturer||P.manufacturer===h.manufacturer;return S&&x&&_&&R&&L});r(E)},[t,c,h]);const w=()=>{f({capacity:"",priceRange:"",availability:"all",manufacturer:""}),d("")};return s?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx(Rs,{size:"lg"})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-display font-bold text-navy-900 mb-2",children:"Our Premium Fleet"}),l.jsxs("p",{className:"text-gray-600",children:["Choose from ",t.length," luxury helicopters available for rental"]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-6 lg:mt-0",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Eg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search helicopters...",value:c,onChange:E=>d(E.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gold-500 focus:border-transparent w-full sm:w-64"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(xe,{variant:o==="grid"?"primary":"ghost",size:"sm",onClick:()=>a("grid"),children:l.jsx(H$,{className:"w-4 h-4"})}),l.jsx(xe,{variant:o==="list"?"primary":"ghost",size:"sm",onClick:()=>a("list"),children:l.jsx(Q$,{className:"w-4 h-4"})}),l.jsxs(xe,{variant:"ghost",size:"sm",onClick:()=>g(!p),children:[l.jsx(s8,{className:"w-4 h-4 mr-2"}),"Filters"]})]})]})]})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[l.jsx(ae.div,{initial:!1,animate:{width:p?"auto":0,opacity:p?1:0},className:`lg:w-80 ${p?"block":"hidden lg:block"}`,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-24",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-navy-900",children:"Filters"}),l.jsx("button",{onClick:w,className:"text-sm text-gold-600 hover:text-gold-700",children:"Clear All"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-navy-700 mb-2",children:"Minimum Capacity"}),l.jsxs("select",{value:h.capacity,onChange:E=>f(P=>({...P,capacity:E.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"Any"}),l.jsx("option",{value:"2",children:"2+ passengers"}),l.jsx("option",{value:"4",children:"4+ passengers"}),l.jsx("option",{value:"6",children:"6+ passengers"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-navy-700 mb-2",children:"Price Range (per hour)"}),l.jsxs("select",{value:h.priceRange,onChange:E=>f(P=>({...P,priceRange:E.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"Any Price"}),l.jsx("option",{value:"0-1500",children:"Under $1,500"}),l.jsx("option",{value:"1500-2500",children:"$1,500 - $2,500"}),l.jsx("option",{value:"2500-4000",children:"$2,500 - $4,000"}),l.jsx("option",{value:"4000-",children:"Over $4,000"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-navy-700 mb-2",children:"Availability"}),l.jsxs("select",{value:h.availability,onChange:E=>f(P=>({...P,availability:E.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"All Aircraft"}),l.jsx("option",{value:"available",children:"Available Now"}),l.jsx("option",{value:"booked",children:"Currently Booked"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-navy-700 mb-2",children:"Manufacturer"}),l.jsxs("select",{value:h.manufacturer,onChange:E=>f(P=>({...P,manufacturer:E.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"All Manufacturers"}),l.jsx("option",{value:"Robinson",children:"Robinson"}),l.jsx("option",{value:"Bell",children:"Bell"}),l.jsx("option",{value:"Leonardo",children:"Leonardo"}),l.jsx("option",{value:"Airbus",children:"Airbus"})]})]})]})]})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("p",{className:"text-gray-600",children:["Showing ",n.length," of ",t.length," helicopters"]})}),n.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(z$,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No helicopters found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search or filter criteria"}),l.jsx(xe,{onClick:w,variant:"outline",children:"Clear Filters"})]}):l.jsx("div",{className:`grid gap-6 ${o==="grid"?"grid-cols-1 md:grid-cols-2 xl:grid-cols-3":"grid-cols-1"}`,children:n.map((E,P)=>l.jsx(h8,{helicopter:E,index:P},E.id))})]})]})})]})},Ng=[{id:"1",name:"Helicopter Ride & Dinner Package",model:"Vegas Luxury",manufacturer:"Airbus",capacity:2,pricePerHour:829,images:[ah,wl,sh,ih,_l,Tl],features:["VIP Limo","VIP Check-In","Helicopter","Gourmet Dinner"],specifications:{maxSpeed:"140 mph",range:"340 nm",ceiling:"12,500 ft",engines:"1 x Turbomeca Arriel 2B1"},availability:!0,location:"Las Vegas",description:`Have you ever dreamed of starting your Las Vegas evening with a breathtaking flight over the Strip and ending with a gourmet dinner at a top-rated restaurant? Our Helicopter Ride & Dinner Package is the perfect blend of excitement and elegance.

Begin your journey with a luxury limo transfer and VIP lounge access. Then, soar high above the neon-lit city before indulging in a reserved four-course dinner, complete with VIP seating and optional champagne to toast the night.

Departing From: Las Vegas Strip
Destination: Las Vegas Strip & Top Restaurant
Duration: Approximately 33.5 hours from hotel pick-up to drop-off
Product Code: HDP-VIP

Tour Highlights
 Helicopter flight above the Las Vegas Strip and Downtown
 VIP check-in and private lounge experience
 Luxury limo pick-up and drop-off
 Reserved gourmet dinner at a top-rated Strip restaurant
 Optional champagne or dessert upgrades

Included
 Helicopter ride over the Strip
 Limo transfers
 VIP lounge access
 Four-course dinner reservation (tax & gratuity included)

Planning
 Tour Duration: Approximately 33.5 hours (hotel-to-hotel)
 Flight Duration: 1012 minutes
 Dinner Duration: 1.52 hours
 Transportation: Hotel pickup & drop-off by private limo (included)
  Guests should be ready in hotel lobby 15 minutes prior to scheduled time

What to Bring
 Valid photo I.D. (required for all guests 18+)
 Smart-casual attire for dinner
 Appetite for great food and adventure
 Camera or smartphone for photos`,createdAt:new Date,updatedAt:new Date},{id:"2",name:"Romantic Helicopter Tour for Two",model:"Robinson R44",manufacturer:"Robinson",capacity:2,pricePerHour:1050,images:[gA,Sg,oh,El,bl,Sl],features:["Private Flight","Roses & Chocolates","Sunset Option","Limo"],specifications:{maxSpeed:"130 mph",range:"300 nm",ceiling:"14,000 ft",engines:"1 x Lycoming IO-540-AE1A5"},availability:!0,location:"Las Vegas",description:`Have you ever imagined surprising your partner with the most romantic evening in Las Vegas? Our Romantic Helicopter Tour for Two is crafted just for you and your loved one.

Your adventure begins with a private limo pick-up and a personalized welcome. Board your exclusive helicopter for a sunset flight above the Strip, where roses and chocolates await on board. Optional champagne and a private photographer can make your evening even more magical.

Departing From: Las Vegas Strip
Destination: Las Vegas Strip
Duration: Approximately 1 to 2 hours from hotel pick-up to drop-off
Product Code: RHT-2

Tour Highlights
 Private helicopter flight just for two at sunset
 Bouquet of roses and gourmet chocolates on board
 Private luxury limo transfer
 VIP lounge welcome
 Optional champagne and in-flight photographer

Included
 Private helicopter tour
 Limo pick-up and drop-off
 Roses and chocolates
 VIP check-in

Planning
 Tour Duration: 1.52 hours (hotel-to-hotel)
 Flight Duration: 1215 minutes
 Transportation: Limo pick-up and drop-off (included)
  Guests should be ready 10 minutes prior to pick-up

What to Bring
 Valid I.D. (for all guests 18+)
 Romantic playlist (Bluetooth welcome)
 Camera or smartphone
 Smart, comfortable clothing`,createdAt:new Date,updatedAt:new Date},{id:"3",name:"VIP Helicopter Tour Experience",model:"Airbus H125",manufacturer:"Airbus",capacity:4,pricePerHour:1200,images:[Ig,Sl,ah,lh,Pg,wl],features:["VIP Lounge","Champagne","Premium Route","Luxury Transfer"],specifications:{maxSpeed:"145 mph",range:"350 nm",ceiling:"13,500 ft",engines:"1 x Turbomeca Arriel 2D"},availability:!0,location:"Las Vegas",description:`Ever wondered what it feels like to be treated like a true VIP in Las Vegas? The VIP Helicopter Tour Experience elevates luxury to new heights.

Enjoy a luxury SUV or stretch limo transfer and private lounge access, then skip the lines and be the first to board. Glide along a premium extended route, taking in the full glitter of the Strip and downtown, with complimentary champagne and guaranteed front-row seats.

Departing From: Las Vegas Strip
Destination: Extended Strip & Downtown
Duration: Approximately 2 hours from hotel pick-up to drop-off
Product Code: VIP-EX

Tour Highlights
 VIP lounge access and front-of-the-line boarding
 Extended, premium helicopter flight route (Strip & Downtown)
 Complimentary champagne service
 Guaranteed front-row/window seats
 Luxury SUV or stretch limo transfer

Included
 Premium helicopter flight
 Private luxury transfer
 VIP lounge & priority boarding
 Champagne

Planning
 Tour Duration: 2 hours (hotel-to-hotel)
 Flight Duration: 2030 minutes
 Transportation: Luxury vehicle pick-up/drop-off (included)
  Arrive at lobby 15 minutes before pick-up

What to Bring
 I.D. (18+)
 Dress to impress!
 Camera or smartphone`,createdAt:new Date,updatedAt:new Date},{id:"4",name:"Luxury Grand Canyon Helicopter Excursion",model:"Bell 407",manufacturer:"Bell",capacity:6,pricePerHour:1500,images:[ih,Pg,wl,sh,_l,Tl],features:["Canyon Landing","Champagne","Scenic Flight","Picnic Option"],specifications:{maxSpeed:"140 mph",range:"330 nm",ceiling:"13,500 ft",engines:"1 x Rolls-Royce 250-C47B"},availability:!0,location:"Las Vegas",description:`Have you ever wondered what it's like to touch down deep in the Grand Canyon? Our Luxury Grand Canyon Helicopter Excursion whisks you from Las Vegas over the Hoover Dam, Lake Mead, and Mojave Desert before landing on a private plateau 3,200 feet below the canyon rim. Celebrate with a champagne toast and an optional gourmet picnic, surrounded by breathtaking views of ancient rock formations and the Colorado River.

Departing From: Las Vegas Strip
Destination: Grand Canyon West (Landing)
Duration: Approximately 4 to 4 hours from hotel pick-up to drop-off
Product Code: GCH-LUX

Tour Highlights
 Scenic flight over Hoover Dam, Lake Mead, and the Grand Canyon
 Canyon landing 3,200 feet below the rim
 Champagne toast and optional gourmet picnic at the canyon
 Photo time among ancient rock formations and the Colorado River
 Luxury limo transfer and VIP service

Included
 Helicopter flight (Vegas to Grand Canyon & back)
 Canyon landing
 Champagne
 Limo transfers

Planning
 Tour Duration: 44.5 hours (hotel-to-hotel)
 Flight Duration: 7090 minutes total
 Ground Time: ~30 minutes at canyon
 Transportation: Limo pick-up from most major hotels (included)
  Guests ready 15 minutes before pick-up
  Self-drive option available (arrive 45 minutes before departure)

What to Bring
 I.D. (18+)
 Camera or smartphone (no selfie sticks or poles)
 Bottle of water
 Sunglasses, sunblock, and hat
 Layered clothing (MarchSeptember); warm clothes (OctoberMarch)
 Sturdy, toe-covering shoes (sneakers/hiking boots recommended)`,createdAt:new Date,updatedAt:new Date},{id:"5",name:"Helicopter Proposal Package",model:"Airbus H130",manufacturer:"Airbus",capacity:2,pricePerHour:1800,images:[mA,Tl,_l,oh,El,bl],features:["Private Flight","Proposal Sign","Photographer","Celebration"],specifications:{maxSpeed:"165 mph",range:"400 nm",ceiling:"14,500 ft",engines:"1 x Pratt & Whitney PT6B-37A"},availability:!0,location:"Las Vegas",description:`Have you ever dreamed of proposing in the most unforgettable way possible? Our Helicopter Proposal Package makes your moment truly legendary.

Begin with a luxury limo ride and a private flight over Las Vegas or the Grand Canyon. At the perfect moment, spot a "Will You Marry Me?" sign on the groundtimed with your in-flight photographer to capture every emotion. Celebrate with roses, champagne, and the post-flight celebration you deserve.

Departing From: Las Vegas Strip
Destination: Las Vegas Strip or Grand Canyon
Duration: Approximately 2 to 2 hours from hotel pick-up to drop-off
Product Code: PROPOSE-VIP

Tour Highlights
 Private helicopter for two with VIP limo pick-up
 "Will You Marry Me?" sign revealed on the ground
 Professional in-flight photographer
 Champagne and roses for celebration
 Optional dinner reservation or custom cake

Included
 Private helicopter flight
 Limo transfer
 Proposal sign
 Photographer
 Champagne & roses

Planning
 Tour Duration: 22.5 hours (hotel-to-hotel)
 Flight Duration: 1230 minutes (choice of route)
 Transportation: Limo pick-up (included)
  Arrive in hotel lobby 1015 minutes prior

What to Bring
 The engagement ring!
 Camera/smartphone (for your own memories)
 Special outfit for photos`,createdAt:new Date,updatedAt:new Date},{id:"6",name:"Anniversary & Honeymoon Celebration Tour",model:"Airbus H145",manufacturer:"Airbus",capacity:4,pricePerHour:2e3,images:[El,bl,Sl,lh,Sg,Ig],features:["Roses & Cake","Bubbly","Playlist","VIP Limo"],specifications:{maxSpeed:"175 mph",range:"351 nm",ceiling:"17,000 ft",engines:"2 x Safran Arriel 2E"},availability:!0,location:"Las Vegas",description:`Have you ever wanted to celebrate your love high above the lights of Las Vegas? Our Anniversary & Honeymoon Celebration Tour brings romance to new heights.

Your evening begins with a luxury limo and VIP lounge welcome, followed by a private flight over the Strip or Grand Canyon. On board, you'll find roses, a gourmet cake or desserts, bubbly, and your own custom playlist. Optional in-flight video or photography ensures every magical moment is yours to keep.

Departing From: Las Vegas Strip
Destination: Las Vegas Strip or Grand Canyon
Duration: Approximately 2 to 3 hours from hotel pick-up to drop-off
Product Code: CELEBRATE-LOVE

Tour Highlights
 Private helicopter tour with celebration kit: roses, cake/dessert, bubbly
 Custom music playlist for your special occasion
 Luxury limo round-trip and VIP welcome
 Optional in-flight video or professional photographer

Included
 Limo transfers
 Private helicopter flight
 Celebration kit (roses, cake, bubbly)
 Playlist option

Planning
 Tour Duration: 23 hours (hotel-to-hotel)
 Flight Duration: 1230 minutes
 Transportation: Private limo pick-up (included)
  Ready 10 minutes before pick-up

What to Bring
 Valid I.D. (18+)
 Song list (optional)
 Camera/smartphone
 Romantic/celebratory attire`,createdAt:new Date,updatedAt:new Date}],f8=[{icon:dA,name:"Safety Certified",description:"FAA certified with perfect safety record"},{icon:a8,name:"WiFi Available",description:"Stay connected during your flight"},{icon:B$,name:"Refreshments",description:"Complimentary beverages and snacks"},{icon:U$,name:"Photo Service",description:"Professional aerial photography available"}],p8=[{id:1,name:"Sarah Johnson",rating:5,date:"2024-01-15",comment:"Absolutely incredible experience! The pilot was professional and the views were breathtaking. Highly recommend for special occasions.",avatar:"https://images.pexels.com/photos/3763188/pexels-photo-3763188.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:2,name:"Michael Chen",rating:5,date:"2024-01-10",comment:"Perfect for our business meeting transport. Punctual, comfortable, and impressive. Will definitely book again.",avatar:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150"}],m8=()=>{const{id:t}=Ah(),e=Kn(),[n,r]=C.useState(null),[s,i]=C.useState(!0),[o,a]=C.useState(0),[c,d]=C.useState(""),[h,f]=C.useState(!1);if(C.useEffect(()=>{n&&window.fbq&&window.fbq("track","Lead",{content_name:n.name,content_type:"helicopter",content_ids:[n.id]})},[n]),C.useEffect(()=>{i(!0),setTimeout(()=>{const g=Ng.find(w=>w.id===t)||null;r(g),i(!1)},500)},[t]),s)return l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx(Rs,{size:"lg"})});if(!n)return l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-navy-900 mb-4",children:"Helicopter Not Found"}),l.jsx(ke,{to:"/helicopters",children:l.jsx(xe,{variant:"primary",children:"Back to Fleet"})})]})});const p=g=>{if(g&&g.preventDefault(),!c){alert("Please select a flight date");return}window.fbq&&window.fbq("track","Purchase",{value:n.pricePerHour,currency:"USD",content_name:n.name,content_type:"helicopter",content_ids:[n.id]});const w=new URLSearchParams({date:c,passengers:"1"});e(`/booking/${n.id}?${w.toString()}`)};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[l.jsx(ke,{to:"/",className:"text-navy-600 hover:text-gold-600",children:"Home"}),l.jsx("span",{className:"text-gray-400",children:"/"}),l.jsx(ke,{to:"/helicopters",className:"text-navy-600 hover:text-gold-600",children:"Fleet"}),l.jsx("span",{className:"text-gray-400",children:"/"}),l.jsx("span",{className:"text-navy-900 font-medium",children:n.name})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs(ke,{to:"/helicopters",className:"inline-flex items-center text-navy-600 hover:text-gold-600 mb-6",children:[l.jsx(Hv,{className:"w-4 h-4 mr-2"}),"Back to Fleet"]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-8",children:[l.jsxs("div",{className:"relative",children:[l.jsx(ae.img,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},src:n.images[o],alt:n.name,className:"w-full h-96 object-cover"},o),l.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[l.jsx("button",{onClick:()=>f(!h),className:`p-2 rounded-full backdrop-blur-sm transition-colors duration-200 ${h?"bg-red-500 text-white":"bg-white/80 text-navy-700 hover:bg-white"}`,children:l.jsx(Gv,{className:`w-5 h-5 ${h?"fill-current":""}`})}),l.jsx("button",{className:"p-2 rounded-full bg-white/80 text-navy-700 hover:bg-white backdrop-blur-sm transition-colors duration-200",children:l.jsx(n8,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"absolute top-4 left-4",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${n.availability?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.availability?"Available":"Booked"})})]}),l.jsx("div",{className:"p-4",children:l.jsx("div",{className:"grid grid-cols-4 gap-2",children:n.images.map((g,w)=>l.jsx("button",{onClick:()=>a(w),className:`relative rounded-lg overflow-hidden aspect-square ${o===w?"ring-2 ring-gold-500":""}`,children:l.jsx("img",{src:g,alt:`${n.name} view ${w+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-200"})},w))})})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:[l.jsxs("div",{className:"flex items-start justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-display font-bold text-navy-900 mb-2",children:n.name}),l.jsxs("p",{className:"text-xl text-navy-600",children:[n.model,"  ",n.manufacturer]}),l.jsxs("div",{className:"flex items-center mt-2",children:[l.jsx(Ac,{className:"w-5 h-5 text-navy-400 mr-2"}),l.jsx("span",{className:"text-navy-600",children:n.location})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[[...Array(5)].map((g,w)=>l.jsx(bg,{className:"w-5 h-5 text-gold-400 fill-current"},w)),l.jsx("span",{className:"ml-2 text-sm text-navy-600",children:"(24 reviews)"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Cc,{className:"w-5 h-5 text-navy-400 mr-2"}),l.jsxs("span",{className:"text-navy-600",children:["Up to ",n.capacity," passengers"]})]})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-2xl font-semibold text-navy-900 mb-4",children:"Package Includes"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:n.features.map((g,w)=>l.jsxs("div",{className:"flex items-center bg-navy-50 rounded-lg p-3",children:[l.jsx(cr,{className:"w-5 h-5 text-green-500 mr-2"}),l.jsx("span",{className:"text-navy-700 font-medium",children:g})]},w))})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-2xl font-semibold text-navy-900 mb-4",children:"Experience Description"}),l.jsx("div",{className:"prose prose-lg max-w-none",children:n.description.split(`
`).map((g,w)=>l.jsx("p",{className:"text-navy-600 mb-4 leading-relaxed",children:g},w))})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-2xl font-semibold text-navy-900 mb-4",children:"Aircraft Specifications"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-navy-50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-navy-900 mb-2",children:"Max Speed"}),l.jsx("p",{className:"text-navy-600",children:n.specifications.maxSpeed})]}),l.jsxs("div",{className:"bg-navy-50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-navy-900 mb-2",children:"Range"}),l.jsx("p",{className:"text-navy-600",children:n.specifications.range})]}),l.jsxs("div",{className:"bg-navy-50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-navy-900 mb-2",children:"Ceiling"}),l.jsx("p",{className:"text-navy-600",children:n.specifications.ceiling})]}),l.jsxs("div",{className:"bg-navy-50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-navy-900 mb-2",children:"Engines"}),l.jsx("p",{className:"text-navy-600",children:n.specifications.engines})]})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-2xl font-semibold text-navy-900 mb-4",children:"Amenities"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f8.map((g,w)=>l.jsxs("div",{className:"flex items-start bg-navy-50 rounded-lg p-4",children:[l.jsx(g.icon,{className:"w-6 h-6 text-gold-500 mr-3 mt-1"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-navy-900",children:g.name}),l.jsx("p",{className:"text-navy-600",children:g.description})]})]},w))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-semibold text-navy-900 mb-4",children:"Customer Reviews"}),l.jsx("div",{className:"space-y-4",children:p8.map(g=>l.jsx("div",{className:"border border-navy-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("img",{src:g.avatar,alt:g.name,className:"w-12 h-12 rounded-full object-cover"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h4",{className:"font-semibold text-navy-900",children:g.name}),l.jsx("span",{className:"text-sm text-navy-500",children:g.date})]}),l.jsx("div",{className:"flex items-center mb-2",children:[...Array(g.rating)].map((w,E)=>l.jsx(bg,{className:"w-4 h-4 text-gold-400 fill-current"},E))}),l.jsx("p",{className:"text-navy-600",children:g.comment})]})]})},g.id))})]})]})]}),l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-24",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"inline-block bg-gradient-to-br from-gold-400 to-gold-600 rounded-xl px-8 py-6 shadow-lg mb-2",children:l.jsxs("span",{className:"text-4xl font-extrabold text-white tracking-tight",children:["$",n.pricePerHour.toLocaleString()]})}),l.jsx("p",{className:"text-base text-navy-700 mt-2 font-semibold",children:"All-inclusive package price"})]}),l.jsxs("form",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-navy-700 mb-2",children:"Flight Date"}),l.jsx("input",{type:"date",value:c,onChange:g=>d(g.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent",min:new Date().toISOString().split("T")[0]})]}),l.jsx("div",{className:"border-t pt-4",children:l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-navy-600 font-semibold",children:"Package Price"}),l.jsxs("span",{className:"font-bold text-lg",children:["$",n.pricePerHour.toLocaleString()]})]})}),l.jsx(xe,{variant:"primary",size:"lg",className:"w-full",disabled:!n.availability||!c,onClick:p,children:n.availability?"Book Now":"Currently Unavailable"}),l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-xs text-navy-600",children:"Free cancellation up to 24 hours before flight"})})]}),l.jsxs("div",{className:"border-t mt-6 pt-6",children:[l.jsx("h4",{className:"font-semibold text-navy-900 mb-3",children:"Need Help?"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("a",{href:"tel:+1234567890",className:"flex items-center text-navy-600 hover:text-gold-600",children:[l.jsx(Bi,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"text-sm",children:"(234) 567-8900"})]}),l.jsxs("a",{href:"mailto:vanguardhelicopter@gmail.com",className:"flex items-center text-navy-600 hover:text-gold-600",children:[l.jsx(Ui,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"text-sm",children:"vanguardhelicopter@gmail.com"})]})]})]})]})})]})]})]})},q1=[{id:"1",title:"The Ultimate Guide to Helicopter Tours in New York City",slug:"ultimate-guide-helicopter-tours-nyc",excerpt:"Discover the best helicopter tour routes, optimal times to fly, and what to expect during your aerial adventure over the Big Apple.",content:"",author:"Sarah Mitchell",publishedDate:new Date("2024-01-15"),featuredImage:"https://images.pexels.com/photos/1426718/pexels-photo-1426718.jpeg?auto=compress&cs=tinysrgb&w=800",categories:["Tours","New York"],tags:["helicopter tours","NYC","sightseeing","aerial photography"],published:!0,readTime:8,createdAt:new Date,updatedAt:new Date},{id:"2",title:"Safety First: Understanding Helicopter Safety Standards",slug:"helicopter-safety-standards-guide",excerpt:"Learn about the rigorous safety protocols, maintenance standards, and pilot certifications that ensure your helicopter experience is both thrilling and secure.",content:"",author:"Captain Mike Johnson",publishedDate:new Date("2024-01-12"),featuredImage:"https://images.pexels.com/photos/2026324/pexels-photo-2026324.jpeg?auto=compress&cs=tinysrgb&w=800",categories:["Safety","Education"],tags:["safety","maintenance","pilot training","regulations"],published:!0,readTime:6,createdAt:new Date,updatedAt:new Date},{id:"3",title:"Planning the Perfect Proposal: Helicopter Romance Ideas",slug:"perfect-helicopter-proposal-ideas",excerpt:"Make your proposal unforgettable with these romantic helicopter experience ideas, from sunset flights to custom routes over meaningful locations.",content:"",author:"Emily Rodriguez",publishedDate:new Date("2024-01-10"),featuredImage:"https://images.pexels.com/photos/1426718/pexels-photo-1426718.jpeg?auto=compress&cs=tinysrgb&w=800",categories:["Romance","Special Events"],tags:["proposals","romance","special occasions","sunset flights"],published:!0,readTime:5,createdAt:new Date,updatedAt:new Date},{id:"4",title:"Business Aviation: Why Executives Choose Helicopter Travel",slug:"business-aviation-executive-helicopter-travel",excerpt:"Explore how helicopter travel is revolutionizing business transportation, offering time efficiency and exclusive access for corporate executives.",content:"",author:"David Chen",publishedDate:new Date("2024-01-08"),featuredImage:"https://images.pexels.com/photos/2026324/pexels-photo-2026324.jpeg?auto=compress&cs=tinysrgb&w=800",categories:["Business","Executive Travel"],tags:["business travel","executives","time efficiency","corporate"],published:!0,readTime:7,createdAt:new Date,updatedAt:new Date},{id:"5",title:"Aerial Photography Tips for Your Helicopter Flight",slug:"aerial-photography-tips-helicopter-flight",excerpt:"Capture stunning aerial photographs during your helicopter tour with these professional tips on camera settings, composition, and timing.",content:"",author:"Alex Thompson",publishedDate:new Date("2024-01-05"),featuredImage:"https://images.pexels.com/photos/1426718/pexels-photo-1426718.jpeg?auto=compress&cs=tinysrgb&w=800",categories:["Photography","Tips"],tags:["aerial photography","camera tips","composition","helicopter tours"],published:!0,readTime:9,createdAt:new Date,updatedAt:new Date},{id:"6",title:"Seasonal Flying: Best Times for Helicopter Tours",slug:"seasonal-flying-best-times-helicopter-tours",excerpt:"Discover the optimal seasons and weather conditions for helicopter tours, including what to expect during different times of the year.",content:"",author:"Maria Santos",publishedDate:new Date("2024-01-03"),featuredImage:"https://images.pexels.com/photos/2026324/pexels-photo-2026324.jpeg?auto=compress&cs=tinysrgb&w=800",categories:["Seasonal","Planning"],tags:["seasonal flying","weather","tour planning","best times"],published:!0,readTime:6,createdAt:new Date,updatedAt:new Date}],g8=["All","Tours","Safety","Business","Romance","Photography","Planning"],y8=()=>{const[t,e]=C.useState([]),[n,r]=C.useState([]),[s,i]=C.useState(!0),[o,a]=C.useState(""),[c,d]=C.useState("All");return C.useEffect(()=>{setTimeout(()=>{e(q1),r(q1),i(!1)},1e3)},[]),C.useEffect(()=>{let h=t.filter(f=>{const p=f.title.toLowerCase().includes(o.toLowerCase())||f.excerpt.toLowerCase().includes(o.toLowerCase())||f.tags.some(w=>w.toLowerCase().includes(o.toLowerCase())),g=c==="All"||f.categories.includes(c);return p&&g});r(h)},[t,o,c]),s?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx(Rs,{size:"lg"})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsxs("section",{className:"relative bg-navy-900 text-white py-20",children:[l.jsx("div",{className:"absolute inset-0 opacity-20",children:l.jsx("img",{src:"https://images.pexels.com/photos/1426718/pexels-photo-1426718.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Helicopter in flight",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx(ae.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-5xl md:text-6xl font-display font-bold mb-6",children:"Aviation Insights"}),l.jsx(ae.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-xl md:text-2xl text-gray-300 max-w-2xl mx-auto",children:"Expert insights, safety tips, and inspiring stories from the world of luxury helicopter travel"})]})]}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:l.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Eg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search articles...",value:o,onChange:h=>a(h.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gold-500 focus:border-transparent"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:g8.map(h=>l.jsx("button",{onClick:()=>d(h),className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${c===h?"bg-gold-500 text-white":"bg-gray-100 text-navy-700 hover:bg-gold-100"}`,children:h},h))})]})}),l.jsx("div",{className:"mb-8",children:l.jsxs("p",{className:"text-gray-600",children:["Showing ",n.length," of ",t.length," articles",c!=="All"&&` in "${c}"`]})}),n.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Eg,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No articles found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search terms or browse all categories"}),l.jsx(xe,{onClick:()=>{a(""),d("All")},variant:"outline",children:"Clear Filters"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((h,f)=>l.jsxs(ae.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:f*.1},className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 group",children:[l.jsxs("div",{className:"relative overflow-hidden",children:[l.jsx(ae.img,{whileHover:{scale:1.05},transition:{duration:.3},src:h.featuredImage,alt:h.title,className:"w-full h-48 object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"flex flex-wrap gap-1",children:h.categories.slice(0,2).map((p,g)=>l.jsx("span",{className:"px-2 py-1 bg-gold-100 text-gold-700 text-xs rounded-md font-medium",children:p},g))}),l.jsxs("div",{className:"flex items-center text-gray-500 text-xs",children:[l.jsx(ea,{className:"w-3 h-3 mr-1"}),h.readTime," min read"]})]}),l.jsx("h2",{className:"text-xl font-bold text-navy-900 mb-3 line-clamp-2 group-hover:text-gold-600 transition-colors duration-200",children:l.jsx(ke,{to:`/blog/${h.slug}`,children:h.title})}),l.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:h.excerpt}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(sc,{className:"w-4 h-4 mr-1"}),h.author]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(da,{className:"w-4 h-4 mr-1"}),h.publishedDate.toLocaleDateString()]})]}),l.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:h.tags.slice(0,3).map((p,g)=>l.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-navy-50 text-navy-600 text-xs rounded-md",children:[l.jsx(hA,{className:"w-3 h-3 mr-1"}),p]},g))}),l.jsxs(ke,{to:`/blog/${h.slug}`,className:"inline-flex items-center text-gold-600 hover:text-gold-700 font-medium text-sm group-hover:translate-x-1 transition-transform duration-200",children:["Read More",l.jsx(Wv,{className:"w-4 h-4 ml-1"})]})]})]},h.id))}),n.length>0&&n.length>=6&&l.jsx("div",{className:"text-center mt-12",children:l.jsx(xe,{variant:"outline",size:"lg",children:"Load More Articles"})})]}),l.jsx("section",{className:"bg-navy-900 text-white py-16",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:l.jsxs(ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold mb-4",children:"Stay Updated"}),l.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Subscribe to our newsletter for the latest aviation insights, safety tips, and exclusive offers"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[l.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-3 rounded-lg text-navy-900 focus:ring-2 focus:ring-gold-500 focus:outline-none"}),l.jsx(xe,{variant:"primary",size:"lg",children:"Subscribe"})]})]})})})]})},v8={id:"1",title:"The Ultimate Guide to Helicopter Tours in New York City",slug:"ultimate-guide-helicopter-tours-nyc",excerpt:"Discover the best helicopter tour routes, optimal times to fly, and what to expect during your aerial adventure over the Big Apple.",content:`
    <p>New York City from the air is a sight that never fails to amaze. Whether you're a first-time visitor or a lifelong resident, seeing the Big Apple from a helicopter offers a completely new perspective on this incredible metropolis.</p>

    <h2>Best Routes for NYC Helicopter Tours</h2>
    <p>There are several popular routes that showcase the best of New York City from above:</p>

    <h3>The Classic Manhattan Tour</h3>
    <p>This route takes you over the most iconic landmarks including the Statue of Liberty, Ellis Island, and the Manhattan skyline. You'll get breathtaking views of the Empire State Building, One World Trade Center, and Central Park.</p>

    <h3>The Brooklyn Bridge Experience</h3>
    <p>Flying over the Brooklyn Bridge offers stunning views of both Manhattan and Brooklyn. This route is particularly beautiful during sunset when the city lights begin to twinkle.</p>

    <h3>The Central Park Circuit</h3>
    <p>Perfect for seeing the contrast between urban development and green space, this route showcases Central Park's 843 acres surrounded by towering skyscrapers.</p>

    <h2>Best Times to Fly</h2>
    <p>The timing of your helicopter tour can significantly impact your experience:</p>

    <ul>
      <li><strong>Golden Hour:</strong> The hour before sunset provides the most dramatic lighting and stunning photographs.</li>
      <li><strong>Clear Weather:</strong> Visibility is crucial for helicopter tours. Check weather conditions before booking.</li>
      <li><strong>Weekdays:</strong> Less air traffic means smoother flights and better photo opportunities.</li>
    </ul>

    <h2>What to Expect During Your Flight</h2>
    <p>Your helicopter tour experience begins with a safety briefing and continues with professional narration throughout the flight. Our experienced pilots provide interesting facts and point out landmarks as you soar above the city.</p>

    <h3>Safety First</h3>
    <p>All our helicopters undergo rigorous maintenance checks, and our pilots are certified professionals with thousands of flight hours. Your safety is our top priority.</p>

    <h3>Photography Tips</h3>
    <p>To capture the best photos during your tour:</p>
    <ul>
      <li>Use a fast shutter speed to avoid blur</li>
      <li>Shoot through open windows when possible</li>
      <li>Focus on composition and leading lines</li>
      <li>Don't forget to enjoy the moment, not just photograph it</li>
    </ul>

    <h2>Booking Your NYC Helicopter Tour</h2>
    <p>Ready to experience New York City from above? Our fleet of luxury helicopters is ready to provide you with an unforgettable aerial adventure. Contact us today to book your tour and see the city that never sleeps from a whole new perspective.</p>
  `,author:"Sarah Mitchell",publishedDate:new Date("2024-01-15"),featuredImage:"https://images.pexels.com/photos/1426718/pexels-photo-1426718.jpeg?auto=compress&cs=tinysrgb&w=1200",categories:["Tours","New York"],tags:["helicopter tours","NYC","sightseeing","aerial photography"],published:!0,readTime:8,createdAt:new Date,updatedAt:new Date},x8=[{id:"2",title:"Safety First: Understanding Helicopter Safety Standards",slug:"helicopter-safety-standards-guide",featuredImage:"https://images.pexels.com/photos/2026324/pexels-photo-2026324.jpeg?auto=compress&cs=tinysrgb&w=400",readTime:6},{id:"3",title:"Planning the Perfect Proposal: Helicopter Romance Ideas",slug:"perfect-helicopter-proposal-ideas",featuredImage:"https://images.pexels.com/photos/1426718/pexels-photo-1426718.jpeg?auto=compress&cs=tinysrgb&w=400",readTime:5}],w8=()=>{const{slug:t}=Ah(),[e,n]=C.useState(null),[r,s]=C.useState(!0),[i,o]=C.useState(!1),[a,c]=C.useState(42);C.useEffect(()=>{setTimeout(()=>{n(v8),s(!1)},1e3)},[t]);const d=()=>{o(!i),c(p=>i?p-1:p+1)},h=window.location.href,f=(e==null?void 0:e.title)||"";return r?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx(Rs,{size:"lg"})}):e?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[l.jsx(ke,{to:"/",className:"text-navy-600 hover:text-gold-600",children:"Home"}),l.jsx("span",{className:"text-gray-400",children:"/"}),l.jsx(ke,{to:"/blog",className:"text-navy-600 hover:text-gold-600",children:"Blog"}),l.jsx("span",{className:"text-gray-400",children:"/"}),l.jsx("span",{className:"text-navy-900 font-medium",children:e.title})]})})}),l.jsxs("article",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs(ke,{to:"/blog",className:"inline-flex items-center text-navy-600 hover:text-gold-600 mb-8",children:[l.jsx(Hv,{className:"w-4 h-4 mr-2"}),"Back to Blog"]}),l.jsxs("header",{className:"mb-8",children:[l.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.categories.map((p,g)=>l.jsx("span",{className:"px-3 py-1 bg-gold-100 text-gold-700 text-sm rounded-full font-medium",children:p},g))}),l.jsx(ae.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-4xl md:text-5xl font-display font-bold text-navy-900 mb-6",children:e.title}),l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"flex flex-wrap items-center gap-6 text-gray-600 mb-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(sc,{className:"w-4 h-4 mr-2"}),l.jsx("span",{children:e.author})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(da,{className:"w-4 h-4 mr-2"}),l.jsx("span",{children:e.publishedDate.toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(ea,{className:"w-4 h-4 mr-2"}),l.jsxs("span",{children:[e.readTime," min read"]})]})]}),l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"flex items-center justify-between border-b border-gray-200 pb-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:d,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors duration-200 ${i?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600 hover:bg-red-100 hover:text-red-600"}`,children:[l.jsx(Gv,{className:`w-4 h-4 ${i?"fill-current":""}`}),l.jsx("span",{children:a})]}),l.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-blue-100 hover:text-blue-600 transition-colors duration-200",children:[l.jsx(J$,{className:"w-4 h-4"}),l.jsx("span",{children:"12"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Share:"}),l.jsx("a",{href:`https://facebook.com/sharer/sharer.php?u=${h}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:l.jsx(uA,{className:"w-4 h-4"})}),l.jsx("a",{href:`https://twitter.com/intent/tweet?url=${h}&text=${f}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-blue-400 text-white rounded-lg hover:bg-blue-500 transition-colors duration-200",children:l.jsx(i8,{className:"w-4 h-4"})}),l.jsx("a",{href:`https://linkedin.com/sharing/share-offsite/?url=${h}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-blue-700 text-white rounded-lg hover:bg-blue-800 transition-colors duration-200",children:l.jsx(K$,{className:"w-4 h-4"})})]})]})]}),l.jsx(ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.6},className:"mb-8",children:l.jsx("img",{src:e.featuredImage,alt:e.title,className:"w-full h-96 object-cover rounded-2xl shadow-lg"})}),l.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"prose prose-lg max-w-none mb-12",dangerouslySetInnerHTML:{__html:e.content}}),l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},className:"border-t border-gray-200 pt-8 mb-12",children:[l.jsx("h3",{className:"text-lg font-semibold text-navy-900 mb-4",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((p,g)=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-navy-50 text-navy-600 text-sm rounded-lg hover:bg-navy-100 transition-colors duration-200 cursor-pointer",children:[l.jsx(hA,{className:"w-3 h-3 mr-1"}),p]},g))})]}),l.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.2},className:"bg-white rounded-2xl shadow-lg p-8 mb-12",children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gold-400 to-gold-600 rounded-full flex items-center justify-center",children:l.jsx(sc,{className:"w-8 h-8 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h3",{className:"text-xl font-bold text-navy-900 mb-2",children:["About ",e.author]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Sarah is an aviation enthusiast and experienced helicopter pilot with over 10 years in the industry. She specializes in luxury helicopter tours and has extensive knowledge of New York City's airspace and landmarks."}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx(xe,{variant:"outline",size:"sm",children:"View Profile"}),l.jsx(xe,{variant:"ghost",size:"sm",children:"Follow"})]})]})]})}),l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.4},children:[l.jsx("h3",{className:"text-2xl font-bold text-navy-900 mb-8",children:"Related Articles"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:x8.map((p,g)=>l.jsxs(ke,{to:`/blog/${p.slug}`,className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 group",children:[l.jsx("div",{className:"relative overflow-hidden",children:l.jsx(ae.img,{whileHover:{scale:1.05},transition:{duration:.3},src:p.featuredImage,alt:p.title,className:"w-full h-48 object-cover"})}),l.jsxs("div",{className:"p-6",children:[l.jsx("h4",{className:"text-lg font-bold text-navy-900 mb-2 group-hover:text-gold-600 transition-colors duration-200",children:p.title}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(ea,{className:"w-4 h-4 mr-1"}),p.readTime," min read"]})]})]},p.id))})]})]}),l.jsx("section",{className:"bg-navy-900 text-white py-16 mt-16",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:l.jsxs(ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold mb-4",children:"Ready to Experience NYC from Above?"}),l.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Book your helicopter tour today and see the city that never sleeps from a whole new perspective."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(ke,{to:"/helicopters",children:l.jsxs(xe,{size:"lg",className:"bg-gold-500 hover:bg-gold-600",children:["Book Your Tour",l.jsx(Wv,{className:"w-5 h-5 ml-2"})]})}),l.jsx(ke,{to:"/contact",children:l.jsx(xe,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-navy-900",children:"Contact Us"})})]})]})})})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-navy-900 mb-4",children:"Article Not Found"}),l.jsx(ke,{to:"/blog",children:l.jsx(xe,{variant:"primary",children:"Back to Blog"})})]})})},_8=[{id:"vegas-ride-dinner",icon:Gv,title:"Helicopter Ride & Dinner Package (Las Vegas)",description:"A luxury helicopter flight over the Las Vegas Strip followed by a gourmet dinner at a top-rated restaurant. Includes limo transfers, VIP seating, and optional champagne.",features:["Luxury limousine transfers","1012 minute Strip helicopter tour","Four-course dinner at Italian restaurant (The Venetian)","VIP check-in & lounge access","Reserved table & gourmet dinner","Optional champagne"],duration:"12-15 minutes (flight) + dinner",capacity:"2 people",startingPrice:829,image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=compress&w=800",popular:!0,details:{map:"Flight Route: Harry Reid International Airport  Las Vegas Strip  Downtown  Return",highlights:["Departure/Arrival: Harry Reid International Airport","Route: Up and down the entire Las Vegas Strip and Downtown","Landmarks: Bellagio Fountains, Caesars Palace, The Venetian, Paris Las Vegas, Wynn, The Mirage, Fremont Street, and more","Duration: Approx. 12-15 minutes"],why:"This signature route is designed to showcase the very best of Las Vegas, making it ideal for first-time visitors, special occasions, and anyone seeking unforgettable aerial views of the Entertainment Capital of the World."}}],T8=[{icon:dA,title:"Certified Pilots",description:"All our pilots are FAA certified with thousands of flight hours and regular training updates."},{icon:cr,title:"Maintenance Excellence",description:"Our aircraft undergo rigorous maintenance schedules exceeding industry standards."},{icon:cr,title:"Weather Monitoring",description:"Advanced weather tracking systems ensure optimal flight conditions for every journey."},{icon:cr,title:"Insurance Coverage",description:"Comprehensive insurance coverage for all passengers and aircraft operations."}],E8=[{name:"Jennifer Walsh",role:"Event Planner",content:"SkyLux made our client's wedding absolutely magical. The helicopter entrance was the highlight of the entire celebration!",rating:5,image:"https://images.pexels.com/photos/3763188/pexels-photo-3763188.jpeg?auto=compress&cs=tinysrgb&w=150"},{name:"Robert Kim",role:"Business Executive",content:"The efficiency and professionalism of their business travel service is unmatched. It's transformed how I handle my schedule.",rating:5,image:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150"},{name:"Lisa Martinez",role:"Photographer",content:"Their aerial photography service helped us capture stunning shots for our commercial project. Highly professional crew!",rating:5,image:"https://images.pexels.com/photos/3763188/pexels-photo-3763188.jpeg?auto=compress&cs=tinysrgb&w=150"}],b8=()=>l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsxs("section",{className:"relative bg-navy-900 text-white py-20",children:[l.jsx("div",{className:"absolute inset-0 opacity-30",children:l.jsx("img",{src:"https://images.pexels.com/photos/1426718/pexels-photo-1426718.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Helicopter services",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx(ae.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-5xl md:text-6xl font-display font-bold mb-6",children:"Premium Services"}),l.jsx(ae.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-xl md:text-2xl text-gray-300 max-w-2xl mx-auto",children:"Discover our comprehensive range of luxury helicopter services designed to exceed your expectations"})]})]}),l.jsx("section",{className:"py-20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-display font-bold text-navy-900 mb-4",children:"Our Services"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"From scenic tours to business travel, we offer tailored helicopter experiences for every occasion"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:_8.map((t,e)=>l.jsxs(ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:e*.1},viewport:{once:!0},className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 group relative",children:[t.popular&&l.jsx("div",{className:"absolute top-4 right-4 z-10",children:l.jsx("span",{className:"bg-gold-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Popular"})}),l.jsxs("div",{className:"relative overflow-hidden",children:[l.jsx(ae.img,{whileHover:{scale:1.05},transition:{duration:.3},src:t.image,alt:t.title,className:"w-full h-48 object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gold-100 rounded-lg flex items-center justify-center mr-4",children:l.jsx(t.icon,{className:"w-6 h-6 text-gold-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-navy-900",children:t.title}),l.jsxs("p",{className:"text-sm text-navy-600",children:["Starting from $",t.startingPrice]})]})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:t.description}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-navy-600 font-medium",children:"Duration:"}),l.jsx("p",{className:"text-gray-600",children:t.duration})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-navy-600 font-medium",children:"Capacity:"}),l.jsx("p",{className:"text-gray-600",children:t.capacity})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"font-semibold text-navy-900 mb-2",children:"Features:"}),l.jsx("ul",{className:"space-y-1",children:t.features.map((n,r)=>l.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(cr,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),n]},r))})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx(xe,{variant:"outline",size:"sm",className:"flex-1",children:"Learn More"}),l.jsx(ke,{to:"/helicopters",className:"flex-1",children:l.jsx(xe,{variant:"primary",size:"sm",className:"w-full",children:"Book Now"})})]})]})]},t.id))})]})}),l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-display font-bold text-navy-900 mb-4",children:"Safety & Excellence"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Your safety is our top priority. We maintain the highest standards in aviation safety and service excellence."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:T8.map((t,e)=>l.jsxs(ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:e*.1},viewport:{once:!0},className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gold-400 to-gold-600 rounded-2xl mx-auto mb-4 flex items-center justify-center",children:l.jsx(t.icon,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-bold text-navy-900 mb-2",children:t.title}),l.jsx("p",{className:"text-gray-600",children:t.description})]},e))})]})}),l.jsx("section",{className:"py-20 bg-navy-900 text-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-display font-bold mb-4",children:"Client Testimonials"}),l.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Hear what our satisfied clients have to say about their SkyLux experience"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:E8.map((t,e)=>l.jsxs(ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:e*.1},viewport:{once:!0},className:"bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-white/10",children:[l.jsx("div",{className:"flex items-center mb-4",children:[...Array(t.rating)].map((n,r)=>l.jsx("span",{className:"w-5 h-5 text-gold-400 fill-current inline-block",children:""},r))}),l.jsxs("p",{className:"text-gray-300 mb-6 italic",children:['"',t.content,'"']}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("img",{src:t.image,alt:t.name,className:"w-12 h-12 rounded-full object-cover mr-4"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold",children:t.name}),l.jsx("p",{className:"text-gold-400 text-sm",children:t.role})]})]})]},e))})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-gold-500 to-gold-600 text-white",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:l.jsxs(ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-display font-bold mb-6",children:"Ready to Experience Luxury?"}),l.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Contact our team to discuss your requirements and book your premium helicopter experience today."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l.jsx(ke,{to:"/helicopters",children:l.jsxs(xe,{size:"lg",className:"bg-white text-gold-600 hover:bg-gray-100",children:["View Our Fleet",l.jsx(Wv,{className:"w-5 h-5 ml-2"})]})}),l.jsx(ke,{to:"/contact",children:l.jsx(xe,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-gold-600",children:"Contact Us"})})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mt-8 text-sm",children:[l.jsxs("a",{href:"tel:+1234567890",className:"flex items-center hover:text-gold-200 transition-colors duration-200",children:[l.jsx(Bi,{className:"w-4 h-4 mr-2"}),"(234) 567-8900"]}),l.jsxs("a",{href:"mailto:vanguardhelicopter@gmail.com",className:"flex items-center hover:text-gold-200 transition-colors duration-200",children:[l.jsx(Ui,{className:"w-4 h-4 mr-2"}),"vanguardhelicopter@gmail.com"]})]})]})})})]});var kc=t=>t.type==="checkbox",ci=t=>t instanceof Date,qt=t=>t==null;const yA=t=>typeof t=="object";var st=t=>!qt(t)&&!Array.isArray(t)&&yA(t)&&!ci(t),S8=t=>st(t)&&t.target?kc(t.target)?t.target.checked:t.target.value:t,I8=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,P8=(t,e)=>t.has(I8(e)),N8=t=>{const e=t.constructor&&t.constructor.prototype;return st(e)&&e.hasOwnProperty("isPrototypeOf")},Kv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function We(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Kv&&(t instanceof Blob||r))&&(n||st(t)))if(e=n?[]:{},!n&&!N8(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=We(t[s]));else return t;return e}var of=t=>/^\w*$/.test(t),Ue=t=>t===void 0,af=t=>Array.isArray(t)?t.filter(Boolean):[],Qv=t=>af(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Y=(t,e,n)=>{if(!e||!st(t))return n;const r=(of(e)?[e]:Qv(e)).reduce((s,i)=>qt(s)?s:s[i],t);return Ue(r)||r===t?Ue(t[e])?n:t[e]:r},Jn=t=>typeof t=="boolean",Ve=(t,e,n)=>{let r=-1;const s=of(e)?[e]:Qv(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let c=n;if(r!==o){const d=t[a];c=st(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=c,t=t[a]}};const G1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},In={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vA=Z.createContext(null);vA.displayName="HookFormContext";const A8=()=>Z.useContext(vA);var C8=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==In.all&&(e._proxyFormState[o]=!r||In.all),t[o]}});return s};const xA=typeof window<"u"?C.useLayoutEffect:C.useEffect;var tr=t=>typeof t=="string",k8=(t,e,n,r,s)=>tr(t)?(r&&e.watch.add(t),Y(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),Y(n,i))):(r&&(e.watchAll=!0),n),j8=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},tn=t=>Array.isArray(t)?t:[t],K1=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Ag=t=>qt(t)||!yA(t);function as(t,e,n=new WeakSet){if(Ag(t)||Ag(e))return t===e;if(ci(t)&&ci(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const a=e[i];if(ci(o)&&ci(a)||st(o)&&st(a)||Array.isArray(o)&&Array.isArray(a)?!as(o,a,n):o!==a)return!1}}return!0}var Ht=t=>st(t)&&!Object.keys(t).length,Yv=t=>t.type==="file",Mn=t=>typeof t=="function",ch=t=>{if(!Kv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},wA=t=>t.type==="select-multiple",Xv=t=>t.type==="radio",R8=t=>Xv(t)||kc(t),Np=t=>ch(t)&&t.isConnected;function D8(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ue(t)?r++:t[e[r++]];return t}function V8(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ue(t[e]))return!1;return!0}function et(t,e){const n=Array.isArray(e)?e:of(e)?[e]:Qv(e),r=n.length===1?t:D8(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(st(r)&&Ht(r)||Array.isArray(r)&&V8(r))&&et(t,n.slice(0,-1)),t}var _A=t=>{for(const e in t)if(Mn(t[e]))return!0;return!1};function uh(t,e={}){const n=Array.isArray(t);if(st(t)||n)for(const r in t)Array.isArray(t[r])||st(t[r])&&!_A(t[r])?(e[r]=Array.isArray(t[r])?[]:{},uh(t[r],e[r])):qt(t[r])||(e[r]=!0);return e}function TA(t,e,n){const r=Array.isArray(t);if(st(t)||r)for(const s in t)Array.isArray(t[s])||st(t[s])&&!_A(t[s])?Ue(e)||Ag(n[s])?n[s]=Array.isArray(t[s])?uh(t[s],[]):{...uh(t[s])}:TA(t[s],qt(e)?{}:e[s],n[s]):n[s]=!as(t[s],e[s]);return n}var Ua=(t,e)=>TA(t,e,uh(e));const Q1={value:!1,isValid:!1},Y1={value:!0,isValid:!0};var EA=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ue(t[0].attributes.value)?Ue(t[0].value)||t[0].value===""?Y1:{value:t[0].value,isValid:!0}:Y1:Q1}return Q1},bA=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ue(t)?t:e?t===""?NaN:t&&+t:n&&tr(t)?new Date(t):r?r(t):t;const X1={isValid:!1,value:null};var SA=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,X1):X1;function J1(t){const e=t.ref;return Yv(e)?e.files:Xv(e)?SA(t.refs).value:wA(e)?[...e.selectedOptions].map(({value:n})=>n):kc(e)?EA(t.refs).value:bA(Ue(e.value)?t.ref.value:e.value,t)}var O8=(t,e,n,r)=>{const s={};for(const i of t){const o=Y(e,i);o&&Ve(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},dh=t=>t instanceof RegExp,Ba=t=>Ue(t)?t:dh(t)?t.source:st(t)?dh(t.value)?t.value.source:t.value:t,Eo=t=>({isOnSubmit:!t||t===In.onSubmit,isOnBlur:t===In.onBlur,isOnChange:t===In.onChange,isOnAll:t===In.all,isOnTouch:t===In.onTouched});const Z1="AsyncFunction";var L8=t=>!!t&&!!t.validate&&!!(Mn(t.validate)&&t.validate.constructor.name===Z1||st(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Z1)),M8=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Cg=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Vo=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=Y(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Vo(a,e))break}else if(st(a)&&Vo(a,e))break}}};function eT(t,e,n){const r=Y(t,n);if(r||of(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=Y(e,i),a=Y(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};s.pop()}return{name:n}}var F8=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Ht(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||In.all))},U8=(t,e,n)=>!t||!e||t===e||tn(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),B8=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,$8=(t,e)=>!af(Y(t,e)).length&&et(t,e),IA=(t,e,n)=>{const r=tn(Y(t,n));return Ve(r,"root",e[n]),Ve(t,n,r),t},Yu=t=>tr(t);function tT(t,e,n="validate"){if(Yu(t)||Array.isArray(t)&&t.every(Yu)||Jn(t)&&!t)return{type:n,message:Yu(t)?t:"",ref:e}}var eo=t=>st(t)&&!dh(t)?t:{value:t,message:""},kg=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:c,maxLength:d,minLength:h,min:f,max:p,pattern:g,validate:w,name:E,valueAsNumber:P,mount:S}=t._f,x=Y(n,E);if(!S||e.has(E))return{};const _=a?a[0]:o,R=k=>{s&&_.reportValidity&&(_.setCustomValidity(Jn(k)?"":k||""),_.reportValidity())},L={},V=Xv(o),T=kc(o),v=V||T,I=(P||Yv(o))&&Ue(o.value)&&Ue(x)||ch(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,A=j8.bind(null,E,r,L),j=(k,N,ne,re=xr.maxLength,fe=xr.minLength)=>{const ve=k?N:ne;L[E]={type:k?re:fe,message:ve,ref:o,...A(k?re:fe,ve)}};if(i?!Array.isArray(x)||!x.length:c&&(!v&&(I||qt(x))||Jn(x)&&!x||T&&!EA(a).isValid||V&&!SA(a).isValid)){const{value:k,message:N}=Yu(c)?{value:!!c,message:c}:eo(c);if(k&&(L[E]={type:xr.required,message:N,ref:_,...A(xr.required,N)},!r))return R(N),L}if(!I&&(!qt(f)||!qt(p))){let k,N;const ne=eo(p),re=eo(f);if(!qt(x)&&!isNaN(x)){const fe=o.valueAsNumber||x&&+x;qt(ne.value)||(k=fe>ne.value),qt(re.value)||(N=fe<re.value)}else{const fe=o.valueAsDate||new Date(x),ve=ie=>new Date(new Date().toDateString()+" "+ie),W=o.type=="time",ee=o.type=="week";tr(ne.value)&&x&&(k=W?ve(x)>ve(ne.value):ee?x>ne.value:fe>new Date(ne.value)),tr(re.value)&&x&&(N=W?ve(x)<ve(re.value):ee?x<re.value:fe<new Date(re.value))}if((k||N)&&(j(!!k,ne.message,re.message,xr.max,xr.min),!r))return R(L[E].message),L}if((d||h)&&!I&&(tr(x)||i&&Array.isArray(x))){const k=eo(d),N=eo(h),ne=!qt(k.value)&&x.length>+k.value,re=!qt(N.value)&&x.length<+N.value;if((ne||re)&&(j(ne,k.message,N.message),!r))return R(L[E].message),L}if(g&&!I&&tr(x)){const{value:k,message:N}=eo(g);if(dh(k)&&!x.match(k)&&(L[E]={type:xr.pattern,message:N,ref:o,...A(xr.pattern,N)},!r))return R(N),L}if(w){if(Mn(w)){const k=await w(x,n),N=tT(k,_);if(N&&(L[E]={...N,...A(xr.validate,N.message)},!r))return R(N.message),L}else if(st(w)){let k={};for(const N in w){if(!Ht(k)&&!r)break;const ne=tT(await w[N](x,n),_,N);ne&&(k={...ne,...A(N,ne.message)},R(ne.message),r&&(L[E]=k))}if(!Ht(k)&&(L[E]={ref:_,...k},!r))return L}}return R(!0),L};const z8={mode:In.onSubmit,reValidateMode:In.onChange,shouldFocusError:!0};function H8(t={}){let e={...z8,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Mn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=st(e.defaultValues)||st(e.values)?We(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:We(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...h};const p={array:K1(),state:K1()},g=e.criteriaMode===In.all,w=D=>M=>{clearTimeout(d),d=setTimeout(D,M)},E=async D=>{if(!e.disabled&&(h.isValid||f.isValid||D)){const M=e.resolver?Ht((await T()).errors):await I(r,!0);M!==n.isValid&&p.state.next({isValid:M})}},P=(D,M)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((D||Array.from(a.mount)).forEach(U=>{U&&(M?Ve(n.validatingFields,U,M):et(n.validatingFields,U))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Ht(n.validatingFields)}))},S=(D,M=[],U,Q,G=!0,H=!0)=>{if(Q&&U&&!e.disabled){if(o.action=!0,H&&Array.isArray(Y(r,D))){const K=U(Y(r,D),Q.argA,Q.argB);G&&Ve(r,D,K)}if(H&&Array.isArray(Y(n.errors,D))){const K=U(Y(n.errors,D),Q.argA,Q.argB);G&&Ve(n.errors,D,K),$8(n.errors,D)}if((h.touchedFields||f.touchedFields)&&H&&Array.isArray(Y(n.touchedFields,D))){const K=U(Y(n.touchedFields,D),Q.argA,Q.argB);G&&Ve(n.touchedFields,D,K)}(h.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Ua(s,i)),p.state.next({name:D,isDirty:j(D,M),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ve(i,D,M)},x=(D,M)=>{Ve(n.errors,D,M),p.state.next({errors:n.errors})},_=D=>{n.errors=D,p.state.next({errors:n.errors,isValid:!1})},R=(D,M,U,Q)=>{const G=Y(r,D);if(G){const H=Y(i,D,Ue(U)?Y(s,D):U);Ue(H)||Q&&Q.defaultChecked||M?Ve(i,D,M?H:J1(G._f)):ne(D,H),o.mount&&E()}},L=(D,M,U,Q,G)=>{let H=!1,K=!1;const ce={name:D};if(!e.disabled){if(!U||Q){(h.isDirty||f.isDirty)&&(K=n.isDirty,n.isDirty=ce.isDirty=j(),H=K!==ce.isDirty);const Ae=as(Y(s,D),M);K=!!Y(n.dirtyFields,D),Ae?et(n.dirtyFields,D):Ve(n.dirtyFields,D,!0),ce.dirtyFields=n.dirtyFields,H=H||(h.dirtyFields||f.dirtyFields)&&K!==!Ae}if(U){const Ae=Y(n.touchedFields,D);Ae||(Ve(n.touchedFields,D,U),ce.touchedFields=n.touchedFields,H=H||(h.touchedFields||f.touchedFields)&&Ae!==U)}H&&G&&p.state.next(ce)}return H?ce:{}},V=(D,M,U,Q)=>{const G=Y(n.errors,D),H=(h.isValid||f.isValid)&&Jn(M)&&n.isValid!==M;if(e.delayError&&U?(c=w(()=>x(D,U)),c(e.delayError)):(clearTimeout(d),c=null,U?Ve(n.errors,D,U):et(n.errors,D)),(U?!as(G,U):G)||!Ht(Q)||H){const K={...Q,...H&&Jn(M)?{isValid:M}:{},errors:n.errors,name:D};n={...n,...K},p.state.next(K)}},T=async D=>{P(D,!0);const M=await e.resolver(i,e.context,O8(D||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return P(D),M},v=async D=>{const{errors:M}=await T(D);if(D)for(const U of D){const Q=Y(M,U);Q?Ve(n.errors,U,Q):et(n.errors,U)}else n.errors=M;return M},I=async(D,M,U={valid:!0})=>{for(const Q in D){const G=D[Q];if(G){const{_f:H,...K}=G;if(H){const ce=a.array.has(H.name),Ae=G._f&&L8(G._f);Ae&&h.validatingFields&&P([Q],!0);const Bt=await kg(G,a.disabled,i,g,e.shouldUseNativeValidation&&!M,ce);if(Ae&&h.validatingFields&&P([Q]),Bt[H.name]&&(U.valid=!1,M))break;!M&&(Y(Bt,H.name)?ce?IA(n.errors,Bt,H.name):Ve(n.errors,H.name,Bt[H.name]):et(n.errors,H.name))}!Ht(K)&&await I(K,M,U)}}return U.valid},A=()=>{for(const D of a.unMount){const M=Y(r,D);M&&(M._f.refs?M._f.refs.every(U=>!Np(U)):!Np(M._f.ref))&&Nt(D)}a.unMount=new Set},j=(D,M)=>!e.disabled&&(D&&M&&Ve(i,D,M),!as(ie(),s)),k=(D,M,U)=>k8(D,a,{...o.mount?i:Ue(M)?s:tr(D)?{[D]:M}:M},U,M),N=D=>af(Y(o.mount?i:s,D,e.shouldUnregister?Y(s,D,[]):[])),ne=(D,M,U={})=>{const Q=Y(r,D);let G=M;if(Q){const H=Q._f;H&&(!H.disabled&&Ve(i,D,bA(M,H)),G=ch(H.ref)&&qt(M)?"":M,wA(H.ref)?[...H.ref.options].forEach(K=>K.selected=G.includes(K.value)):H.refs?kc(H.ref)?H.refs.forEach(K=>{(!K.defaultChecked||!K.disabled)&&(Array.isArray(G)?K.checked=!!G.find(ce=>ce===K.value):K.checked=G===K.value||!!G)}):H.refs.forEach(K=>K.checked=K.value===G):Yv(H.ref)?H.ref.value="":(H.ref.value=G,H.ref.type||p.state.next({name:D,values:We(i)})))}(U.shouldDirty||U.shouldTouch)&&L(D,G,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&ee(D)},re=(D,M,U)=>{for(const Q in M){if(!M.hasOwnProperty(Q))return;const G=M[Q],H=D+"."+Q,K=Y(r,H);(a.array.has(D)||st(G)||K&&!K._f)&&!ci(G)?re(H,G,U):ne(H,G,U)}},fe=(D,M,U={})=>{const Q=Y(r,D),G=a.array.has(D),H=We(M);Ve(i,D,H),G?(p.array.next({name:D,values:We(i)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&U.shouldDirty&&p.state.next({name:D,dirtyFields:Ua(s,i),isDirty:j(D,H)})):Q&&!Q._f&&!qt(H)?re(D,H,U):ne(D,H,U),Cg(D,a)&&p.state.next({...n}),p.state.next({name:o.mount?D:void 0,values:We(i)})},ve=async D=>{o.mount=!0;const M=D.target;let U=M.name,Q=!0;const G=Y(r,U),H=Ae=>{Q=Number.isNaN(Ae)||ci(Ae)&&isNaN(Ae.getTime())||as(Ae,Y(i,U,Ae))},K=Eo(e.mode),ce=Eo(e.reValidateMode);if(G){let Ae,Bt;const zs=M.type?J1(G._f):S8(D),Qn=D.type===G1.BLUR||D.type===G1.FOCUS_OUT,Hs=!M8(G._f)&&!e.resolver&&!Y(n.errors,U)&&!G._f.deps||B8(Qn,Y(n.touchedFields,U),n.isSubmitted,ce,K),Wi=Cg(U,a,Qn);Ve(i,U,zs),Qn?(G._f.onBlur&&G._f.onBlur(D),c&&c(0)):G._f.onChange&&G._f.onChange(D);const qi=L(U,zs,Qn),pa=!Ht(qi)||Wi;if(!Qn&&p.state.next({name:U,type:D.type,values:We(i)}),Hs)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?Qn&&E():Qn||E()),pa&&p.state.next({name:U,...Wi?{}:qi});if(!Qn&&Wi&&p.state.next({...n}),e.resolver){const{errors:Rc}=await T([U]);if(H(zs),Q){const df=eT(n.errors,r,U),Gi=eT(Rc,r,df.name||U);Ae=Gi.error,U=Gi.name,Bt=Ht(Rc)}}else P([U],!0),Ae=(await kg(G,a.disabled,i,g,e.shouldUseNativeValidation))[U],P([U]),H(zs),Q&&(Ae?Bt=!1:(h.isValid||f.isValid)&&(Bt=await I(r,!0)));Q&&(G._f.deps&&ee(G._f.deps),V(U,Bt,Ae,qi))}},W=(D,M)=>{if(Y(n.errors,M)&&D.focus)return D.focus(),1},ee=async(D,M={})=>{let U,Q;const G=tn(D);if(e.resolver){const H=await v(Ue(D)?D:G);U=Ht(H),Q=D?!G.some(K=>Y(H,K)):U}else D?(Q=(await Promise.all(G.map(async H=>{const K=Y(r,H);return await I(K&&K._f?{[H]:K}:K)}))).every(Boolean),!(!Q&&!n.isValid)&&E()):Q=U=await I(r);return p.state.next({...!tr(D)||(h.isValid||f.isValid)&&U!==n.isValid?{}:{name:D},...e.resolver||!D?{isValid:U}:{},errors:n.errors}),M.shouldFocus&&!Q&&Vo(r,W,D?G:a.mount),Q},ie=D=>{const M={...o.mount?i:s};return Ue(D)?M:tr(D)?Y(M,D):D.map(U=>Y(M,U))},X=(D,M)=>({invalid:!!Y((M||n).errors,D),isDirty:!!Y((M||n).dirtyFields,D),error:Y((M||n).errors,D),isValidating:!!Y(n.validatingFields,D),isTouched:!!Y((M||n).touchedFields,D)}),we=D=>{D&&tn(D).forEach(M=>et(n.errors,M)),p.state.next({errors:D?n.errors:{}})},Ce=(D,M,U)=>{const Q=(Y(r,D,{_f:{}})._f||{}).ref,G=Y(n.errors,D)||{},{ref:H,message:K,type:ce,...Ae}=G;Ve(n.errors,D,{...Ae,...M,ref:Q}),p.state.next({name:D,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&Q&&Q.focus&&Q.focus()},Yt=(D,M)=>Mn(D)?p.state.subscribe({next:U=>D(k(void 0,M),U)}):k(D,M,!0),Ut=D=>p.state.subscribe({next:M=>{U8(D.name,M.name,D.exact)&&F8(M,D.formState||h,uf,D.reRenderRoot)&&D.callback({values:{...i},...n,...M})}}).unsubscribe,xt=D=>(o.mount=!0,f={...f,...D.formState},Ut({...D,formState:f})),Nt=(D,M={})=>{for(const U of D?tn(D):a.mount)a.mount.delete(U),a.array.delete(U),M.keepValue||(et(r,U),et(i,U)),!M.keepError&&et(n.errors,U),!M.keepDirty&&et(n.dirtyFields,U),!M.keepTouched&&et(n.touchedFields,U),!M.keepIsValidating&&et(n.validatingFields,U),!e.shouldUnregister&&!M.keepDefaultValue&&et(s,U);p.state.next({values:We(i)}),p.state.next({...n,...M.keepDirty?{isDirty:j()}:{}}),!M.keepIsValid&&E()},$i=({disabled:D,name:M})=>{(Jn(D)&&o.mount||D||a.disabled.has(M))&&(D?a.disabled.add(M):a.disabled.delete(M))},pr=(D,M={})=>{let U=Y(r,D);const Q=Jn(M.disabled)||Jn(e.disabled);return Ve(r,D,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:D}},name:D,mount:!0,...M}}),a.mount.add(D),U?$i({disabled:Jn(M.disabled)?M.disabled:e.disabled,name:D}):R(D,!0,M.value),{...Q?{disabled:M.disabled||e.disabled}:{},...e.progressive?{required:!!M.required,min:Ba(M.min),max:Ba(M.max),minLength:Ba(M.minLength),maxLength:Ba(M.maxLength),pattern:Ba(M.pattern)}:{},name:D,onChange:ve,onBlur:ve,ref:G=>{if(G){pr(D,M),U=Y(r,D);const H=Ue(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,K=R8(H),ce=U._f.refs||[];if(K?ce.find(Ae=>Ae===H):H===U._f.ref)return;Ve(r,D,{_f:{...U._f,...K?{refs:[...ce.filter(Np),H,...Array.isArray(Y(s,D))?[{}]:[]],ref:{type:H.type,name:D}}:{ref:H}}}),R(D,!1,void 0,H)}else U=Y(r,D,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||M.shouldUnregister)&&!(P8(a.array,D)&&o.action)&&a.unMount.add(D)}}},cn=()=>e.shouldFocusError&&Vo(r,W,a.mount),Xt=D=>{Jn(D)&&(p.state.next({disabled:D}),Vo(r,(M,U)=>{const Q=Y(r,U);Q&&(M.disabled=Q._f.disabled||D,Array.isArray(Q._f.refs)&&Q._f.refs.forEach(G=>{G.disabled=Q._f.disabled||D}))},0,!1))},$s=(D,M)=>async U=>{let Q;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let G=We(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:H,values:K}=await T();n.errors=H,G=We(K)}else await I(r);if(a.disabled.size)for(const H of a.disabled)et(G,H);if(et(n.errors,"root"),Ht(n.errors)){p.state.next({errors:{}});try{await D(G,U)}catch(H){Q=H}}else M&&await M({...n.errors},U),cn(),setTimeout(cn);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ht(n.errors)&&!Q,submitCount:n.submitCount+1,errors:n.errors}),Q)throw Q},ha=(D,M={})=>{Y(r,D)&&(Ue(M.defaultValue)?fe(D,We(Y(s,D))):(fe(D,M.defaultValue),Ve(s,D,We(M.defaultValue))),M.keepTouched||et(n.touchedFields,D),M.keepDirty||(et(n.dirtyFields,D),n.isDirty=M.defaultValue?j(D,We(Y(s,D))):j()),M.keepError||(et(n.errors,D),h.isValid&&E()),p.state.next({...n}))},zi=(D,M={})=>{const U=D?We(D):s,Q=We(U),G=Ht(D),H=G?s:Q;if(M.keepDefaultValues||(s=U),!M.keepValues){if(M.keepDirtyValues){const K=new Set([...a.mount,...Object.keys(Ua(s,i))]);for(const ce of Array.from(K))Y(n.dirtyFields,ce)?Ve(H,ce,Y(i,ce)):fe(ce,Y(H,ce))}else{if(Kv&&Ue(D))for(const K of a.mount){const ce=Y(r,K);if(ce&&ce._f){const Ae=Array.isArray(ce._f.refs)?ce._f.refs[0]:ce._f.ref;if(ch(Ae)){const Bt=Ae.closest("form");if(Bt){Bt.reset();break}}}}for(const K of a.mount){const ce=Y(H,K,Y(s,K));Ue(ce)||(Ve(H,K,ce),fe(K,Y(H,K)))}}i=We(H),p.array.next({values:{...H}}),p.state.next({values:{...H}})}a={mount:M.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!M.keepIsValid||!!M.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:M.keepSubmitCount?n.submitCount:0,isDirty:G?!1:M.keepDirty?n.isDirty:!!(M.keepDefaultValues&&!as(D,s)),isSubmitted:M.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:G?{}:M.keepDirtyValues?M.keepDefaultValues&&i?Ua(s,i):n.dirtyFields:M.keepDefaultValues&&D?Ua(s,D):M.keepDirty?n.dirtyFields:{},touchedFields:M.keepTouched?n.touchedFields:{},errors:M.keepErrors?n.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Hi=(D,M)=>zi(Mn(D)?D(i):D,M),jc=(D,M={})=>{const U=Y(r,D),Q=U&&U._f;if(Q){const G=Q.refs?Q.refs[0]:Q.ref;G.focus&&(G.focus(),M.shouldSelect&&Mn(G.select)&&G.select())}},uf=D=>{n={...n,...D}},fa={control:{register:pr,unregister:Nt,getFieldState:X,handleSubmit:$s,setError:Ce,_subscribe:Ut,_runSchema:T,_focusError:cn,_getWatch:k,_getDirty:j,_setValid:E,_setFieldArray:S,_setDisabledField:$i,_setErrors:_,_getFieldArray:N,_reset:zi,_resetDefaultValues:()=>Mn(e.defaultValues)&&e.defaultValues().then(D=>{Hi(D,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:Xt,_subjects:p,_proxyFormState:h,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(D){o=D},get _defaultValues(){return s},get _names(){return a},set _names(D){a=D},get _formState(){return n},get _options(){return e},set _options(D){e={...e,...D}}},subscribe:xt,trigger:ee,register:pr,handleSubmit:$s,watch:Yt,setValue:fe,getValues:ie,reset:Hi,resetField:ha,clearErrors:we,unregister:Nt,setError:Ce,setFocus:jc,getFieldState:X};return{...fa,formControl:fa}}var Qr=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=(Math.random()*16+t)%16|0;return(e=="x"?n:n&3|8).toString(16)})},Ap=(t,e,n={})=>n.shouldFocus||Ue(n.shouldFocus)?n.focusName||`${t}.${Ue(n.focusIndex)?e:n.focusIndex}.`:"",Cp=(t,e)=>[...t,...tn(e)],kp=t=>Array.isArray(t)?t.map(()=>{}):void 0;function jp(t,e,n){return[...t.slice(0,e),...tn(n),...t.slice(e)]}var Rp=(t,e,n)=>Array.isArray(t)?(Ue(t[n])&&(t[n]=void 0),t.splice(n,0,t.splice(e,1)[0]),t):[],Dp=(t,e)=>[...tn(e),...tn(t)];function W8(t,e){let n=0;const r=[...t];for(const s of e)r.splice(s-n,1),n++;return af(r).length?r:[]}var Vp=(t,e)=>Ue(e)?[]:W8(t,tn(e).sort((n,r)=>n-r)),Op=(t,e,n)=>{[t[e],t[n]]=[t[n],t[e]]},nT=(t,e,n)=>(t[e]=n,t);function q8(t){const e=A8(),{control:n=e.control,name:r,keyName:s="id",shouldUnregister:i,rules:o}=t,[a,c]=Z.useState(n._getFieldArray(r)),d=Z.useRef(n._getFieldArray(r).map(Qr)),h=Z.useRef(a),f=Z.useRef(r),p=Z.useRef(!1);f.current=r,h.current=a,n._names.array.add(r),o&&n.register(r,o),xA(()=>n._subjects.array.subscribe({next:({values:V,name:T})=>{if(T===f.current||!T){const v=Y(V,f.current);Array.isArray(v)&&(c(v),d.current=v.map(Qr))}}}).unsubscribe,[n]);const g=Z.useCallback(V=>{p.current=!0,n._setFieldArray(r,V)},[n,r]),w=(V,T)=>{const v=tn(We(V)),I=Cp(n._getFieldArray(r),v);n._names.focus=Ap(r,I.length-1,T),d.current=Cp(d.current,v.map(Qr)),g(I),c(I),n._setFieldArray(r,I,Cp,{argA:kp(V)})},E=(V,T)=>{const v=tn(We(V)),I=Dp(n._getFieldArray(r),v);n._names.focus=Ap(r,0,T),d.current=Dp(d.current,v.map(Qr)),g(I),c(I),n._setFieldArray(r,I,Dp,{argA:kp(V)})},P=V=>{const T=Vp(n._getFieldArray(r),V);d.current=Vp(d.current,V),g(T),c(T),!Array.isArray(Y(n._fields,r))&&Ve(n._fields,r,void 0),n._setFieldArray(r,T,Vp,{argA:V})},S=(V,T,v)=>{const I=tn(We(T)),A=jp(n._getFieldArray(r),V,I);n._names.focus=Ap(r,V,v),d.current=jp(d.current,V,I.map(Qr)),g(A),c(A),n._setFieldArray(r,A,jp,{argA:V,argB:kp(T)})},x=(V,T)=>{const v=n._getFieldArray(r);Op(v,V,T),Op(d.current,V,T),g(v),c(v),n._setFieldArray(r,v,Op,{argA:V,argB:T},!1)},_=(V,T)=>{const v=n._getFieldArray(r);Rp(v,V,T),Rp(d.current,V,T),g(v),c(v),n._setFieldArray(r,v,Rp,{argA:V,argB:T},!1)},R=(V,T)=>{const v=We(T),I=nT(n._getFieldArray(r),V,v);d.current=[...I].map((A,j)=>!A||j===V?Qr():d.current[j]),g(I),c([...I]),n._setFieldArray(r,I,nT,{argA:V,argB:v},!0,!1)},L=V=>{const T=tn(We(V));d.current=T.map(Qr),g([...T]),c([...T]),n._setFieldArray(r,[...T],v=>v,{},!0,!1)};return Z.useEffect(()=>{if(n._state.action=!1,Cg(r,n._names)&&n._subjects.state.next({...n._formState}),p.current&&(!Eo(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!Eo(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([r]).then(V=>{const T=Y(V.errors,r),v=Y(n._formState.errors,r);(v?!T&&v.type||T&&(v.type!==T.type||v.message!==T.message):T&&T.type)&&(T?Ve(n._formState.errors,r,T):et(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const V=Y(n._fields,r);V&&V._f&&!(Eo(n._options.reValidateMode).isOnSubmit&&Eo(n._options.mode).isOnSubmit)&&kg(V,n._names.disabled,n._formValues,n._options.criteriaMode===In.all,n._options.shouldUseNativeValidation,!0).then(T=>!Ht(T)&&n._subjects.state.next({errors:IA(n._formState.errors,T,r)}))}n._subjects.state.next({name:r,values:We(n._formValues)}),n._names.focus&&Vo(n._fields,(V,T)=>{if(n._names.focus&&T.startsWith(n._names.focus)&&V.focus)return V.focus(),1}),n._names.focus="",n._setValid(),p.current=!1},[a,r,n]),Z.useEffect(()=>(!Y(n._formValues,r)&&n._setFieldArray(r),()=>{const V=(T,v)=>{const I=Y(n._fields,T);I&&I._f&&(I._f.mount=v)};n._options.shouldUnregister||i?n.unregister(r):V(r,!1)}),[r,n,s,i]),{swap:Z.useCallback(x,[g,r,n]),move:Z.useCallback(_,[g,r,n]),prepend:Z.useCallback(E,[g,r,n]),append:Z.useCallback(w,[g,r,n]),remove:Z.useCallback(P,[g,r,n]),insert:Z.useCallback(S,[g,r,n]),update:Z.useCallback(R,[g,r,n]),replace:Z.useCallback(L,[g,r,n]),fields:Z.useMemo(()=>a.map((V,T)=>({...V,[s]:d.current[T]||Qr()})),[a,s])}}function PA(t={}){const e=Z.useRef(void 0),n=Z.useRef(void 0),[r,s]=Z.useState({isDirty:!1,isValidating:!1,isLoading:Mn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Mn(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Mn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=H8(t);e.current={...a,formState:r}}const i=e.current.control;return i._options=t,xA(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),Z.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Z.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Z.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Z.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Z.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),Z.useEffect(()=>{t.values&&!as(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),Z.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=C8(r,i),e.current}const G8=async(t,e,n)=>{try{const r={bookingReference:e,paymentId:n,customerName:t.customerName,customerEmail:t.customerEmail,customerPhone:t.customerPhone,flightDate:new Date(t.flightDate).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),flightTime:new Date(t.flightDate).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),passengersCount:t.passengers.length,passengersDetails:t.passengers.map((i,o)=>`${o+1}. ${i.firstName} ${i.lastName} (${i.weight}kg)${i.wantsFrontSeat?" - Front seat requested":""}${i.additionalInfo?` - Note: ${i.additionalInfo}`:""}`).join(`
`),basePrice:t.basePrice,frontSeatFee:t.frontSeatFee,cancellationProtectionFee:t.cancellationProtectionFee,totalPrice:t.totalPrice,specialRequests:t.specialRequests||"None",bookingDateTime:new Date().toLocaleString("en-US"),frontSeatRequests:t.passengers.filter(i=>i.wantsFrontSeat).map(i=>`${i.firstName} ${i.lastName}`).join(", ")||"None",cancellationProtection:t.cancellationProtection};console.log(" Booking Notification:",r);const s=JSON.parse(localStorage.getItem("helicopter-bookings")||"[]");return s.push({...r,timestamp:new Date().toISOString()}),localStorage.setItem("helicopter-bookings",JSON.stringify(s)),!0}catch(r){return console.error("Failed to send booking notification:",r),!1}},K8=async t=>{try{const e=new Date().toLocaleDateString(),n=new Date().toLocaleTimeString(),r=`New Contact Form Submission: ${t.subject}`,s=`New Contact Form Submission

Date: ${e} at ${n}

Customer Information:
 Name: ${t.name}
 Email: ${t.email}
 Phone: ${t.phone||"Not provided"}

Service Details:
 Service Type: ${t.serviceType||"Not specified"}
 Preferred Date: ${t.preferredDate||"Not specified"}
 Passengers: ${t.passengers||"Not specified"}

Subject: ${t.subject}

Message:
${t.message}

---
Please respond to this inquiry promptly.
From: VanguardHelicopter Contact Form`,i=`mailto:vanguardhelicopter@gmail.com?subject=${encodeURIComponent(r)}&body=${encodeURIComponent(s)}`;window.open(i,"_blank"),console.log("Contact form email created:",{timestamp:new Date().toISOString(),customerName:t.name,customerEmail:t.email,subject:t.subject,recipientEmail:"vanguardhelicopter@gmail.com"})}catch(e){throw console.error("Error creating contact form email:",e),new Error("Failed to create email")}},Q8=async(t,e)=>{try{const n=`New Contact Alert - ${t}`,r=`New Contact Alert

Customer: ${t}
Email: ${e}
Time: ${new Date().toLocaleString()}

Check the full details in your contact management system.`,s=`mailto:vanguardhelicopter@gmail.com?subject=${encodeURIComponent(n)}&body=${encodeURIComponent(r)}`;window.open(s,"_blank")}catch(n){throw console.error("Error sending quick notification email:",n),new Error("Failed to send notification email")}};class Y8{constructor(e){this.config=e}formatContactMessage(e){const n=new Date().toLocaleDateString(),r=new Date().toLocaleTimeString();let s=` *New Contact Form Submission*

`;return s+=` *Date:* ${n} at ${r}

`,s+=` *Customer Information:*
`,s+=` Name: ${e.name}
`,s+=` Email: ${e.email}
`,s+=` Phone: ${e.phone||"Not provided"}

`,s+=` *Service Details:*
`,s+=` Service Type: ${e.serviceType||"Not specified"}
`,s+=` Preferred Date: ${e.preferredDate||"Not specified"}
`,s+=` Passengers: ${e.passengers||"Not specified"}

`,s+=` *Subject:* ${e.subject}

`,s+=` *Message:*
${e.message}

`,s+=`---
`,s+=`Please respond to this inquiry promptly.
`,s+=`From: ${this.config.businessName} Contact Form`,s}formatBookingMessage(e){const n=new Date().toLocaleDateString(),r=new Date().toLocaleTimeString();let s=` *New Booking Request*

`;return s+=` *Submitted:* ${n} at ${r}

`,s+=` *Customer Information:*
`,s+=` Name: ${e.name}
`,s+=` Email: ${e.email}
`,s+=` Phone: ${e.phone}

`,s+=` *Flight Details:*
`,s+=` Preferred Date: ${e.date}
`,s+=` Preferred Time: ${e.time}
`,s+=` Number of Passengers: ${e.passengers}
`,e.helicopterId&&(s+=` Helicopter ID: ${e.helicopterId}
`),e.specialRequests&&(s+=`
 *Special Requests:*
${e.specialRequests}
`),s+=`
---
`,s+=`Please process this booking request promptly.
`,s+=`From: ${this.config.businessName} Booking System`,s}async sendContactFormToWhatsApp(e){try{const n=this.formatContactMessage(e),r=encodeURIComponent(n),s=`https://wa.me/${this.config.phoneNumber}?text=${r}`;window.open(s,"_blank"),await K8(e),console.log("Contact form sent to WhatsApp and Email:",{timestamp:new Date().toISOString(),customerName:e.name,customerEmail:e.email,subject:e.subject})}catch(n){throw console.error("Error sending contact form to WhatsApp:",n),new Error("Failed to send message to WhatsApp")}}async sendContactFormToWhatsAppWeb(e){try{const n=this.formatContactMessage(e),r=encodeURIComponent(n),s=`https://web.whatsapp.com/send?phone=${this.config.phoneNumber}&text=${r}`;window.open(s,"_blank"),console.log("Contact form sent to WhatsApp Web:",{timestamp:new Date().toISOString(),customerName:e.name,customerEmail:e.email,subject:e.subject})}catch(n){throw console.error("Error sending contact form to WhatsApp Web:",n),new Error("Failed to send message to WhatsApp Web")}}async sendQuickNotification(e,n){try{const r=` *New Contact Alert*

Customer: ${e}
Email: ${n}
Time: ${new Date().toLocaleString()}

Check the full details in your contact management system.`,s=encodeURIComponent(r),i=`https://wa.me/${this.config.phoneNumber}?text=${s}`;window.open(i,"_blank"),await Q8(e,n)}catch(r){throw console.error("Error sending quick notification to WhatsApp:",r),new Error("Failed to send notification to WhatsApp")}}async sendBookingFormToWhatsApp(e){try{const n=this.formatBookingMessage(e),r=encodeURIComponent(n),s=`https://wa.me/${this.config.phoneNumber}?text=${r}`;window.open(s,"_blank"),console.log("Booking form sent to WhatsApp:",{timestamp:new Date().toISOString(),customerName:e.name,customerEmail:e.email,bookingDate:e.date,passengers:e.passengers})}catch(n){throw console.error("Error sending booking form to WhatsApp:",n),new Error("Failed to send booking to WhatsApp")}}async sendBookingFormToWhatsAppWeb(e){try{const n=this.formatBookingMessage(e),r=encodeURIComponent(n),s=`https://web.whatsapp.com/send?phone=${this.config.phoneNumber}&text=${r}`;window.open(s,"_blank"),console.log("Booking form sent to WhatsApp Web:",{timestamp:new Date().toISOString(),customerName:e.name,customerEmail:e.email,bookingDate:e.date,passengers:e.passengers})}catch(n){throw console.error("Error sending booking form to WhatsApp Web:",n),new Error("Failed to send booking to WhatsApp Web")}}}const Lp=new Y8({phoneNumber:"447939956301",businessName:"VanguardHelicopter"}),X8=[{icon:Ac,title:"Visit Our Heliport",details:["123 Aviation Drive","Chicago, IL 60601"],action:"Get Directions"},{icon:Bi,title:"Call Us",details:["+1 (234) 567-8900","24/7 Customer Support +44 7939 956301"],action:"Call Now"},{icon:rh,title:"WhatsApp Us",details:["+44 7939 956301","Instant messaging support"],action:"Chat on WhatsApp"},{icon:Ui,title:"Email Us",details:["vanguardhelicopter@gmail.com","Response within 2 hours"],action:"Send Email"},{icon:ea,title:"Operating Hours",details:["Mon-Sun: 6:00 AM - 10:00 PM","Emergency: 24/7 Available"],action:"View Schedule"}],J8=["City Tours & Sightseeing","Business Travel","Special Events","Aerial Photography","Airport Transfers","Custom Charter","Other"],Z8=[{question:"How far in advance should I book?",answer:"We recommend booking at least 48 hours in advance, though we can often accommodate same-day requests based on availability."},{question:"What is your cancellation policy?",answer:"Free cancellation up to 24 hours before your scheduled flight. Cancellations within 24 hours may incur a fee."},{question:"Do you provide insurance coverage?",answer:"Yes, all flights include comprehensive insurance coverage for passengers and aircraft operations."},{question:"What happens in bad weather?",answer:"Safety is our priority. If weather conditions are unsafe, we will reschedule your flight at no additional cost."}],ez=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(null),{register:s,handleSubmit:i,reset:o,formState:{errors:a}}=PA(),c=async d=>{e(!0);try{await Lp.sendContactFormToWhatsApp(d),await new Promise(h=>setTimeout(h,1e3)),fw.success("Message sent successfully! Your inquiry has been forwarded to our WhatsApp and email. We'll get back to you within 2 hours."),o()}catch(h){console.error("Error sending contact form:",h),fw.error("Failed to send message. Please try again.")}finally{e(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsxs("section",{className:"relative bg-navy-900 text-white py-20",children:[l.jsx("div",{className:"absolute inset-0 opacity-30",children:l.jsx("img",{src:"https://images.pexels.com/photos/1426718/pexels-photo-1426718.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Contact SkyLux",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx(ae.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-5xl md:text-6xl font-display font-bold mb-6",children:"Get In Touch"}),l.jsx(ae.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-xl md:text-2xl text-gray-300 max-w-2xl mx-auto",children:"Ready to elevate your experience? Contact our team for personalized service and expert guidance"})]})]}),l.jsx("section",{className:"py-20",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-8 mb-16",children:X8.map((d,h)=>l.jsxs(ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:h*.1},viewport:{once:!0},className:"bg-white rounded-2xl shadow-lg p-6 text-center hover:shadow-xl transition-shadow duration-300",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gold-400 to-gold-600 rounded-2xl mx-auto mb-4 flex items-center justify-center",children:l.jsx(d.icon,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-bold text-navy-900 mb-3",children:d.title}),l.jsx("div",{className:"space-y-1 mb-4",children:d.details.map((f,p)=>l.jsx("p",{className:"text-gray-600",children:f},p))}),l.jsx(xe,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{d.title==="WhatsApp Us"&&Lp.sendQuickNotification("Contact Page Inquiry","contact@helicopterluxury.com")},children:d.action})]},h))})})}),l.jsx("section",{className:"py-20 bg-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[l.jsx(ae.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},children:l.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx(rh,{className:"w-8 h-8 text-gold-500 mr-3"}),l.jsx("h2",{className:"text-3xl font-display font-bold text-navy-900",children:"Send Us a Message"})]}),l.jsxs("form",{onSubmit:i(c),className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-navy-700 mb-2",children:"Full Name *"}),l.jsx("input",{type:"text",...s("name",{required:"Name is required"}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-gold-500 focus:border-transparent",placeholder:"Your full name"}),a.name&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.name.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-navy-700 mb-2",children:"Email Address *"}),l.jsx("input",{type:"email",...s("email",{required:"Email is required",pattern:{value:/^\S+@\S+$/i,message:"Invalid email address"}}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-gold-500 focus:border-transparent",placeholder:"your@email.com"}),a.email&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.email.message})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-navy-700 mb-2",children:"Phone Number"}),l.jsx("input",{type:"tel",...s("phone"),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-gold-500 focus:border-transparent",placeholder:"+1 (234) 567-8900"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-navy-700 mb-2",children:"Service Type"}),l.jsxs("select",{...s("serviceType"),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-gold-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"Select a service"}),J8.map(d=>l.jsx("option",{value:d,children:d},d))]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-navy-700 mb-2",children:"Preferred Date"}),l.jsx("input",{type:"date",...s("preferredDate"),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-gold-500 focus:border-transparent",min:new Date().toISOString().split("T")[0]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-navy-700 mb-2",children:"Number of Passengers"}),l.jsxs("select",{...s("passengers"),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-gold-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"Select passengers"}),[1,2,3,4,5,6,7,8].map(d=>l.jsxs("option",{value:d,children:[d," passenger",d>1?"s":""]},d))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-navy-700 mb-2",children:"Subject *"}),l.jsx("input",{type:"text",...s("subject",{required:"Subject is required"}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-gold-500 focus:border-transparent",placeholder:"Brief description of your inquiry"}),a.subject&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.subject.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-navy-700 mb-2",children:"Message *"}),l.jsx("textarea",{...s("message",{required:"Message is required"}),rows:5,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-gold-500 focus:border-transparent resize-none",placeholder:"Tell us more about your requirements..."}),a.message&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.message.message})]}),l.jsxs(xe,{type:"submit",variant:"primary",size:"lg",className:"w-full",loading:t,children:[l.jsx(t8,{className:"w-5 h-5 mr-2"}),"Send Message"]})]})]})}),l.jsxs(ae.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},className:"space-y-8",children:[l.jsx("div",{className:"bg-gray-200 rounded-2xl h-64 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Ac,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),l.jsx("p",{className:"text-gray-600",children:"Interactive Map"}),l.jsx("p",{className:"text-sm text-gray-500",children:"123 Aviation Drive, Chicago, IL 60601"})]})}),l.jsxs("div",{className:"bg-navy-900 text-white rounded-2xl p-8",children:[l.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Need Immediate Assistance?"}),l.jsx("p",{className:"text-gray-300 mb-6",children:"Our customer service team is available 24/7 for urgent inquiries and emergency bookings."}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("a",{href:"tel:+1234567890",className:"flex items-center p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-colors duration-200",children:[l.jsx(Bi,{className:"w-6 h-6 text-gold-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"Emergency Hotline"}),l.jsx("p",{className:"text-sm text-gray-300",children:"+1 (234) 567-8900"})]})]}),l.jsxs("a",{href:"mailto:vanguardhelicopter@gmail.com",className:"flex items-center p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-colors duration-200",children:[l.jsx(Ui,{className:"w-6 h-6 text-gold-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"Emergency Email"}),l.jsx("p",{className:"text-sm text-gray-300",children:"vanguardhelicopter@gmail.com"})]})]}),l.jsxs("button",{onClick:()=>Lp.sendQuickNotification("Quick Contact","emergency@helicopterluxury.com"),className:"flex items-center p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-colors duration-200 w-full text-left",children:[l.jsx(rh,{className:"w-6 h-6 text-gold-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"WhatsApp Support"}),l.jsx("p",{className:"text-sm text-gray-300",children:"+44 7939 956301"})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(ea,{className:"w-6 h-6 text-gold-500 mr-3"}),l.jsx("h3",{className:"text-xl font-bold text-navy-900",children:"Business Hours"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-navy-700",children:"Monday - Friday"}),l.jsx("span",{className:"text-gray-600",children:"6:00 AM - 10:00 PM"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-navy-700",children:"Saturday - Sunday"}),l.jsx("span",{className:"text-gray-600",children:"7:00 AM - 9:00 PM"})]}),l.jsxs("div",{className:"flex justify-between border-t pt-2",children:[l.jsx("span",{className:"text-navy-700 font-semibold",children:"Emergency Service"}),l.jsx("span",{className:"text-gold-600 font-semibold",children:"24/7 Available"})]})]})]})]})]})})}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-display font-bold text-navy-900 mb-4",children:"Frequently Asked Questions"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Quick answers to common questions about our services"})]}),l.jsx("div",{className:"space-y-4",children:Z8.map((d,h)=>l.jsxs(ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:h*.1},viewport:{once:!0},className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[l.jsxs("button",{onClick:()=>r(n===h?null:h),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors duration-200",children:[l.jsx("span",{className:"font-semibold text-navy-900",children:d.question}),l.jsx(ae.div,{animate:{rotate:n===h?45:0},transition:{duration:.2},children:l.jsx(cr,{className:"w-5 h-5 text-gold-500"})})]}),l.jsx(ae.div,{initial:{height:0},animate:{height:n===h?"auto":0},transition:{duration:.3},className:"overflow-hidden",children:l.jsx("div",{className:"px-6 pb-4 text-gray-600",children:d.answer})})]},h))})]})})]})},tz=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(""),[s,i]=C.useState(""),[o,a]=C.useState(!1),c=Kn(),d=async h=>{h.preventDefault(),a(!0),i("");try{await LS(vo,t,n),c("/")}catch(f){i(f.message)}finally{a(!1)}};return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:l.jsxs("form",{onSubmit:d,className:"bg-white p-8 rounded shadow-md w-full max-w-md",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Sign In"}),s&&l.jsx("div",{className:"mb-4 text-red-500",children:s}),l.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:h=>e(h.target.value),className:"w-full mb-4 p-2 border rounded",required:!0}),l.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:h=>r(h.target.value),className:"w-full mb-6 p-2 border rounded",required:!0}),l.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",disabled:o,children:o?"Signing in...":"Sign In"}),l.jsxs("p",{className:"mt-4 text-center",children:["Don't have an account? ",l.jsx(ke,{to:"/register",className:"text-blue-600 hover:underline",children:"Register"})]})]})})},nz=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(""),[s,i]=C.useState(""),[o,a]=C.useState(!1),c=Kn(),d=async h=>{h.preventDefault(),a(!0),i("");try{await OS(vo,t,n),c("/")}catch(f){i(f.message)}finally{a(!1)}};return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:l.jsxs("form",{onSubmit:d,className:"bg-white p-8 rounded shadow-md w-full max-w-md",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Register"}),s&&l.jsx("div",{className:"mb-4 text-red-500",children:s}),l.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:h=>e(h.target.value),className:"w-full mb-4 p-2 border rounded",required:!0}),l.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:h=>r(h.target.value),className:"w-full mb-6 p-2 border rounded",required:!0}),l.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 transition",disabled:o,children:o?"Registering...":"Register"}),l.jsxs("p",{className:"mt-4 text-center",children:["Already have an account? ",l.jsx(ke,{to:"/signin",className:"text-blue-600 hover:underline",children:"Sign In"})]})]})})},rT="helicopters",lf={async addHelicopter(t){return(await v3(t3(Gd,rT),t)).id},async getHelicopters(){return Promise.resolve(Ng)},async getHelicopter(t){const e=Ng.find(n=>n.id===t);return Promise.resolve(e||null)},async deleteHelicopter(t){await y3(Bd(Gd,rT,t))}};async function rz(t){return lf.addHelicopter(t)}async function sz(){return lf.getHelicopters()}async function iz(t){return lf.deleteHelicopter(t)}const sT={name:"",model:"",manufacturer:"",capacity:1,pricePerHour:0,image:"",description:""},oz=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(sT),[s,i]=C.useState(!1),o=async()=>{i(!0);const h=await sz();e(h),i(!1)};C.useEffect(()=>{o()},[]);const a=h=>{const{name:f,value:p}=h.target;r({...n,[f]:f==="capacity"||f==="pricePerHour"?Number(p):p})},c=async h=>{h.preventDefault();const f={name:n.name,model:n.model,manufacturer:n.manufacturer,capacity:n.capacity,pricePerHour:n.pricePerHour,images:[n.image],features:[],specifications:{maxSpeed:"",range:"",ceiling:"",engines:""},availability:!0,location:"",description:n.description,createdAt:new Date,updatedAt:new Date};await rz(f),r(sT),o()},d=async h=>{await iz(h),o()};return l.jsxs("div",{className:"max-w-3xl mx-auto py-10",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Helicopter Dashboard"}),l.jsxs("form",{onSubmit:c,className:"mb-8 space-y-4 bg-white p-6 rounded shadow",children:[l.jsx("input",{name:"name",value:n.name,onChange:a,placeholder:"Name",className:"w-full p-2 border rounded",required:!0}),l.jsx("input",{name:"model",value:n.model,onChange:a,placeholder:"Model",className:"w-full p-2 border rounded",required:!0}),l.jsx("input",{name:"manufacturer",value:n.manufacturer,onChange:a,placeholder:"Manufacturer",className:"w-full p-2 border rounded",required:!0}),l.jsx("input",{name:"capacity",type:"number",min:"1",value:n.capacity,onChange:a,placeholder:"Capacity",className:"w-full p-2 border rounded",required:!0}),l.jsx("input",{name:"pricePerHour",type:"number",min:"0",value:n.pricePerHour,onChange:a,placeholder:"Price Per Hour",className:"w-full p-2 border rounded",required:!0}),l.jsx("input",{name:"image",value:n.image,onChange:a,placeholder:"Image URL",className:"w-full p-2 border rounded",required:!0}),l.jsx("textarea",{name:"description",value:n.description,onChange:a,placeholder:"Description",className:"w-full p-2 border rounded",required:!0}),l.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Add Helicopter"})]}),l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Helicopters"}),s?l.jsx("div",{children:"Loading..."}):l.jsx("ul",{className:"space-y-4",children:t.map(h=>l.jsxs("li",{className:"flex items-center justify-between bg-gray-50 p-4 rounded shadow",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-bold",children:[h.name," (",h.model,")"]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[h.manufacturer," | Capacity: ",h.capacity]}),l.jsxs("div",{className:"text-sm text-gray-800",children:["$",h.pricePerHour," / hour"]}),l.jsx("div",{className:"text-sm text-gray-600",children:h.description}),h.images&&h.images[0]&&l.jsx("img",{src:h.images[0],alt:h.name,className:"w-32 mt-2 rounded"})]}),l.jsx("button",{onClick:()=>d(h.id),className:"bg-red-500 text-white px-3 py-1 rounded",children:"Delete"})]},h.id))})]})},az=()=>{const{helicopterId:t}=Ah(),[e]=O2(),n=Kn(),[r,s]=C.useState(null),[i,o]=C.useState(!0),[a,c]=C.useState(!1),d=e.get("date")?new Date(e.get("date")):new Date,h=parseInt(e.get("passengers")||"1"),{register:f,control:p,handleSubmit:g,watch:w,setValue:E,formState:{errors:P}}=PA({defaultValues:{helicopterId:t||"",customerName:"",customerEmail:"",customerPhone:"",flightDate:d,passengers:Array.from({length:h},(j,k)=>({id:`passenger-${k+1}`,firstName:"",lastName:"",weight:0,additionalInfo:"",wantsFrontSeat:!1})),basePrice:0,frontSeatFee:0,cancellationProtection:!1,cancellationProtectionFee:0,totalPrice:0,specialRequests:""}}),{fields:S,append:x,remove:_}=q8({control:p,name:"passengers"}),R=w("passengers"),L=w("cancellationProtection");C.useEffect(()=>{t&&V()},[t]),C.useEffect(()=>{r&&T()},[r,R,L]);const V=async()=>{try{const j=await lf.getHelicopter(t);s(j)}catch{Se.error("Failed to load helicopter details"),n("/helicopters")}finally{o(!1)}},T=()=>{if(!r)return;const j=r.pricePerHour,N=R.filter(fe=>fe.wantsFrontSeat).length*60,ne=L?Math.round(j*.1):0,re=j+N+ne;E("basePrice",j),E("frontSeatFee",N),E("cancellationProtectionFee",ne),E("totalPrice",re)},v=()=>{S.length<(r==null?void 0:r.capacity)&&x({id:`passenger-${S.length+1}`,firstName:"",lastName:"",weight:0,additionalInfo:"",wantsFrontSeat:!1})},I=j=>{S.length>1&&_(j)},A=async j=>{c(!0);try{if(j.passengers.some(re=>!re.firstName||!re.lastName||!re.weight)){Se.error("Please fill in all passenger information"),c(!1);return}const N=`HL${Date.now().toString().slice(-8)}${Math.random().toString(36).substr(2,2).toUpperCase()}`,ne={...j,bookingReference:N};try{sessionStorage.setItem("bookingFormData",JSON.stringify(ne));const re=JSON.parse(localStorage.getItem("helicopter-bookings")||"[]");re.push({...ne,status:"FORM_COMPLETED",timestamp:new Date().toISOString(),submittedAt:new Date().toLocaleString()}),localStorage.setItem("helicopter-bookings",JSON.stringify(re)),Se.success("Booking information saved successfully!"),UP(j,N).catch(fe=>{console.log("Google Sheets backup failed, but local storage succeeded:",fe)})}catch(re){console.error("Failed to save booking data:",re),Se.error("Failed to save booking information"),c(!1);return}n("/booking/payment")}catch{Se.error("Failed to process booking")}finally{c(!1)}};return i?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx(Rs,{})}):r?l.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-8",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("img",{src:r.images[0],alt:r.name,className:"w-20 h-20 rounded-lg object-cover"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-white",children:r.name}),l.jsx("p",{className:"text-blue-100",children:r.model}),l.jsxs("p",{className:"text-blue-100",children:["$",r.pricePerHour,"/hour"]})]})]})}),l.jsxs("form",{onSubmit:g(A),className:"p-6 space-y-8",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(sc,{className:"w-5 h-5 mr-2"}),"Contact Information"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),l.jsx("input",{type:"text",...f("customerName",{required:"Name is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name"}),P.customerName&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.customerName.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),l.jsx("input",{type:"email",...f("customerEmail",{required:"Email is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"}),P.customerEmail&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.customerEmail.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),l.jsx("input",{type:"tel",...f("customerPhone",{required:"Phone number is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your phone number"}),P.customerPhone&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.customerPhone.message})]})]})]}),l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(da,{className:"w-5 h-5 mr-2"}),"Flight Details"]}),l.jsx("div",{className:"grid grid-cols-1 gap-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Flight Date *"}),l.jsx("input",{type:"datetime-local",...f("flightDate",{required:"Flight date is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),P.flightDate&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.flightDate.message})]})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[l.jsx(Cc,{className:"w-5 h-5 mr-2"}),"Passenger Information"]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(xe,{type:"button",variant:"outline",size:"sm",onClick:v,disabled:S.length>=r.capacity,children:[l.jsx(e8,{className:"w-4 h-4 mr-1"}),"Add Passenger"]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[S.length,"/",r.capacity," passengers"]})]})]}),l.jsx("div",{className:"space-y-6",children:S.map((j,k)=>l.jsxs(ae.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-gray-50 rounded-lg p-4 relative",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Passenger ",k+1]}),S.length>1&&l.jsx(xe,{type:"button",variant:"outline",size:"sm",onClick:()=>I(k),className:"text-red-600 hover:text-red-700",children:l.jsx(Z$,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),l.jsx("input",{type:"text",...f(`passengers.${k}.firstName`,{required:"First name is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter first name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),l.jsx("input",{type:"text",...f(`passengers.${k}.lastName`,{required:"Last name is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter last name"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[l.jsx(o8,{className:"w-4 h-4 mr-1"}),"Weight (kg) *"]}),l.jsx("input",{type:"number",min:"1",...f(`passengers.${k}.weight`,{required:"Weight is required",min:1}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter weight"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[l.jsx(q$,{className:"w-4 h-4 mr-1"}),"Additional Info"]}),l.jsx("input",{type:"text",...f(`passengers.${k}.additionalInfo`),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Dietary restrictions, medical conditions, etc."})]})]}),l.jsx("div",{className:"mt-4",children:l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",...f(`passengers.${k}.wantsFrontSeat`),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Request front seat (+$60 if confirmed at check-in)"})]})})]},j.id))})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Additional Options"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("label",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"checkbox",...f("cancellationProtection"),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Cancellation Protection (10% of base price)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Requests"}),l.jsx("textarea",{...f("specialRequests"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Any special requests or requirements..."})]})]})]}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Price Summary"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Package Price"}),l.jsxs("span",{className:"font-medium",children:["$",w("basePrice")]})]}),w("frontSeatFee")>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Front Seat Requests"}),l.jsxs("span",{className:"font-medium",children:["$",w("frontSeatFee")]})]}),w("cancellationProtectionFee")>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Cancellation Protection"}),l.jsxs("span",{className:"font-medium",children:["$",w("cancellationProtectionFee")]})]}),l.jsx("div",{className:"border-t pt-2",children:l.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["$",w("totalPrice")]})]})})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx(xe,{type:"submit",disabled:a,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:a?l.jsxs(l.Fragment,{children:[l.jsx(Rs,{size:"sm"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(qv,{className:"w-5 h-5 mr-2"}),"Proceed to Payment"]})})})]})]})})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Helicopter not found"}),l.jsx(xe,{onClick:()=>n("/helicopters"),children:"Browse Helicopters"})]})})};var NA="https://js.stripe.com/v3",lz=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,iT="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",cz=function(){for(var e=document.querySelectorAll('script[src^="'.concat(NA,'"]')),n=0;n<e.length;n++){var r=e[n];if(lz.test(r.src))return r}return null},oT=function(e){var n="",r=document.createElement("script");r.src="".concat(NA).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},uz=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:n})},$a=null,bu=null,Su=null,dz=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},hz=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},fz=function(e){return $a!==null?$a:($a=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(iT),window.Stripe){n(window.Stripe);return}try{var s=cz();if(s&&e)console.warn(iT);else if(!s)s=oT(e);else if(s&&Su!==null&&bu!==null){var i;s.removeEventListener("load",Su),s.removeEventListener("error",bu),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=oT(e)}Su=hz(n,r),bu=dz(r),s.addEventListener("load",Su),s.addEventListener("error",bu)}catch(o){r(o);return}}),$a.catch(function(n){return $a=null,Promise.reject(n)}))},pz=function(e,n,r){if(e===null)return null;var s=e.apply(void 0,n);return uz(s,r),s},za,AA=!1,CA=function(){return za||(za=fz(null).catch(function(e){return za=null,Promise.reject(e)}),za)};Promise.resolve().then(function(){return CA()}).catch(function(t){AA||console.warn(t)});var kA=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];AA=!0;var s=Date.now();return CA().then(function(i){return pz(i,n,s)})};function aT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function lT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aT(Object(n),!0).forEach(function(r){jA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xu(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xu=function(e){return typeof e}:Xu=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function jA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mz(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function gz(t,e){if(t==null)return{};var n=mz(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RA(t,e){return yz(t)||vz(t,e)||xz(t,e)||wz()}function yz(t){if(Array.isArray(t))return t}function vz(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],s=!0,i=!1,o,a;try{for(n=n.call(t);!(s=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));s=!0);}catch(c){i=!0,a=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw a}}return r}}function xz(t,e){if(t){if(typeof t=="string")return cT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cT(t,e)}}function cT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dn=function(e,n,r){var s=!!r,i=Z.useRef(r);Z.useEffect(function(){i.current=r},[r]),Z.useEffect(function(){if(!s||!e)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return e.on(n,o),function(){e.off(n,o)}},[s,n,e,i])},jg=function(e){var n=Z.useRef(e);return Z.useEffect(function(){n.current=e},[e]),n.current},ta=function(e){return e!==null&&Xu(e)==="object"},_z=function(e){return ta(e)&&typeof e.then=="function"},Tz=function(e){return ta(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},uT="[object Object]",Ez=function t(e,n){if(!ta(e)||!ta(n))return e===n;var r=Array.isArray(e),s=Array.isArray(n);if(r!==s)return!1;var i=Object.prototype.toString.call(e)===uT,o=Object.prototype.toString.call(n)===uT;if(i!==o)return!1;if(!i&&!r)return e===n;var a=Object.keys(e),c=Object.keys(n);if(a.length!==c.length)return!1;for(var d={},h=0;h<a.length;h+=1)d[a[h]]=!0;for(var f=0;f<c.length;f+=1)d[c[f]]=!0;var p=Object.keys(d);if(p.length!==a.length)return!1;var g=e,w=n,E=function(S){return t(g[S],w[S])};return p.every(E)},DA=function(e,n,r){return ta(e)?Object.keys(e).reduce(function(s,i){var o=!ta(n)||!Ez(e[i],n[i]);return r.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):o?lT(lT({},s||{}),{},jA({},i,e[i])):s},null):null},VA="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",dT=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:VA;if(e===null||Tz(e))return e;throw new Error(n)},bz=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:VA;if(_z(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(s){return dT(s,n)})};var r=dT(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},Sz=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},cf=Z.createContext(null);cf.displayName="ElementsContext";var OA=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},LA=function(e){var n=e.stripe,r=e.options,s=e.children,i=Z.useMemo(function(){return bz(n)},[n]),o=Z.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(r):null}}),a=RA(o,2),c=a[0],d=a[1];Z.useEffect(function(){var p=!0,g=function(E){d(function(P){return P.stripe?P:{stripe:E,elements:E.elements(r)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(w){w&&p&&g(w)}):i.tag==="sync"&&!c.stripe&&g(i.stripe),function(){p=!1}},[i,c,r]);var h=jg(n);Z.useEffect(function(){h!==null&&h!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[h,n]);var f=jg(r);return Z.useEffect(function(){if(c.elements){var p=DA(r,f,["clientSecret","fonts"]);p&&c.elements.update(p)}},[r,f,c.elements]),Z.useEffect(function(){Sz(c.stripe)},[c.stripe]),Z.createElement(cf.Provider,{value:c},s)};LA.propTypes={stripe:de.any,options:de.object};var Iz=function(e){var n=Z.useContext(cf);return OA(n,e)},Pz=function(){var e=Iz("calls useElements()"),n=e.elements;return n};de.func.isRequired;var MA=Z.createContext(null);MA.displayName="CheckoutSdkContext";var Nz=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},Az=Z.createContext(null);Az.displayName="CheckoutContext";de.any,de.shape({fetchClientSecret:de.func.isRequired,elementsOptions:de.object}).isRequired;var Rg=function(e){var n=Z.useContext(MA),r=Z.useContext(cf);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?Nz(n,e):OA(r,e)},Cz=["mode"],kz=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ct=function(e,n){var r="".concat(kz(e),"Element"),s=function(c){var d=c.id,h=c.className,f=c.options,p=f===void 0?{}:f,g=c.onBlur,w=c.onFocus,E=c.onReady,P=c.onChange,S=c.onEscape,x=c.onClick,_=c.onLoadError,R=c.onLoaderStart,L=c.onNetworksChange,V=c.onConfirm,T=c.onCancel,v=c.onShippingAddressChange,I=c.onShippingRateChange,A=Rg("mounts <".concat(r,">")),j="elements"in A?A.elements:null,k="checkoutSdk"in A?A.checkoutSdk:null,N=Z.useState(null),ne=RA(N,2),re=ne[0],fe=ne[1],ve=Z.useRef(null),W=Z.useRef(null);dn(re,"blur",g),dn(re,"focus",w),dn(re,"escape",S),dn(re,"click",x),dn(re,"loaderror",_),dn(re,"loaderstart",R),dn(re,"networkschange",L),dn(re,"confirm",V),dn(re,"cancel",T),dn(re,"shippingaddresschange",v),dn(re,"shippingratechange",I),dn(re,"change",P);var ee;E&&(e==="expressCheckout"?ee=E:ee=function(){E(re)}),dn(re,"ready",ee),Z.useLayoutEffect(function(){if(ve.current===null&&W.current!==null&&(j||k)){var X=null;if(k)switch(e){case"payment":X=k.createPaymentElement(p);break;case"address":if("mode"in p){var we=p.mode,Ce=gz(p,Cz);if(we==="shipping")X=k.createShippingAddressElement(Ce);else if(we==="billing")X=k.createBillingAddressElement(Ce);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":X=k.createExpressCheckoutElement(p);break;case"currencySelector":X=k.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else j&&(X=j.create(e,p));ve.current=X,fe(X),X&&X.mount(W.current)}},[j,k,p]);var ie=jg(p);return Z.useEffect(function(){if(ve.current){var X=DA(p,ie,["paymentRequest"]);X&&"update"in ve.current&&ve.current.update(X)}},[p,ie]),Z.useLayoutEffect(function(){return function(){if(ve.current&&typeof ve.current.destroy=="function")try{ve.current.destroy(),ve.current=null}catch{}}},[]),Z.createElement("div",{id:d,className:h,ref:W})},i=function(c){Rg("mounts <".concat(r,">"));var d=c.id,h=c.className;return Z.createElement("div",{id:d,className:h})},o=n?i:s;return o.propTypes={id:de.string,className:de.string,onChange:de.func,onBlur:de.func,onFocus:de.func,onReady:de.func,onEscape:de.func,onClick:de.func,onLoadError:de.func,onLoaderStart:de.func,onNetworksChange:de.func,onConfirm:de.func,onCancel:de.func,onShippingAddressChange:de.func,onShippingRateChange:de.func,options:de.object},o.displayName=r,o.__elementType=e,o},ut=typeof window>"u",jz=Z.createContext(null);jz.displayName="EmbeddedCheckoutProviderContext";var Rz=function(){var e=Rg("calls useStripe()"),n=e.stripe;return n};ct("auBankAccount",ut);var hT=ct("card",ut);ct("cardNumber",ut);ct("cardExpiry",ut);ct("cardCvc",ut);ct("fpxBank",ut);ct("iban",ut);ct("idealBank",ut);ct("p24Bank",ut);ct("epsBank",ut);ct("payment",ut);ct("expressCheckout",ut);ct("currencySelector",ut);ct("paymentRequestButton",ut);ct("linkAuthentication",ut);ct("address",ut);ct("shippingAddress",ut);ct("paymentMethodMessaging",ut);ct("affirmMessage",ut);ct("afterpayClearpayMessage",ut);const Dz="pk_test_51Rk0mCI1qYCIQN0OxYjxSfjuLJ5uIJarrgixmvqzS8uei5d8TOltdYagFqnAqG2hwajhUxxSIRBa6cHgd9kJOlYF00ngc4X4xc";kA(Dz);const Vz=async t=>{const e="https://yourdomain.com/api";try{const n=await fetch(`${e}/api/create-payment-intent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:t.totalPrice*100,currency:"usd",bookingData:t})});if(!n.ok){const s=await n.json();throw new Error(s.message||`HTTP error! status: ${n.status}`)}return await n.json()}catch(n){throw console.error("Error creating payment intent:",n),n}},Oz=kA("pk_test_51Rk0mCI1qYCIQN0OxYjxSfjuLJ5uIJarrgixmvqzS8uei5d8TOltdYagFqnAqG2hwajhUxxSIRBa6cHgd9kJOlYF00ngc4X4xc"),Lz=({bookingData:t})=>{const e=Rz(),n=Pz(),r=Kn(),[s,i]=C.useState(!1),[o,a]=C.useState(!1),c=async d=>{if(d.preventDefault(),!e||!n)return;i(!0);const h=n.getElement(hT);if(!h){i(!1);return}try{const{client_secret:f}=await Vz(t),p=await e.confirmCardPayment(f,{payment_method:{card:h,billing_details:{name:t.customerName,email:t.customerEmail,phone:t.customerPhone}}});if(p.error)Se.error(p.error.message||"Payment failed");else{if(a(!0),Se.success("Payment successful! Booking confirmed."),t.bookingReference)try{await FP(t.bookingReference,p.paymentIntent.id)}catch(g){console.error("Failed to update Google Sheets:",g)}try{(await fetch("https://yourdomain.com/api/api/send-booking-confirmation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookingData:{bookingReference:t.bookingReference,paymentId:p.paymentIntent.id,customerName:t.customerName,customerEmail:t.customerEmail,customerPhone:t.customerPhone,flightDate:new Date(t.flightDate).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),flightTime:new Date(t.flightDate).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),passengersCount:t.passengers.length,passengersDetails:t.passengers.map((E,P)=>`${P+1}. ${E.firstName} ${E.lastName} (${E.weight}kg)${E.wantsFrontSeat?" - Front seat requested":""}${E.additionalInfo?` - Note: ${E.additionalInfo}`:""}`).join(`
`),totalPrice:t.totalPrice,specialRequests:t.specialRequests||"None"}})})).ok?(console.log("Booking confirmation emails sent successfully"),Se.success("Confirmation emails sent!")):console.error("Failed to send confirmation emails")}catch(g){console.error("Error sending confirmation emails:",g)}sessionStorage.removeItem("bookingFormData"),setTimeout(()=>{r("/booking/confirmation",{state:{bookingData:t,paymentIntentId:p.paymentIntent.id}})},2e3)}}catch(f){console.error("Payment error:",f),Se.error("Payment processing failed. Please try again.")}finally{i(!1)}};return l.jsx("form",{onSubmit:c,className:"space-y-6",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(qv,{className:"w-5 h-5 text-blue-600 mr-2"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Details"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Information"}),l.jsx("div",{className:"p-3 border border-gray-300 rounded-md",children:l.jsx(hT,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})})]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-6",children:[l.jsx(Y$,{className:"w-4 h-4 mr-2"}),"Your payment information is secure and encrypted"]}),l.jsx(xe,{type:"submit",disabled:!e||s||o,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:s?l.jsxs(l.Fragment,{children:[l.jsx(Rs,{size:"sm"}),"Processing Payment..."]}):o?l.jsxs(l.Fragment,{children:[l.jsx(cr,{className:"w-5 h-5 mr-2"}),"Payment Successful!"]}):`Pay $${t.totalPrice}`})]})})},Mz=()=>{const t=Kn(),[e,n]=C.useState(null),[r,s]=C.useState(!0);return C.useEffect(()=>{const i=sessionStorage.getItem("bookingFormData");i?n(JSON.parse(i)):(Se.error("No booking data found. Please start over."),t("/helicopters")),s(!1)},[t]),r?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx(Rs,{})}):e?l.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-8",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-white",children:"Complete Your Booking"}),l.jsx("p",{className:"text-blue-100",children:"Step 2: Payment Setup"})]}),l.jsxs(xe,{variant:"outline",onClick:()=>t(-1),className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:[l.jsx(Hv,{className:"w-4 h-4 mr-2"}),"Back"]})]})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Booking Summary"}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:"Contact Information"}),l.jsx("p",{className:"text-gray-600",children:e.customerName}),l.jsx("p",{className:"text-gray-600",children:e.customerEmail}),l.jsx("p",{className:"text-gray-600",children:e.customerPhone})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:"Flight Details"}),l.jsxs("p",{className:"text-gray-600",children:["Date: ",new Date(e.flightDate).toLocaleDateString()," at"," ",new Date(e.flightDate).toLocaleTimeString()]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-medium text-gray-900",children:["Passengers (",e.passengers.length,")"]}),l.jsx("div",{className:"space-y-2",children:e.passengers.map((i,o)=>l.jsxs("div",{className:"text-sm text-gray-600",children:[o+1,". ",i.firstName," ",i.lastName," (",i.weight,"kg)",i.wantsFrontSeat&&l.jsx("span",{className:"text-blue-600 ml-2",children:"(Front seat requested)"})]},i.id))})]}),e.specialRequests&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:"Special Requests"}),l.jsx("p",{className:"text-gray-600",children:e.specialRequests})]}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Price Breakdown"}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Package Price"}),l.jsxs("span",{children:["$",e.basePrice]})]}),e.frontSeatFee>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Front Seat Requests"}),l.jsxs("span",{children:["$",e.frontSeatFee]})]}),e.cancellationProtection&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Cancellation Protection"}),l.jsxs("span",{children:["$",e.cancellationProtectionFee]})]}),l.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t pt-2",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["$",e.totalPrice]})]})]})]})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Payment Information"}),l.jsx(LA,{stripe:Oz,children:l.jsx(Lz,{bookingData:e})})]})]})})]})})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(cA,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Booking Data Not Found"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Please start a new booking."}),l.jsx(xe,{onClick:()=>t("/helicopters"),children:"Browse Helicopters"})]})})},Fz=()=>{const t=ki(),e=Kn(),[n,r]=C.useState(!1),[s,i]=C.useState("pending"),{bookingData:o,paymentIntentId:a}=t.state||{},c=`HL${Date.now().toString().slice(-8)}`;C.useEffect(()=>{o&&a&&d()},[o,a]);const d=async()=>{r(!0);try{const p=await G8(o,c,a);i(p?"success":"error")}catch(p){console.error("Error saving booking data:",p),i("error")}finally{r(!1)}};if(!o)return l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Booking not found"}),l.jsx(xe,{onClick:()=>e("/helicopters"),children:"Browse Helicopters"})]})});const h=()=>{const p=`
VANGUARD HELICOPTERS - BOOKING CONFIRMATION

Booking Reference: ${c}
Payment ID: ${a}
System Status: ${s==="success"?"Confirmed & Saved":"Confirmed (Processing backup)"}

==================================================
CUSTOMER INFORMATION:
==================================================
Name: ${o.customerName}
Email: ${o.customerEmail}
Phone: ${o.customerPhone}

==================================================
FLIGHT DETAILS:
==================================================
Date: ${new Date(o.flightDate).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}
Time: ${new Date(o.flightDate).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}

==================================================
PASSENGERS (${o.passengers.length} Total):
==================================================
${o.passengers.map((P,S)=>`${S+1}. ${P.firstName} ${P.lastName}
   Weight: ${P.weight}kg
   Front Seat: ${P.wantsFrontSeat?"Requested (+$60)":"No preference"}
   Notes: ${P.additionalInfo||"None"}`).join(`

`)}

==================================================
PRICING BREAKDOWN:
==================================================
Package Price: $${o.basePrice}
Front Seat Fees: $${o.frontSeatFee}
Cancellation Protection: $${o.cancellationProtectionFee}
----------------------------------------
TOTAL PAID: $${o.totalPrice}

==================================================
SPECIAL REQUESTS:
==================================================
${o.specialRequests||"None"}

==================================================
IMPORTANT REMINDERS:
==================================================
 Arrive 30 minutes before departure
 Bring valid photo ID for all passengers  
 Weather may affect schedules - we'll contact you
 Front seat requests confirmed at check-in
${o.cancellationProtection?" Cancellation protection active (24hr changes allowed)":""}

==================================================
CONTACT INFORMATION:
==================================================
For changes or questions: vanguardhelicopter@gmail.com
Phone: (234) 567-8900

Booking confirmed on: ${new Date().toLocaleString("en-US")}

Thank you for choosing Vanguard Helicopters!
    `,g=new Blob([p],{type:"text/plain"}),w=URL.createObjectURL(g),E=document.createElement("a");E.href=w,E.download=`vanguard-booking-${c}.txt`,E.click(),URL.revokeObjectURL(w)},f=async()=>{const p={title:"Helicopter Booking Confirmation",text:`My helicopter flight is confirmed for ${new Date(o.flightDate).toLocaleDateString()}! Booking reference: ${c}`,url:window.location.href};if(navigator.share)try{await navigator.share(p)}catch(g){console.log("Error sharing:",g)}else navigator.clipboard.writeText(`${p.text} - ${p.url}`),alert("Booking details copied to clipboard!")};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-12",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[l.jsx(ae.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(cr,{className:"w-12 h-12 text-green-600"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Booking Confirmed!"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Your helicopter flight has been successfully booked"}),l.jsxs("div",{className:"bg-white rounded-lg p-4 inline-block shadow-sm",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Booking Reference"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c}),l.jsxs("div",{className:"mt-3 flex items-center justify-center",children:[n&&l.jsxs("div",{className:"flex items-center text-sm text-blue-600",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Saving booking data..."]}),s==="success"&&l.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[l.jsx(cr,{className:"w-4 h-4 mr-2"}),"Booking data saved successfully"]}),s==="error"&&l.jsxs("div",{className:"flex items-center text-sm text-orange-600",children:[l.jsx(cA,{className:"w-4 h-4 mr-2"}),"Booking confirmed (backup pending)"]})]})]})]}),l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-lg overflow-hidden mb-8",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-4",children:l.jsx("h2",{className:"text-xl font-semibold text-white",children:"Booking Details"})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(da,{className:"w-5 h-5 mr-2 text-blue-600"}),"Flight Information"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Date & Time"}),l.jsxs("p",{className:"font-medium",children:[new Date(o.flightDate).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," at ",new Date(o.flightDate).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Customer"}),l.jsx("p",{className:"font-medium",children:o.customerName}),l.jsx("p",{className:"text-sm text-gray-600",children:o.customerEmail}),l.jsx("p",{className:"text-sm text-gray-600",children:o.customerPhone})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(Cc,{className:"w-5 h-5 mr-2 text-blue-600"}),"Passengers (",o.passengers.length,")"]}),l.jsx("div",{className:"space-y-3",children:o.passengers.map((p,g)=>l.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[l.jsxs("p",{className:"font-medium",children:[g+1,". ",p.firstName," ",p.lastName]}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Weight: ",p.weight,"kg"]}),p.wantsFrontSeat&&l.jsx("p",{className:"text-sm text-blue-600",children:" Front seat requested"}),p.additionalInfo&&l.jsxs("p",{className:"text-sm text-gray-600",children:["Note: ",p.additionalInfo]})]},p.id))})]})]}),o.specialRequests&&l.jsxs("div",{className:"mt-8 pt-6 border-t",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Special Requests"}),l.jsx("p",{className:"text-gray-600 bg-gray-50 rounded-lg p-3",children:o.specialRequests})]}),l.jsxs("div",{className:"mt-8 pt-6 border-t",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(qv,{className:"w-5 h-5 mr-2 text-blue-600"}),"Payment Summary"]}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Package Price"}),l.jsxs("span",{className:"font-medium",children:["$",o.basePrice]})]}),o.frontSeatFee>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Front Seat Requests"}),l.jsxs("span",{className:"font-medium",children:["$",o.frontSeatFee]})]}),o.cancellationProtection&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Cancellation Protection"}),l.jsxs("span",{className:"font-medium",children:["$",o.cancellationProtectionFee]})]}),l.jsx("div",{className:"border-t pt-2",children:l.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[l.jsx("span",{children:"Total Paid"}),l.jsxs("span",{className:"text-green-600",children:["$",o.totalPrice]})]})})]}),l.jsxs("p",{className:"text-sm text-gray-500 mt-3",children:["Payment ID: ",a]})]})]})]})]}),l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(xe,{onClick:h,variant:"outline",className:"flex items-center justify-center",children:[l.jsx($$,{className:"w-4 h-4 mr-2"}),"Download Confirmation"]}),l.jsxs(xe,{onClick:f,variant:"outline",className:"flex items-center justify-center",children:[l.jsx(r8,{className:"w-4 h-4 mr-2"}),"Share"]}),l.jsxs(xe,{onClick:()=>e("/helicopters"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 flex items-center justify-center",children:[l.jsx(W$,{className:"w-4 h-4 mr-2"}),"Book Another Flight"]})]}),l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-12 bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-3",children:"Important Information"}),l.jsxs("ul",{className:"space-y-2 text-sm text-yellow-700",children:[l.jsx("li",{children:" Please arrive 30 minutes before your scheduled departure time"}),l.jsx("li",{children:" Bring valid photo identification for all passengers"}),l.jsx("li",{children:" Weather conditions may affect flight schedules - we'll contact you if changes are needed"}),l.jsx("li",{children:" Front seat requests are subject to confirmation at check-in"}),o.cancellationProtection&&l.jsx("li",{children:" Cancellation protection allows changes up to 24 hours before departure"}),l.jsx("li",{children:" For questions or changes, contact us at support@helicopterluxury.com"})]})]})]})})},Uz=()=>{const[t,e]=C.useState(!1),n=async()=>{e(!0);try{const s={helicopterId:"h1",customerName:"Test Customer",customerEmail:"test@example.com",customerPhone:"+1234567890",flightDate:new Date("2025-07-15T10:00:00"),passengers:[{id:"p1",firstName:"John",lastName:"Doe",weight:70,additionalInfo:"Test passenger",wantsFrontSeat:!0}],basePrice:829,frontSeatFee:60,cancellationProtectionFee:88,totalPrice:977,cancellationProtection:!0,specialRequests:"Test booking from React app"},i=`TEST${Date.now()}`;await UP(s,i)?Se.success("Test pre-payment data saved successfully!"):Se.error("Failed to save test pre-payment data")}catch(s){Se.error("Error testing pre-payment data"),console.error(s)}finally{e(!1)}},r=async()=>{e(!0);try{const s=`TEST${Date.now()-6e4}`,i=`pi_test_${Date.now()}`;await FP(s,i)?Se.success("Payment status updated successfully!"):Se.error("Failed to update payment status (make sure booking reference exists)")}catch(s){Se.error("Error testing payment update"),console.error(s)}finally{e(!1)}};return l.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Google Sheets Integration Test"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Instructions:"}),l.jsxs("ol",{className:"text-blue-800 space-y-2",children:[l.jsx("li",{children:"1. Make sure you've completed the Google Apps Script setup"}),l.jsx("li",{children:"2. Update the GOOGLE_SHEETS_API_URL in googleSheets.ts"}),l.jsx("li",{children:"3. Click the buttons below to test the integration"}),l.jsx("li",{children:"4. Check your Google Sheet to see if data appears"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-4",children:"Test Pre-Payment Data"}),l.jsx("p",{className:"text-yellow-800 mb-4",children:'This will add a new row with "FORM_COMPLETED" status and "PENDING" payment ID.'}),l.jsx(xe,{onClick:n,disabled:t,className:"bg-yellow-600 hover:bg-yellow-700",children:t?"Testing...":"Test Pre-Payment"})]}),l.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-4",children:"Test Payment Update"}),l.jsx("p",{className:"text-green-800 mb-4",children:'This will update an existing row to "PAYMENT_CONFIRMED" status.'}),l.jsx(xe,{onClick:r,disabled:t,className:"bg-green-600 hover:bg-green-700",children:t?"Testing...":"Test Payment Update"})]})]}),l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Expected Google Sheet Structure:"}),l.jsx("div",{className:"bg-white p-4 rounded border overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-blue-500 text-white",children:[l.jsx("th",{className:"p-2 text-left",children:"Status"}),l.jsx("th",{className:"p-2 text-left",children:"Booking Reference"}),l.jsx("th",{className:"p-2 text-left",children:"Payment ID"}),l.jsx("th",{className:"p-2 text-left",children:"Customer Name"}),l.jsx("th",{className:"p-2 text-left",children:"Customer Email"}),l.jsx("th",{className:"p-2 text-left",children:"..."})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{className:"bg-yellow-100",children:[l.jsx("td",{className:"p-2",children:"FORM_COMPLETED"}),l.jsx("td",{className:"p-2",children:"TEST123456"}),l.jsx("td",{className:"p-2",children:"PENDING"}),l.jsx("td",{className:"p-2",children:"Test Customer"}),l.jsx("td",{className:"p-2",children:"test@example.com"}),l.jsx("td",{className:"p-2",children:"..."})]}),l.jsxs("tr",{className:"bg-green-100",children:[l.jsx("td",{className:"p-2",children:"PAYMENT_CONFIRMED"}),l.jsx("td",{className:"p-2",children:"TEST123456"}),l.jsx("td",{className:"p-2",children:"pi_confirmed123"}),l.jsx("td",{className:"p-2",children:"Test Customer"}),l.jsx("td",{className:"p-2",children:"test@example.com"}),l.jsx("td",{className:"p-2",children:"..."})]})]})]})})]})]})]})})})},Bz=()=>{const{helicopterId:t}=Ah(),e=Kn(),[n,r]=C.useState(!1),s="https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec",i=async o=>{o.preventDefault(),r(!0);const a=new FormData(o.target);a.append("helicopterId",t||""),a.append("timestamp",new Date().toISOString());try{if((await fetch(s,{method:"POST",body:a,mode:"cors"})).ok)Se.success("Booking submitted successfully! We will contact you shortly."),e("/simple-booking/confirmation");else throw new Error("Failed to submit")}catch(c){console.error("Error:",c),Se.error("Failed to submit booking. Please try again.")}finally{r(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12",children:l.jsx("div",{className:"max-w-2xl mx-auto px-4",children:l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Book Your Helicopter Flight"}),l.jsx("p",{className:"text-gray-600",children:"Fill out the form below and we'll contact you to confirm your booking"})]}),l.jsxs("form",{onSubmit:i,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(sc,{className:"inline w-4 h-4 mr-2"}),"Full Name *"]}),l.jsx("input",{type:"text",name:"customerName",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Ui,{className:"inline w-4 h-4 mr-2"}),"Email Address *"]}),l.jsx("input",{type:"email",name:"customerEmail",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Bi,{className:"inline w-4 h-4 mr-2"}),"Phone Number *"]}),l.jsx("input",{type:"tel",name:"customerPhone",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your phone number"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(da,{className:"inline w-4 h-4 mr-2"}),"Preferred Flight Date *"]}),l.jsx("input",{type:"date",name:"flightDate",required:!0,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Cc,{className:"inline w-4 h-4 mr-2"}),"Number of Passengers *"]}),l.jsxs("select",{name:"passengersCount",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"Select passengers"}),l.jsx("option",{value:"1",children:"1 Passenger"}),l.jsx("option",{value:"2",children:"2 Passengers"}),l.jsx("option",{value:"3",children:"3 Passengers"}),l.jsx("option",{value:"4",children:"4 Passengers"}),l.jsx("option",{value:"5",children:"5 Passengers"}),l.jsx("option",{value:"6",children:"6+ Passengers"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Time"}),l.jsxs("select",{name:"preferredTime",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"Select preferred time"}),l.jsx("option",{value:"morning",children:"Morning (9:00 AM - 12:00 PM)"}),l.jsx("option",{value:"afternoon",children:"Afternoon (12:00 PM - 5:00 PM)"}),l.jsx("option",{value:"evening",children:"Evening (5:00 PM - 8:00 PM)"}),l.jsx("option",{value:"flexible",children:"Flexible"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(rh,{className:"inline w-4 h-4 mr-2"}),"Special Requests or Questions"]}),l.jsx("textarea",{name:"specialRequests",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tell us about any special requests, dietary requirements, or questions you have..."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"frontSeatPreference",value:"yes",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"I'm interested in front seat options (additional cost may apply)"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"photographyService",value:"yes",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"I'm interested in professional photography service"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"newsletterSubscribe",value:"yes",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Subscribe to our newsletter for special offers"})]})]}),l.jsx("div",{className:"pt-6",children:l.jsx(xe,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-4 px-6 rounded-lg shadow-lg transition-all duration-200 transform hover:scale-[1.02]",children:n?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Booking Request"})}),l.jsx("div",{className:"text-center text-sm text-gray-500 pt-4",children:l.jsx("p",{children:"By submitting this form, you agree to our terms and conditions. We'll contact you within 24 hours to confirm your booking and provide payment details."})})]})]})})})},$z=()=>{const t=Kn();return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 py-12",children:l.jsx("div",{className:"max-w-2xl mx-auto px-4",children:l.jsxs(ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[l.jsx(ae.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(cr,{className:"w-10 h-10 text-green-600"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Booking Request Submitted!"}),l.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Thank you for your booking request. We've received your information and will contact you within 24 hours to confirm your helicopter flight."}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"What happens next?"}),l.jsxs("div",{className:"space-y-3 text-left",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx(da,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-blue-900",children:"1. Confirmation Call"}),l.jsx("p",{className:"text-blue-700 text-sm",children:"We'll call you within 24 hours to confirm your flight details and availability"})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx(Bi,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-blue-900",children:"2. Payment Information"}),l.jsx("p",{className:"text-blue-700 text-sm",children:"We'll provide secure payment options and pricing details"})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx(Ui,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-blue-900",children:"3. Final Confirmation"}),l.jsx("p",{className:"text-blue-700 text-sm",children:"You'll receive email confirmation with all flight details and instructions"})]})]})]})]}),l.jsx("div",{className:"bg-yellow-50 rounded-lg p-4 mb-8",children:l.jsxs("p",{className:"text-yellow-800 text-sm",children:[l.jsx("strong",{children:"Note:"})," Your booking is not confirmed until you receive a confirmation call from our team. If you don't hear from us within 24 hours, please contact us directly."]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(xe,{onClick:()=>t("/helicopters"),className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:"Browse More Helicopters"}),l.jsx(xe,{onClick:()=>t("/contact"),variant:"outline",className:"w-full",children:"Contact Us Directly"})]}),l.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:l.jsxs("p",{className:"text-sm text-gray-500",children:["Need immediate assistance? Call us at ",l.jsx("strong",{children:"(555) 123-4567"})," or email ",l.jsx("strong",{children:"info@helicopterluxury.com"})]})})]})})})};class zz{constructor(){this.storageKey="helicopter-bookings",this.fallbackStorageKey="helicopter-bookings-fallback"}saveBookingData(e,n="FORM_COMPLETED"){try{const r={id:this.generateBookingId(),status:n,timestamp:new Date().toISOString(),submittedAt:new Date().toLocaleString(),...e,userAgent:navigator.userAgent,referrer:document.referrer,currentUrl:window.location.href},s=this.getAllBookings();return s.push(r),localStorage.setItem(this.storageKey,JSON.stringify(s)),console.log(" Booking saved successfully:",r),!0}catch(r){return console.error(" Failed to save booking:",r),!1}}getAllBookings(){try{const e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):[]}catch(e){return console.error("Error retrieving bookings:",e),[]}}updateBookingStatus(e,n,r){try{const s=this.getAllBookings(),i=s.findIndex(o=>o.id===e);return i!==-1?(s[i]={...s[i],status:n,lastUpdated:new Date().toISOString(),...r&&{paymentData:r}},localStorage.setItem(this.storageKey,JSON.stringify(s)),console.log(" Booking status updated:",e,n),!0):(console.warn(" Booking not found:",e),!1)}catch(s){return console.error(" Failed to update booking status:",s),!1}}generateBookingId(){const e=Date.now().toString(),n=Math.random().toString(36).substr(2,9);return`BOOK-${e}-${n}`}exportBookingsAsCSV(){try{const e=this.getAllBookings();if(e.length===0){alert("No bookings found to export.");return}const r=[["Booking ID","Status","Customer Name","Customer Email","Customer Phone","Flight Date","Passengers Count","Helicopter ID","Base Price","Total Price","Special Requests","Submitted At","Last Updated"].join(","),...e.map(a=>{var c;return[a.id||"",a.status||"",a.customerName||"",a.customerEmail||"",a.customerPhone||"",a.flightDate||"",((c=a.passengers)==null?void 0:c.length)||"",a.helicopterId||"",a.basePrice||"",a.totalPrice||"",a.specialRequests||"",a.submittedAt||"",a.lastUpdated||a.timestamp||""].map(d=>`"${String(d).replace(/"/g,'""')}"`).join(",")})].join(`
`),s=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),o=URL.createObjectURL(s);i.setAttribute("href",o),i.setAttribute("download",`helicopter-bookings-${new Date().toISOString().split("T")[0]}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),console.log(" CSV export completed successfully")}catch(e){console.error(" Error exporting bookings as CSV:",e),alert("Failed to export bookings. Please try again.")}}clearAllBookings(){localStorage.removeItem(this.storageKey),localStorage.removeItem(this.fallbackStorageKey),console.log(" All bookings cleared")}getBookingStats(){const e=this.getAllBookings(),n={total:e.length,byStatus:{},totalRevenue:0,recentBookings:e.slice(-10).reverse()};return e.forEach(r=>{const s=r.status||"unknown";n.byStatus[s]=(n.byStatus[s]||0)+1,r.totalPrice&&(n.totalRevenue+=parseFloat(r.totalPrice)||0)}),n}}const Mp=new zz,Hz=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(!0);C.useEffect(()=>{(()=>{r(!0);const a=Mp.getAllBookings();e(a),r(!1)})()},[]);const s=()=>{const o=Mp.getAllBookings();e(o)},i=()=>{Mp.exportBookingsAsCSV()};return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white py-12",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-xl p-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Helicopter Bookings Dashboard"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs(xe,{variant:"outline",onClick:s,className:"flex items-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),l.jsxs(xe,{onClick:i,disabled:t.length===0,className:"flex items-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export CSV"]})]})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Summary"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Bookings"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.length})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",t.reduce((o,a)=>o+(a.totalPrice||0),0).toLocaleString()]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Passengers"}),l.jsx("p",{className:"text-2xl font-bold text-purple-600",children:t.reduce((o,a)=>o+(a.passengersCount||0),0)})]})]})]})}),t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No bookings yet"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Booking data will appear here when customers complete their reservations."})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking Details"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Flight"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Passengers"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((o,a)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.bookingReference}),l.jsx("div",{className:"text-sm text-gray-500",children:o.paymentId}),l.jsx("div",{className:"text-sm text-gray-500",children:o.bookingDateTime})]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.customerName}),l.jsx("div",{className:"text-sm text-gray-500",children:o.customerEmail}),l.jsx("div",{className:"text-sm text-gray-500",children:o.customerPhone})]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.flightDate}),l.jsx("div",{className:"text-sm text-gray-500",children:o.flightTime})]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[o.passengersCount," passengers"]}),l.jsx("div",{className:"text-sm text-gray-500",children:o.frontSeatRequests!=="None"?`Front seat: ${o.frontSeatRequests}`:"No front seat requests"})]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsxs("div",{className:"text-sm font-medium text-green-600",children:["$",o.totalPrice]}),l.jsx("div",{className:"text-sm text-gray-500",children:o.cancellationProtection?"Protected":"Standard"})]})]},a))})]})})]})})})},Wz=()=>l.jsxs(l.Fragment,{children:[l.jsxs(zo,{children:[l.jsx("title",{children:"Privacy Policy - Vanguard Helicopters"}),l.jsx("meta",{name:"description",content:"Privacy Policy for Vanguard Helicopters - Your privacy is important to us."})]}),l.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Privacy Policy"}),l.jsxs("p",{className:"text-gray-600 mb-6",children:[l.jsx("strong",{children:"Effective Date:"})," July 13, 2025"]}),l.jsxs("div",{className:"space-y-6 text-gray-700",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"1. Information We Collect"}),l.jsx("p",{className:"mb-3",children:"When you use our helicopter booking services, we collect the following information:"}),l.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[l.jsx("li",{children:"Personal information (name, email address, phone number)"}),l.jsx("li",{children:"Payment information (processed securely through Stripe)"}),l.jsx("li",{children:"Booking details (flight dates, passenger information, special requests)"}),l.jsx("li",{children:"Communication records (emails, phone calls, chat messages)"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2. How We Use Your Information"}),l.jsx("p",{className:"mb-3",children:"We use your information to:"}),l.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[l.jsx("li",{children:"Process your helicopter booking and payment"}),l.jsx("li",{children:"Communicate with you about your reservation"}),l.jsx("li",{children:"Provide customer support"}),l.jsx("li",{children:"Send booking confirmations and updates"}),l.jsx("li",{children:"Improve our services"}),l.jsx("li",{children:"Comply with legal obligations"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"3. Information Sharing"}),l.jsx("p",{className:"mb-3",children:"We do not sell, trade, or share your personal information with third parties except:"}),l.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[l.jsx("li",{children:"With payment processors (Stripe) to process transactions"}),l.jsx("li",{children:"With service providers who assist in our operations"}),l.jsx("li",{children:"When required by law or to protect our rights"}),l.jsx("li",{children:"With your explicit consent"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"4. Data Security"}),l.jsx("p",{children:"We implement appropriate security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. All payment information is processed through secure, encrypted connections."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5. Data Retention"}),l.jsx("p",{children:"We retain your personal information only as long as necessary to provide our services and comply with legal obligations. Booking records are typically retained for 7 years for tax and safety compliance purposes."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6. Your Rights"}),l.jsx("p",{className:"mb-3",children:"You have the right to:"}),l.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[l.jsx("li",{children:"Access your personal information"}),l.jsx("li",{children:"Correct inaccurate information"}),l.jsx("li",{children:"Request deletion of your information"}),l.jsx("li",{children:"Opt out of marketing communications"}),l.jsx("li",{children:"File a complaint with supervisory authorities"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"7. Cookies"}),l.jsx("p",{children:"We use cookies to improve your experience on our website. For detailed information about our cookie usage, please see our Cookie Policy."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"8. Contact Us"}),l.jsx("p",{className:"mb-3",children:"If you have any questions about this Privacy Policy, please contact us:"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," vanguardhelicopter@gmail.com"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Phone:"})," +44 7939 956301"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Address:"})," 123 Aviation Drive, Chicago, IL 60601"]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"9. Changes to This Policy"}),l.jsx("p",{children:"We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new policy on this page with an updated effective date."})]})]})]})})})]}),qz=()=>l.jsxs(l.Fragment,{children:[l.jsxs(zo,{children:[l.jsx("title",{children:"Terms of Service - Vanguard Helicopters"}),l.jsx("meta",{name:"description",content:"Terms of Service for Vanguard Helicopters - Professional helicopter rental services."})]}),l.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Terms of Service"}),l.jsxs("p",{className:"text-gray-600 mb-6",children:[l.jsx("strong",{children:"Effective Date:"})," July 13, 2025"]}),l.jsxs("div",{className:"space-y-6 text-gray-700",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"1. Acceptance of Terms"}),l.jsx("p",{children:"By using Vanguard Helicopters' services, you agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our services."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2. Service Description"}),l.jsx("p",{className:"mb-3",children:"Vanguard Helicopters provides luxury helicopter rental services including:"}),l.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[l.jsx("li",{children:"Scenic helicopter tours"}),l.jsx("li",{children:"Business and executive transportation"}),l.jsx("li",{children:"Special event transportation"}),l.jsx("li",{children:"Charter flights"}),l.jsx("li",{children:"Photography and filming flights"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"3. Booking and Payment"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"3.1 Reservations"}),l.jsx("p",{children:"All bookings must be made through our online platform or by contacting us directly."}),l.jsx("h3",{className:"font-semibold",children:"3.2 Payment"}),l.jsx("p",{children:"Full payment is required at the time of booking. We accept major credit cards through our secure payment processor."}),l.jsx("h3",{className:"font-semibold",children:"3.3 Pricing"}),l.jsx("p",{children:"Prices are subject to change without notice. The price confirmed at booking is final."})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"4. Cancellation Policy"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"4.1 Customer Cancellations"}),l.jsxs("ul",{className:"list-disc ml-6 space-y-1",children:[l.jsx("li",{children:"Cancellations made 48+ hours before flight: Full refund"}),l.jsx("li",{children:"Cancellations made 24-48 hours before flight: 50% refund"}),l.jsx("li",{children:"Cancellations made less than 24 hours before flight: No refund"})]}),l.jsx("h3",{className:"font-semibold",children:"4.2 Weather Cancellations"}),l.jsx("p",{children:"Flights canceled due to weather conditions receive a full refund or can be rescheduled at no additional cost."}),l.jsx("h3",{className:"font-semibold",children:"4.3 Mechanical Issues"}),l.jsx("p",{children:"Flights canceled due to mechanical or safety issues receive a full refund."})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5. Safety Requirements"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"5.1 Passenger Requirements"}),l.jsxs("ul",{className:"list-disc ml-6 space-y-1",children:[l.jsx("li",{children:"All passengers must be at least 2 years old"}),l.jsx("li",{children:"Weight restrictions apply (maximum 300 lbs per passenger)"}),l.jsx("li",{children:"Valid photo ID required for all passengers"}),l.jsx("li",{children:"Passengers must arrive sober and drug-free"})]}),l.jsx("h3",{className:"font-semibold",children:"5.2 Safety Briefing"}),l.jsx("p",{children:"All passengers must attend a mandatory safety briefing before flight."}),l.jsx("h3",{className:"font-semibold",children:"5.3 Pilot Authority"}),l.jsx("p",{children:"The pilot has final authority on all safety matters and flight decisions."})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6. Liability and Insurance"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"6.1 Limitation of Liability"}),l.jsx("p",{children:"Vanguard Helicopters' liability is limited to the amount paid for the service. We are not liable for indirect, incidental, or consequential damages."}),l.jsx("h3",{className:"font-semibold",children:"6.2 Insurance"}),l.jsx("p",{children:"All aircraft are fully insured in accordance with aviation regulations."}),l.jsx("h3",{className:"font-semibold",children:"6.3 Passenger Responsibility"}),l.jsx("p",{children:"Passengers participate at their own risk and must follow all safety instructions."})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"7. Prohibited Items"}),l.jsx("p",{className:"mb-3",children:"The following items are prohibited on all flights:"}),l.jsxs("ul",{className:"list-disc ml-6 space-y-1",children:[l.jsx("li",{children:"Weapons of any kind"}),l.jsx("li",{children:"Illegal drugs or substances"}),l.jsx("li",{children:"Alcohol (unless pre-approved for special events)"}),l.jsx("li",{children:"Hazardous materials"}),l.jsx("li",{children:"Large bags or luggage (small personal items only)"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"8. Photography and Privacy"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"8.1 Personal Photography"}),l.jsx("p",{children:"Passengers may take photos and videos for personal use during the flight."}),l.jsx("h3",{className:"font-semibold",children:"8.2 Commercial Use"}),l.jsx("p",{children:"Commercial photography or filming requires prior written approval and may incur additional fees."}),l.jsx("h3",{className:"font-semibold",children:"8.3 Privacy"}),l.jsx("p",{children:"We respect passenger privacy and do not share personal information without consent."})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"9. Force Majeure"}),l.jsx("p",{children:"We are not liable for delays or cancellations due to circumstances beyond our control, including but not limited to weather, natural disasters, government actions, or other acts of God."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"10. Governing Law"}),l.jsx("p",{children:"These terms are governed by the laws of Illinois, United States. Any disputes shall be resolved in the courts of Chicago, Illinois."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"11. Contact Information"}),l.jsx("p",{className:"mb-3",children:"For questions about these Terms of Service, please contact us:"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," vanguardhelicopter@gmail.com"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Phone:"})," +44 7939 956301"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Address:"})," 123 Aviation Drive, Chicago, IL 60601"]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"12. Changes to Terms"}),l.jsx("p",{children:"We reserve the right to modify these Terms of Service at any time. Changes will be effective immediately upon posting. Continued use of our services constitutes acceptance of the modified terms."})]})]})]})})})]}),Gz=()=>l.jsxs(l.Fragment,{children:[l.jsxs(zo,{children:[l.jsx("title",{children:"Cookie Policy - Vanguard Helicopters"}),l.jsx("meta",{name:"description",content:"Cookie Policy for Vanguard Helicopters - How we use cookies on our website."})]}),l.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Cookie Policy"}),l.jsxs("p",{className:"text-gray-600 mb-6",children:[l.jsx("strong",{children:"Effective Date:"})," July 13, 2025"]}),l.jsxs("div",{className:"space-y-6 text-gray-700",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"1. What Are Cookies?"}),l.jsx("p",{children:"Cookies are small text files that are placed on your device when you visit our website. They help us provide you with a better browsing experience by remembering your preferences and analyzing how you use our site."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2. How We Use Cookies"}),l.jsx("p",{className:"mb-3",children:"We use cookies for the following purposes:"}),l.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[l.jsx("li",{children:"To remember your preferences and settings"}),l.jsx("li",{children:"To analyze website traffic and usage patterns"}),l.jsx("li",{children:"To improve our website functionality"}),l.jsx("li",{children:"To provide personalized content and advertisements"}),l.jsx("li",{children:"To process payments securely"}),l.jsx("li",{children:"To ensure website security"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"3. Types of Cookies We Use"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Essential Cookies"}),l.jsx("p",{className:"text-sm text-gray-600",children:"These cookies are necessary for the website to function properly. They enable core functionality such as security, network management, and accessibility."})]}),l.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Performance Cookies"}),l.jsx("p",{className:"text-sm text-gray-600",children:"These cookies collect information about how you use our website, such as which pages you visit most often. This data helps us improve our website performance."})]}),l.jsxs("div",{className:"border-l-4 border-yellow-500 pl-4",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Functionality Cookies"}),l.jsx("p",{className:"text-sm text-gray-600",children:"These cookies remember choices you make (such as language preferences) and provide enhanced, more personalized features."})]}),l.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Marketing Cookies"}),l.jsx("p",{className:"text-sm text-gray-600",children:"These cookies track your online activity to help advertisers deliver more relevant advertising or to limit how many times you see an ad."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"4. Third-Party Cookies"}),l.jsx("p",{className:"mb-3",children:"We may use third-party services that set cookies on our website, including:"}),l.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Google Analytics:"})," To analyze website traffic and user behavior"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Stripe:"})," For secure payment processing"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Social Media Platforms:"})," For social media integration and sharing"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Customer Support:"})," For live chat and customer service features"]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5. Cookie Duration"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:"Session Cookies"}),l.jsx("p",{className:"text-sm text-gray-600",children:"These cookies are temporary and are deleted when you close your browser."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:"Persistent Cookies"}),l.jsx("p",{className:"text-sm text-gray-600",children:"These cookies remain on your device for a specified period or until you delete them."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6. Managing Your Cookie Preferences"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"Browser Settings"}),l.jsx("p",{className:"mb-3",children:"You can control and manage cookies through your browser settings. Most browsers allow you to:"}),l.jsxs("ul",{className:"list-disc ml-6 space-y-1",children:[l.jsx("li",{children:"View what cookies are stored on your device"}),l.jsx("li",{children:"Delete cookies"}),l.jsx("li",{children:"Block cookies from specific sites"}),l.jsx("li",{children:"Block all cookies"}),l.jsx("li",{children:"Delete all cookies when you close your browser"})]}),l.jsx("h3",{className:"font-semibold mt-4",children:"Cookie Consent"}),l.jsx("p",{children:"When you first visit our website, we may ask for your consent to use cookies. You can withdraw your consent at any time by adjusting your browser settings."})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"7. Impact of Disabling Cookies"}),l.jsx("p",{className:"mb-3",children:"If you disable cookies, some features of our website may not work properly, including:"}),l.jsxs("ul",{className:"list-disc ml-6 space-y-1",children:[l.jsx("li",{children:"Booking and payment processes"}),l.jsx("li",{children:"Personalized content and recommendations"}),l.jsx("li",{children:"Login functionality"}),l.jsx("li",{children:"Shopping cart features"}),l.jsx("li",{children:"Website analytics and improvements"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"8. Mobile Devices"}),l.jsx("p",{children:"For mobile devices, you can manage cookies through your device settings or through the browser you use to access our website."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"9. Updates to This Policy"}),l.jsx("p",{children:"We may update this Cookie Policy from time to time to reflect changes in our practices or for other operational, legal, or regulatory reasons. Please check this page regularly for updates."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"10. Contact Us"}),l.jsx("p",{className:"mb-3",children:"If you have any questions about our use of cookies, please contact us:"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," vanguardhelicopter@gmail.com"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Phone:"})," +44 7939 956301"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Address:"})," 123 Aviation Drive, Chicago, IL 60601"]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"11. Useful Links"}),l.jsx("p",{className:"mb-3",children:"For more information about cookies and how to manage them, visit:"}),l.jsxs("ul",{className:"list-disc ml-6 space-y-1",children:[l.jsx("li",{children:l.jsx("a",{href:"https://www.allaboutcookies.org/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"AllAboutCookies.org"})}),l.jsx("li",{children:l.jsx("a",{href:"https://www.youronlinechoices.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Your Online Choices"})}),l.jsx("li",{children:l.jsx("a",{href:"https://cookiesandyou.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Cookies & You"})})]})]})]})]})})})]});function Kz(){return l.jsx(x5,{children:l.jsxs(l.Fragment,{children:[l.jsxs(zo,{children:[l.jsx("title",{children:"Helicopter Luxury Rentals - Premium Flight Experiences"}),l.jsx("meta",{name:"description",content:"Book luxury helicopter flights and experiences with the finest fleet and professional pilots."}),l.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),l.jsx(j2,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(c8,{}),l.jsx("main",{className:"flex-grow",children:l.jsxs(b2,{children:[l.jsx(Ze,{path:"/",element:l.jsx(W1,{})}),l.jsx(Ze,{path:"/helicopters",element:l.jsx(W1,{})}),l.jsx(Ze,{path:"/helicopters/:id",element:l.jsx(m8,{})}),l.jsx(Ze,{path:"/booking/:helicopterId",element:l.jsx(az,{})}),l.jsx(Ze,{path:"/simple-booking/:helicopterId",element:l.jsx(Bz,{})}),l.jsx(Ze,{path:"/simple-booking/confirmation",element:l.jsx($z,{})}),l.jsx(Ze,{path:"/booking/payment",element:l.jsx(Mz,{})}),l.jsx(Ze,{path:"/booking/confirmation",element:l.jsx(Fz,{})}),l.jsx(Ze,{path:"/services",element:l.jsx(b8,{})}),l.jsx(Ze,{path:"/blog",element:l.jsx(y8,{})}),l.jsx(Ze,{path:"/blog/:slug",element:l.jsx(w8,{})}),l.jsx(Ze,{path:"/contact",element:l.jsx(ez,{})}),l.jsx(Ze,{path:"/signin",element:l.jsx(tz,{})}),l.jsx(Ze,{path:"/register",element:l.jsx(nz,{})}),l.jsx(Ze,{path:"/dashboard",element:l.jsx(oz,{})}),l.jsx(Ze,{path:"/admin",element:l.jsx(Hz,{})}),l.jsx(Ze,{path:"/test-google-sheets",element:l.jsx(Uz,{})}),l.jsx(Ze,{path:"/privacy",element:l.jsx(Wz,{})}),l.jsx(Ze,{path:"/terms",element:l.jsx(qz,{})}),l.jsx(Ze,{path:"/cookies",element:l.jsx(Gz,{})})]})}),l.jsx(u8,{}),l.jsx(wD,{position:"top-right"})]})})]})})}Sb(document.getElementById("root")).render(l.jsx(C.StrictMode,{children:l.jsx(Kz,{})}));
